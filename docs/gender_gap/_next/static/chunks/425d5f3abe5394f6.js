(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63688,e=>{"use strict";var t,a,i,n=e.i(43476),r=e.i(71933),o=e.i(6487),s=e.i(8579),l=e.i(1598),u=e.i(35520),d=e.i(7376),c=e.i(10686),p=e.i(3894),h=e.i(79273),g=e.i(97505),f=e.i(82289),y=function(e){function t(t){var a=e.call(this)||this;a._zr=t;var i=(0,u.bind)(a._mousedownHandler,a),n=(0,u.bind)(a._mousemoveHandler,a),r=(0,u.bind)(a._mouseupHandler,a),o=(0,u.bind)(a._mousewheelHandler,a),s=(0,u.bind)(a._pinchHandler,a);return a.enable=function(e,a){var l=a.zInfo,d=(0,g.retrieveZInfo)(l.component),c=d.z,p=d.zlevel,h={component:l.component,z:c,zlevel:p,z2:(0,u.retrieve2)(l.z2,-1/0)},f=(0,u.extend)({},a.triggerInfo);this._opt=(0,u.defaults)((0,u.extend)({},a),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:h,triggerInfo:f}),null==e&&(e=!0),this._enabled&&this._controlType===e||(this._enabled=!0,this.disable(),(!0===e||"move"===e||"pan"===e)&&(_(t,"mousedown",i,h),_(t,"mousemove",n,h),_(t,"mouseup",r,h)),(!0===e||"scale"===e||"zoom"===e)&&(_(t,"mousewheel",o,h),_(t,"pinch",s,h)))},a.disable=function(){this._enabled=!1,b(t,"mousedown",i),b(t,"mousemove",n),b(t,"mouseup",r),b(t,"mousewheel",o),b(t,"pinch",s)},a}return(0,s.__extends)(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype._checkPointer=function(e,t,a){var i=this._opt,n=i.zInfoParsed;if((0,f.onIrrelevantElement)(e,i.api,n.component))return!1;var r=i.triggerInfo,o=r.roamTrigger,s=!1;return"global"===o&&(s=!0),s||(s=r.isInSelf(e,t,a)),s&&r.isInClip&&!r.isInClip(e,t,a)&&(s=!1),s},t.prototype._decideCursorStyle=function(e,t,a,i){var n=e.target;return!n&&this._checkPointer(e,t,a)?"grab":i?n&&n.cursor||"default":void 0},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(c.isMiddleOrRightButtonOnMouseUpDown(e)||m(e))){for(var t=e.target;t;){if(t.draggable)return;t=t.__hostTarget||t.parent}var a=e.offsetX,i=e.offsetY;this._checkPointer(e,a,i)&&(this._x=a,this._y=i,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){var t=this._zr;if(!("pinch"===e.gestureEvent||p.isTaken(t,"globalPan")||m(e))){var a=e.offsetX,i=e.offsetY;if(!this._dragging||!w("moveOnMouseMove",e,this._opt)){var n=this._decideCursorStyle(e,a,i,!1);n&&t.setCursorStyle(n);return}t.setCursorStyle("grabbing");var r=this._x,o=this._y,s=a-r,l=i-o;this._x=a,this._y=i,this._opt.preventDefaultMouseMove&&c.stop(e.event),e.__ecRoamConsumed=!0,S(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:r,oldY:o,newX:a,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){if(!m(e)){var t=this._zr;if(!c.isMiddleOrRightButtonOnMouseUpDown(e)){this._dragging=!1;var a=this._decideCursorStyle(e,e.offsetX,e.offsetY,!0);a&&t.setCursorStyle(a)}}},t.prototype._mousewheelHandler=function(e){if(!m(e)){var t=w("zoomOnMouseWheel",e,this._opt),a=w("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,n=Math.abs(i),r=e.offsetX,o=e.offsetY;if(0!==i&&(t||a)){if(t){var s=n>3?1.4:n>1?1.2:1.1;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",e,{scale:i>0?s:1/s,originX:r,originY:o,isAvailableBehavior:null})}if(a){var l=Math.abs(i);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(i>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:r,originY:o,isAvailableBehavior:null})}}}},t.prototype._pinchHandler=function(e){if(!(p.isTaken(this._zr,"globalPan")||m(e))){var t=e.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t.prototype._checkTriggerMoveZoom=function(e,t,a,i,n){e._checkPointer(i,n.originX,n.originY)&&(c.stop(i.event),i.__ecRoamConsumed=!0,S(e,t,a,i,n))},t}(d.default);function m(e){return e.__ecRoamConsumed}var v=(0,h.makeInner)();function x(e){var t=v(e);return t.roam=t.roam||{},t.uniform=t.uniform||{},t}function _(e,t,a,i){for(var n,r,o,s=x(e).roam,l=s[t]=s[t]||[],u=0;u<l.length;u++){var d=l[u].zInfoParsed;if(0>=(d.zlevel-i.zlevel||d.z-i.z||d.z2-i.z2))break}l.splice(u,0,{listener:a,zInfoParsed:i}),n=e,r=t,(o=x(n)).uniform[r]||n.on(r,o.uniform[r]=function(e){var t=o.roam[r];if(t)for(var a=0;a<t.length;a++)t[a].listener(e)})}function b(e,t,a){for(var i=x(e).roam[t]||[],n=0;n<i.length;n++)if(i[n].listener===a){i.splice(n,1),i.length||function(e,t){var a=x(e).uniform;a[t]&&(e.off(t,a[t]),a[t]=null)}(e,t);return}}function S(e,t,a,i,n){n.isAvailableBehavior=(0,u.bind)(w,null,a,i),e.trigger(t,n)}function w(e,t,a){var i=a[e];return!e||i&&(!(0,u.isString)(i)||t.event[i+"Key"])}var M=e.i(59211),M=M;function I(e,t,a){var i=e.target;i.x+=t,i.y+=a,i.dirty()}function A(e,t,a,i){var n=e.target,r=e.zoomLimit,o=e.zoom=e.zoom||1;o*=t;var s=(o=P(o,r))/e.zoom;e.zoom=o,D(n,a,i,s),n.dirty()}function L(e,t,a,i,n,r){var o=new M.default(0,0,0,0);i.enable(e.get("roam"),{api:t,zInfo:{component:e},triggerInfo:{roamTrigger:e.get("roamTrigger"),isInSelf:function(e,t,i){return o.copy(a.getBoundingRect()),o.applyTransform(a.getComputedTransform()),o.contain(t,i)},isInClip:function(e,t,a){return!r||r.contain(t,a)}}}),n.zoomLimit=e.get("scaleLimit");var s=e.coordinateSystem;n.zoom=s?s.getZoom():1;var l=e.subType+"Roam";i.off("pan").off("zoom").on("pan",function(a){I(n,a.dx,a.dy),t.dispatchAction({seriesId:e.id,type:l,dx:a.dx,dy:a.dy})}).on("zoom",function(a){A(n,a.scale,a.originX,a.originY),t.dispatchAction({seriesId:e.id,type:l,zoom:a.scale,originX:a.originX,originY:a.originY}),t.updateLabelLayout()})}function T(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function C(e,t,a){var i=e.getZoom(),n=e.getCenter(),r=t.zoom,o=e.projectedToPoint?e.projectedToPoint(n):e.dataToPoint(n);return null!=t.dx&&null!=t.dy&&(o[0]-=t.dx,o[1]-=t.dy,e.setCenter(T(e,o))),null!=r&&(r=P(i*r,a)/i,D(e,t.originX,t.originY,r),e.updateTransform(),e.setCenter(T(e,o)),e.setZoom(r*i)),{center:e.getCenter(),zoom:e.getZoom()}}function D(e,t,a,i){e.x-=(t-e.x)*(i-1),e.y-=(a-e.y)*(i-1),e.scaleX*=i,e.scaleY*=i}function P(e,t){if(t){var a=t.min||0;e=Math.max(Math.min(t.max||1/0,e),a)}return e}var k=e.i(72965),E=e.i(10322),N=e.i(76972),R=e.i(25215),O=e.i(41439),z=e.i(42033),z=z,V=e.i(27981);e.i(47167);var G=e.i(33908),B=e.i(85953),F=e.i(75273),H=e.i(78655),W=e.i(86405),Y=e.i(55235),X=e.i(52699),U=e.i(84532),Z=e.i(99386),j=e.i(36491),q=e.i(93782),K=e.i(26947),J=e.i(94704);function $(e){(0,u.isString)(e)&&(e=new DOMParser().parseFromString(e,"text/xml"));var t=e;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var Q=e.i(14670),ee={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},et=(0,u.keys)(ee),ea={"alignment-baseline":"textBaseline","stop-color":"stopColor"},ei=(0,u.keys)(ea),en=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(e,t){t=t||{};var a,i,n=$(e);this._defsUsePending=[];var r=new G.default;this._root=r;var o=[],s=n.getAttribute("viewBox")||"",l=parseFloat(n.getAttribute("width")||t.width),u=parseFloat(n.getAttribute("height")||t.height);isNaN(l)&&(l=null),isNaN(u)&&(u=null),ed(n,r,null,!0,!1);for(var d=n.firstChild;d;)this._parseNode(d,r,o,null,!1,!1),d=d.nextSibling;if(function(e,t){for(var a=0;a<t.length;a++){var i=t[a];i[0].style[i[1]]=e[i[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],s){var c=eg(s);c.length>=4&&(a={x:parseFloat(c[0]||0),y:parseFloat(c[1]||0),width:parseFloat(c[2]),height:parseFloat(c[3])})}if(a&&null!=l&&null!=u&&(i=ex(a,{x:0,y:0,width:l,height:u}),!t.ignoreViewBox)){var p=r;(r=new G.default).add(p),p.scaleX=p.scaleY=i.scale,p.x=i.x,p.y=i.y}return t.ignoreRootClip||null==l||null==u||r.setClipPath(new H.default({shape:{x:0,y:0,width:l,height:u}})),{root:r,width:l,height:u,viewBoxRect:a,viewBoxTransform:i,named:o}},e.prototype._parseNode=function(e,t,a,n,r,o){var s,l=e.nodeName.toLowerCase(),d=n;if("defs"===l&&(r=!0),"text"===l&&(o=!0),"defs"===l||"switch"===l)s=t;else{if(!r){var c=i[l];if(c&&(0,u.hasOwn)(i,l)){s=c.call(this,e,t);var p=e.getAttribute("name");if(p){var h={name:p,namedFrom:null,svgNodeTagLower:l,el:s};a.push(h),"g"===l&&(d=h)}else n&&a.push({name:n.name,namedFrom:n,svgNodeTagLower:l,el:s});t.add(s)}}var g=er[l];if(g&&(0,u.hasOwn)(er,l)){var f=g.call(this,e),y=e.getAttribute("id");y&&(this._defs[y]=f)}}if(s&&s.isGroup)for(var m=e.firstChild;m;)1===m.nodeType?this._parseNode(m,s,a,d,r,o):3===m.nodeType&&o&&this._parseText(m,s),m=m.nextSibling},e.prototype._parseText=function(e,t){var a=new J.default({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});el(t,a),ed(e,a,this._defsUsePending,!1,!1),function(e,t){var a=t.__selfStyle;if(a){var i=a.textBaseline,n=i;i&&"auto"!==i?"baseline"===i?n="alphabetic":"before-edge"===i||"text-before-edge"===i?n="top":"after-edge"===i||"text-after-edge"===i?n="bottom":("central"===i||"mathematical"===i)&&(n="middle"):n="alphabetic",e.style.textBaseline=n}var r=t.__inheritedStyle;if(r){var o=r.textAlign,s=o;o&&("middle"===o&&(s="center"),e.style.textAlign=s)}}(a,t);var i=a.style,n=i.fontSize;n&&n<9&&(i.fontSize=9,a.scaleX*=n/9,a.scaleY*=n/9);var r=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=r;var o=a.getBoundingRect();return this._textX+=o.width,t.add(a),a},e.internalField=void(i={g:function(e,t){var a=new G.default;return el(t,a),ed(e,a,this._defsUsePending,!1,!1),a},rect:function(e,t){var a=new H.default;return el(t,a),ed(e,a,this._defsUsePending,!1,!1),a.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),a.silent=!0,a},circle:function(e,t){var a=new F.default;return el(t,a),ed(e,a,this._defsUsePending,!1,!1),a.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),a.silent=!0,a},line:function(e,t){var a=new Y.default;return el(t,a),ed(e,a,this._defsUsePending,!1,!1),a.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),a.silent=!0,a},ellipse:function(e,t){var a=new W.default;return el(t,a),ed(e,a,this._defsUsePending,!1,!1),a.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),a.silent=!0,a},polygon:function(e,t){var a,i=e.getAttribute("points");i&&(a=eu(i));var n=new X.default({shape:{points:a||[]},silent:!0});return el(t,n),ed(e,n,this._defsUsePending,!1,!1),n},polyline:function(e,t){var a,i=e.getAttribute("points");i&&(a=eu(i));var n=new U.default({shape:{points:a||[]},silent:!0});return el(t,n),ed(e,n,this._defsUsePending,!1,!1),n},image:function(e,t){var a=new B.default;return el(t,a),ed(e,a,this._defsUsePending,!1,!1),a.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),a.silent=!0,a},text:function(e,t){var a=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",n=e.getAttribute("dx")||"0",r=e.getAttribute("dy")||"0";this._textX=parseFloat(a)+parseFloat(n),this._textY=parseFloat(i)+parseFloat(r);var o=new G.default;return el(t,o),ed(e,o,this._defsUsePending,!1,!0),o},tspan:function(e,t){var a=e.getAttribute("x"),i=e.getAttribute("y");null!=a&&(this._textX=parseFloat(a)),null!=i&&(this._textY=parseFloat(i));var n=e.getAttribute("dx")||"0",r=e.getAttribute("dy")||"0",o=new G.default;return el(t,o),ed(e,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(n),this._textY+=parseFloat(r),o},path:function(e,t){var a=e.getAttribute("d")||"",i=(0,j.createFromString)(a);return el(t,i),ed(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}),e}(),er={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),a=parseInt(e.getAttribute("y1")||"0",10),i=parseInt(e.getAttribute("x2")||"10",10),n=parseInt(e.getAttribute("y2")||"0",10),r=new q.default(t,a,i,n);return eo(e,r),es(e,r),r},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),a=parseInt(e.getAttribute("cy")||"0",10),i=parseInt(e.getAttribute("r")||"0",10),n=new K.default(t,a,i);return eo(e,n),es(e,n),n}};function eo(e,t){"userSpaceOnUse"===e.getAttribute("gradientUnits")&&(t.global=!0)}function es(e,t){for(var a=e.firstChild;a;){if(1===a.nodeType&&"stop"===a.nodeName.toLocaleLowerCase()){var i=a.getAttribute("offset"),n=void 0;n=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var r={};ev(a,r,r);var o=r.stopColor||a.getAttribute("stop-color")||"#000000",s=r.stopOpacity||a.getAttribute("stop-opacity");if(s){var l=Q.parse(o);l&&l[3]&&(l[3]*=Q.parseCssFloat(s),o=Q.stringify(l,"rgba"))}t.colorStops.push({offset:n,color:o})}a=a.nextSibling}}function el(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),(0,u.defaults)(t.__inheritedStyle,e.__inheritedStyle))}function eu(e){for(var t=eg(e),a=[],i=0;i<t.length;i+=2){var n=parseFloat(t[i]),r=parseFloat(t[i+1]);a.push([n,r])}return a}function ed(e,t,a,i,n){var r=t.__inheritedStyle=t.__inheritedStyle||{},o={};1===e.nodeType&&(function(e,t){var a=e.getAttribute("transform");if(a){a=a.replace(/,/g," ");var i=[],n=null;a.replace(ef,function(e,t,a){return i.push(t,a),""});for(var r=i.length-1;r>0;r-=2){var o=i[r],s=i[r-1],l=eg(o);switch(n=n||Z.create(),s){case"translate":Z.translate(n,n,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Z.scale(n,n,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Z.rotate(n,n,-parseFloat(l[0])*ey,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*ey);Z.mul(n,[1,0,u,1,0,0],n);break;case"skewY":var d=Math.tan(parseFloat(l[0])*ey);Z.mul(n,[1,d,0,1,0,0],n);break;case"matrix":n[0]=parseFloat(l[0]),n[1]=parseFloat(l[1]),n[2]=parseFloat(l[2]),n[3]=parseFloat(l[3]),n[4]=parseFloat(l[4]),n[5]=parseFloat(l[5])}}t.setLocalTransform(n)}}(e,t),ev(e,r,o),i||function(e,t,a){for(var i=0;i<et.length;i++){var n=et[i],r=e.getAttribute(n);null!=r&&(t[ee[n]]=r)}for(var i=0;i<ei.length;i++){var n=ei[i],r=e.getAttribute(n);null!=r&&(a[ea[n]]=r)}}(e,r,o)),t.style=t.style||{},null!=r.fill&&(t.style.fill=ep(t,"fill",r.fill,a)),null!=r.stroke&&(t.style.stroke=ep(t,"stroke",r.stroke,a)),(0,u.each)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(e){null!=r[e]&&(t.style[e]=parseFloat(r[e]))}),(0,u.each)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(e){null!=r[e]&&(t.style[e]=r[e])}),n&&(t.__selfStyle=o),r.lineDash&&(t.style.lineDash=(0,u.map)(eg(r.lineDash),function(e){return parseFloat(e)})),("hidden"===r.visibility||"collapse"===r.visibility)&&(t.invisible=!0),"none"===r.display&&(t.ignore=!0)}var ec=/^url\(\s*#(.*?)\)/;function ep(e,t,a,i){var n=a&&a.match(ec);if(n){var r=(0,u.trim)(n[1]);i.push([e,t,r]);return}return"none"===a&&(a=null),a}var eh=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function eg(e){return e.match(eh)||[]}var ef=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,ey=Math.PI/180,em=/([^\s:;]+)\s*:\s*([^:;]+)/g;function ev(e,t,a){var i,n=e.getAttribute("style");if(n)for(em.lastIndex=0;null!=(i=em.exec(n));){var r=i[1],o=(0,u.hasOwn)(ee,r)?ee[r]:null;o&&(t[o]=i[2]);var s=(0,u.hasOwn)(ea,r)?ea[r]:null;s&&(a[s]=i[2])}}function ex(e,t){var a=Math.min(t.width/e.width,t.height/e.height);return{scale:a,x:-(e.x+e.width/2)*a+(t.x+t.width/2),y:-(e.y+e.height/2)*a+(t.y+t.height/2)}}var e_=M,eb=M,eS=e.i(48716),ew=e.i(76262);function eM(e,t){return 1e-8>Math.abs(e-t)}function eI(e,t,a){var i=0,n=e[0];if(!n)return!1;for(var r=1;r<e.length;r++){var o=e[r];i+=(0,ew.default)(n[0],n[1],o[0],o[1],t,a),n=o}var s=e[0];return eM(n[0],s[0])&&eM(n[1],s[1])||(i+=(0,ew.default)(n[0],n[1],s[0],s[1],t,a)),0!==i}var eA=[];function eL(e,t){for(var a=0;a<e.length;a++)eS.applyTransform(e[a],e[a],t)}function eT(e,t,a,i){for(var n=0;n<e.length;n++){var r=e[n];i&&(r=i.project(r)),r&&isFinite(r[0])&&isFinite(r[1])&&(eS.min(t,t,r),eS.max(a,a,r))}}var eC=function(){function e(e){this.name=e}return e.prototype.setCenter=function(e){this._center=e},e.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},e}(),eD=function(e,t){this.type="polygon",this.exterior=e,this.interiors=t},eP=function(e){this.type="linestring",this.points=e},ek=function(e){function t(t,a,i){var n=e.call(this,t)||this;return n.type="geoJSON",n.geometries=a,n._center=i&&[i[0],i[1]],n}return(0,s.__extends)(t,e),t.prototype.calcCenter=function(){for(var e,t=this.geometries,a=0,i=0;i<t.length;i++){var n=t[i],r=n.exterior,o=r&&r.length;o>a&&(e=n,a=o)}if(e)return function(e){for(var t=0,a=0,i=0,n=e.length,r=e[n-1][0],o=e[n-1][1],s=0;s<n;s++){var l=e[s][0],u=e[s][1],d=r*u-l*o;t+=d,a+=(r+l)*d,i+=(o+u)*d,r=l,o=u}return t?[a/t/3,i/t/3,t]:[e[0][0]||0,e[0][1]||0]}(e.exterior);var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]},t.prototype.getBoundingRect=function(e){var t=this._rect;if(t&&!e)return t;var a=[1/0,1/0],i=[-1/0,-1/0],n=this.geometries;return(0,u.each)(n,function(t){"polygon"===t.type?eT(t.exterior,a,i,e):(0,u.each)(t.points,function(t){eT(t,a,i,e)})}),isFinite(a[0])&&isFinite(a[1])&&isFinite(i[0])&&isFinite(i[1])||(a[0]=a[1]=i[0]=i[1]=0),t=new eb.default(a[0],a[1],i[0]-a[0],i[1]-a[1]),e||(this._rect=t),t},t.prototype.contain=function(e){var t=this.getBoundingRect(),a=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var i=0,n=a.length;i<n;i++){var r=a[i];if("polygon"===r.type){var o=r.exterior,s=r.interiors;if(eI(o,e[0],e[1])){for(var l=0;l<(s?s.length:0);l++)if(eI(s[l],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,t,a,i){var n=this.getBoundingRect(),r=n.width/n.height;a?i||(i=a/r):a=r*i;for(var o=new eb.default(e,t,a,i),s=n.calculateTransform(o),l=this.geometries,d=0;d<l.length;d++){var c=l[d];"polygon"===c.type?(eL(c.exterior,s),(0,u.each)(c.interiors,function(e){eL(e,s)})):(0,u.each)(c.points,function(e){eL(e,s)})}(n=this._rect).copy(o),this._center=[n.x+n.width/2,n.y+n.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var a=new t(e,this.geometries,this._center);return a._rect=this._rect,a.transformTo=null,a},t}(eC),eE=function(e){function t(t,a){var i=e.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=a,i}return(0,s.__extends)(t,e),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,t=e.getBoundingRect(),a=[t.x+t.width/2,t.y+t.height/2],i=Z.identity(eA),n=e;n&&!n.isGeoSVGGraphicRoot;)Z.mul(i,n.getLocalTransform(),i),n=n.parent;return Z.invert(i,i),eS.applyTransform(a,a,i),a},t}(eC),eN=(0,u.createHashMap)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),eR=function(){function e(e,t){this.type="geoSVG",this._usedGraphicMap=(0,u.createHashMap)(),this._freedGraphics=[],this._mapName=e,this._parsedXML=$(t)}return e.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t,a,i,n=(t=e.named,a=[],i=(0,u.createHashMap)(),(0,u.each)(t,function(e){if(null==e.namedFrom){var t=new eE(e.name,e.el);a.push(t),i.set(e.name,t)}}),{regions:a,regionsMap:i}),r=n.regions,o=n.regionsMap;this._regions=r,this._regionsMap=o}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(e){try{var t;i=(a=e&&(t={ignoreViewBox:!0,ignoreRootClip:!0},new en().parse(e,t))||{}).root,(0,u.assert)(null!=i)}catch(e){throw Error("Invalid svg format\n"+e.message)}var a,i,n=new G.default;n.add(i),n.isGeoSVGGraphicRoot=!0;var r=a.width,o=a.height,s=a.viewBoxRect,l=this._boundingRect;if(!l){var d=void 0,c=void 0,p=void 0,h=void 0;if(null!=r?(d=0,p=r):s&&(d=s.x,p=s.width),null!=o?(c=0,h=o):s&&(c=s.y,h=s.height),null==d||null==c){var g=i.getBoundingRect();null==d&&(d=g.x,p=g.width),null==c&&(c=g.y,h=g.height)}l=this._boundingRect=new e_.default(d,c,p,h)}if(s){var f=ex(s,l);i.scaleX=i.scaleY=f.scale,i.x=f.x,i.y=f.y}n.setClipPath(new H.default({shape:l.plain()}));var y=[];return(0,u.each)(a.named,function(e){var t;null!=eN.get(e.svgNodeTagLower)&&(y.push(e),(t=e.el).silent=!1,t.isGroup&&t.traverse(function(e){e.silent=!1}))}),{root:n,boundingRect:l,named:y}},e.prototype.useGraphic=function(e){var t=this._usedGraphicMap,a=t.get(e);return a||(a=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,a)),a},e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,a=t.get(e);a&&(t.removeKey(e),this._freedGraphics.push(a))},e}();function eO(e,t,a){for(var i=0;i<e.length;i++)e[i]=ez(e[i],t[i],a)}function ez(e,t,a){for(var i=[],n=t[0],r=t[1],o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64,l=e.charCodeAt(o+1)-64;l=l>>1^-(1&l),s=(s>>1^-(1&s))+n,l+=r,n=s,r=l,i.push([s/a,l/a])}return i}for(var eV=[126,25],eG="南海诸岛",eB=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],eF=0;eF<eB.length;eF++)for(var eH=0;eH<eB[eF].length;eH++)eB[eF][eH][0]/=10.5,eB[eF][eH][1]/=-14,eB[eF][eH][0]+=eV[0],eB[eF][eH][1]+=eV[1];var eW={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]},eY=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],eX=M,eU=function(){function e(e,t,a){var i;this.type="geoJSON",this._parsedMap=(0,u.createHashMap)(),this._mapName=e,this._specialAreas=a,this._geoJSON=(i=t,(0,u.isString)(i)?"u">typeof JSON&&JSON.parse?JSON.parse(i):Function("return ("+i+");")():i)}return e.prototype.load=function(e,t){t=t||"name";var a=this._parsedMap.get(t);if(!a){var i=this._parseToRegions(t);a=this._parsedMap.set(t,{regions:i,boundingRect:function(e){for(var t,a=0;a<e.length;a++){var i=e[a].getBoundingRect();(t=t||i.clone()).union(i)}return t}(i)})}var n=(0,u.createHashMap)(),r=[];return(0,u.each)(a.regions,function(t){var a=t.name;e&&(0,u.hasOwn)(e,a)&&(t=t.cloneShallow(a=e[a])),r.push(t),n.set(a,t)}),{regions:r,boundingRect:a.boundingRect||new eX.default(0,0,0,0),regionsMap:n}},e.prototype._parseToRegions=function(e){var t,a,i=this._mapName,n=this._geoJSON;try{a=n?(t=n,t=function(e){if(!e.UTF8Encoding)return e;var t=e.UTF8Scale;null==t&&(t=1024);var a=e.features;return u.each(a,function(e){var a=e.geometry,i=a.encodeOffsets,n=a.coordinates;if(i)switch(a.type){case"LineString":a.coordinates=ez(n,i,t);break;case"Polygon":case"MultiLineString":eO(n,i,t);break;case"MultiPolygon":u.each(n,function(e,a){return eO(e,i[a],t)})}}),e.UTF8Encoding=!1,e}(t),u.map(u.filter(t.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(t){var a=t.properties,i=t.geometry,n=[];switch(i.type){case"Polygon":var r=i.coordinates;n.push(new eD(r[0],r.slice(1)));break;case"MultiPolygon":u.each(i.coordinates,function(e){e[0]&&n.push(new eD(e[0],e.slice(1)))});break;case"LineString":n.push(new eP([i.coordinates]));break;case"MultiLineString":n.push(new eP(i.coordinates))}var o=new ek(a[e||"name"],n,a.cp);return o.properties=a,o})):[]}catch(e){throw Error("Invalid geoJson format\n"+e.message)}return!function(e,t){if("china"===e){for(var a=0;a<t.length;a++)if(t[a].name===eG)return;t.push(new ek(eG,u.map(eB,function(e){return{type:"polygon",exterior:e}}),eV))}}(i,a),(0,u.each)(a,function(e){var t=e.name;if("china"===i){var a=eW[e.name];if(a){var n=e.getCenter();n[0]+=a[0]/10.5,n[1]+=-a[1]/14,e.setCenter(n)}}"china"===i&&"台湾"===e.name&&e.geometries.push({type:"polygon",exterior:eY[0]});var r=this._specialAreas&&this._specialAreas[t];r&&e.transformTo(r.left,r.top,r.width,r.height)},this),a},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}(),eZ=(0,u.createHashMap)();let ej=function(e,t,a){if(t.svg){var i=new eR(e,t.svg);eZ.set(e,i)}else{var n=t.geoJson||t.geoJSON;n&&!t.features?a=t.specialAreas:n=t;var i=new eU(e,n,a);eZ.set(e,i)}},eq=function(e){return eZ.get(e)},eK=function(e){var t=eZ.get(e);return t&&"geoJSON"===t.type&&t.getMapForUser()},eJ=function(e,t,a){var i=eZ.get(e);return i?i.load(t,a):void 0};var e$=e.i(94518),eQ=e.i(23797),e0=e.i(87992),e1=e.i(38399),e2=e.i(31779),e3=["rect","circle","line","ellipse","polygon","polyline","path"],e5=u.createHashMap(e3),e4=u.createHashMap(e3.concat(["g"])),e6=u.createHashMap(e3.concat(["g"])),e7=(0,h.makeInner)();function e8(e){var t=e.getItemStyle(),a=e.get("areaColor");return null!=a&&(t.fill=a),t}function e9(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var te=function(){function e(e){var t=this.group=new N.Group,a=this._transformGroup=new N.Group;t.add(a),this.uid=(0,e$.getUID)("ec_map_draw"),this._controller=new y(e.getZr()),this._controllerHost={target:a},a.add(this._regionsGroup=new N.Group),a.add(this._svgGroup=new N.Group)}return e.prototype.draw=function(e,t,a,i,n){var r,o="geo"===e.mainType,s=e.getData&&e.getData();o&&t.eachComponent({mainType:"series",subType:"map"},function(t){s||t.getHostGeoModel()!==e||(s=t.getData())});var l=e.coordinateSystem,u=this._regionsGroup,d=this._transformGroup,c=l.getTransformInfo(),p=c.raw,h=c.roam,g=!u.childAt(0)||n;e.getShallow("clip",!0)?(r=l.getViewRect().clone(),this.group.setClipPath(new k.Rect({shape:r.clone()}))):this.group.removeClipPath(),g?(d.x=h.x,d.y=h.y,d.scaleX=h.scaleX,d.scaleY=h.scaleY,d.dirty()):E.updateProps(d,h,e);var f=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,y={api:a,geo:l,mapOrGeoModel:e,data:s,isVisualEncodedByVisualMap:f,isGeo:o,transformInfoRaw:p};"geoJSON"===l.resourceType?this._buildGeoJSON(y):"geoSVG"===l.resourceType&&this._buildSVG(y),this._updateController(e,r,t,a),this._updateMapSelectHandler(e,u,a,i)},e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=u.createHashMap(),a=u.createHashMap(),i=this._regionsGroup,n=e.transformInfoRaw,r=e.mapOrGeoModel,o=e.data,s=e.geo.projection,l=s&&s.stream;function d(e,t){return t&&(e=t(e)),e&&[e[0]*n.scaleX+n.x,e[1]*n.scaleY+n.y]}function c(e){return{shape:{points:function(e){for(var t=[],a=!l&&s&&s.project,i=0;i<e.length;++i){var n=d(e[i],a);n&&t.push(n)}return t}(e)}}}i.removeAll(),u.each(e.geo.regions,function(n){var p=n.name,h=t.get(p),g=a.get(p)||{},f=g.dataIdx,y=g.regionModel;if(!h){h=t.set(p,new N.Group),i.add(h),f=o?o.indexOfName(p):null;var m=(y=e.isGeo?r.getRegionModel(p):o?o.getItemModel(f):null).get("silent",!0);null!=m&&(h.silent=m),a.set(p,{dataIdx:f,regionModel:y})}var v=[],x=[];u.each(n.geometries,function(e){if("polygon"===e.type){var t=[e.exterior].concat(e.interiors||[]);l&&(t=to(t,l)),u.each(t,function(e){v.push(new O.Polygon(c(e)))})}else{var a=e.points;l&&(a=to(a,l,!0)),u.each(a,function(e){x.push(new R.Polyline(c(e)))})}});var _=d(n.getCenter(),s&&s.project);function b(t,a){if(t.length){var i=new z.default({culling:!0,segmentIgnoreThreshold:1,shape:{paths:t}});h.add(i),tt(e,i,f,y),ta(e,i,p,y,r,f,_),a&&(e9(i),u.each(i.states,e9))}}b(v),b(x,!0)}),t.each(function(t,i){var n=a.get(i),o=n.dataIdx,s=n.regionModel;ti(e,t,i,s,r,o),tn(e,t,i,s,r),tr(e,t,i,s,r)},this)},e.prototype._buildSVG=function(e){var t=e.geo.map,a=e.transformInfoRaw;this._svgGroup.x=a.x,this._svgGroup.y=a.y,this._svgGroup.scaleX=a.scaleX,this._svgGroup.scaleY=a.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var i=this._svgDispatcherMap=u.createHashMap(),n=!1;u.each(this._svgGraphicRecord.named,function(t){var a=t.name,r=e.mapOrGeoModel,o=e.data,s=t.svgNodeTagLower,l=t.el,u=o?o.indexOfName(a):null,d=r.getRegionModel(a);null!=e5.get(s)&&l instanceof e2.default&&tt(e,l,u,d),l instanceof e2.default&&(l.culling=!0);var c=d.get("silent",!0);null!=c&&(l.silent=c),l.z2EmphasisLift=0,t.namedFrom||(null!=e6.get(s)&&ta(e,l,a,d,r,u,null),ti(e,l,a,d,r,u),tn(e,l,a,d,r),null!=e4.get(s)&&("self"===tr(e,l,a,d,r)&&(n=!0),(i.get(a)||i.set(a,[])).push(l)))},this),this._enableBlurEntireSVG(n,e)},e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var a=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(e){if(!e.isGroup){(0,V.setDefaultStateProxy)(e);var t=e.ensureState("blur").style||{};null==t.opacity&&null!=a&&(t.opacity=a),e.ensureState("emphasis")}})}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var a=t.coordinateSystem;if("geoJSON"===a.resourceType){var i=this._regionsGroupByName;if(i){var n=i.get(e);return n?[n]:[]}}else if("geoSVG"===a.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},e.prototype._useSVG=function(e){var t=eq(e);if(t&&"geoSVG"===t.type){var a=t.useGraphic(this.uid);this._svgGroup.add(a.root),this._svgGraphicRecord=a,this._svgMapName=e}},e.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=eq(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(e,t,a,i){var n=e.coordinateSystem,r=this._controller,o=this._controllerHost;o.zoomLimit=e.get("scaleLimit"),o.zoom=n.getZoom(),r.enable(e.get("roam")||!1,{api:i,zInfo:{component:e},triggerInfo:{roamTrigger:e.get("roamTrigger"),isInSelf:function(e,t,a){return n.containPoint([t,a])},isInClip:function(e,a,i){return!t||t.contain(a,i)}}});var s=e.mainType;function l(){var t={type:"geoRoam",componentType:s};return t[s+"Id"]=e.id,t}r.off("pan").on("pan",function(e){this._mouseDownFlag=!1,I(o,e.dx,e.dy),i.dispatchAction(u.extend(l(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))},this),r.off("zoom").on("zoom",function(e){this._mouseDownFlag=!1,A(o,e.scale,e.originX,e.originY),i.dispatchAction(u.extend(l(),{totalZoom:o.zoom,zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))},this)},e.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=e7(t).ignore)})},e.prototype._updateMapSelectHandler=function(e,t,a,i){var n=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){n._mouseDownFlag=!0}),t.on("click",function(e){n._mouseDownFlag&&(n._mouseDownFlag=!1)}))},e}();function tt(e,t,a,i){var n=i.getModel("itemStyle"),r=i.getModel(["emphasis","itemStyle"]),o=i.getModel(["blur","itemStyle"]),s=i.getModel(["select","itemStyle"]),l=e8(n),u=e8(r),d=e8(s),c=e8(o),p=e.data;if(p){var h=p.getItemVisual(a,"style"),g=p.getItemVisual(a,"decal");e.isVisualEncodedByVisualMap&&h.fill&&(l.fill=h.fill),g&&(l.decal=(0,e1.createOrUpdatePatternFromDecal)(g,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=d,t.ensureState("blur").style=c,(0,V.setDefaultStateProxy)(t)}function ta(e,t,a,i,n,r,o){var s=e.data,l=e.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),r)),d=s&&s.getItemLayout(r);if(l||u||d&&d.showLabel){var c=l?a:r,p=void 0;(!s||r>=0)&&(p=n);var h=o?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,eQ.setLabelStyle)(t,(0,eQ.getLabelStatesModels)(i),{labelFetcher:p,labelDataIndex:c,defaultText:a},h);var g=t.getTextContent();if(g&&(e7(g).ignore=g.ignore,t.textConfig&&o)){var f=t.getBoundingRect().clone();t.textConfig.layoutRect=f,t.textConfig.position=[(o[0]-f.x)/f.width*100+"%",(o[1]-f.y)/f.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function ti(e,t,a,i,n,r){e.data?e.data.setItemGraphicEl(r,t):(0,e0.getECData)(t).eventData={componentType:"geo",componentIndex:n.componentIndex,geoIndex:n.componentIndex,name:a,region:i&&i.option||{}}}function tn(e,t,a,i,n){e.data||g.setTooltipConfig({el:t,componentModel:n,itemName:a,itemTooltipOption:i.get("tooltip")})}function tr(e,t,a,i,n){t.highDownSilentOnTouch=!!n.get("selectedMode");var r=i.getModel("emphasis"),o=r.get("focus");return(0,V.toggleHoverEmphasis)(t,o,r.get("blurScope"),r.get("disabled")),e.isGeo&&(0,V.enableComponentHighDownFeatures)(t,n,a),o}function to(e,t,a){var i,n=[];function r(){i=[]}function o(){i.length&&(n.push(i),i=[])}var s=t({polygonStart:r,polygonEnd:o,lineStart:r,lineEnd:o,point:function(e,t){isFinite(e)&&isFinite(t)&&i.push([e,t])},sphere:function(){}});return a||s.polygonStart(),u.each(e,function(e){s.lineStart();for(var t=0;t<e.length;t++)s.point(e[t][0],e[t][1]);s.lineEnd()}),a||s.polygonEnd(),n}var ts=e.i(84664),tl=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var n=this.group;if(n.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&i&&"geoRoam"===i.type&&this._mapDraw.resetForLabelLayout(),i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id){var r=this._mapDraw;r&&n.add(r.group)}else if(e.needsDrawMap){var r=this._mapDraw||new te(a);n.add(r.group),r.draw(e,t,a,this,i),this._mapDraw=r}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,a)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,a){var i=e.originalData,n=this.group;i.each(i.mapDimension("value"),function(t,a){if(!isNaN(t)){var r=i.getItemLayout(a);if(r&&r.point){var o=r.point,s=r.offset,u=new l.Circle({style:{fill:e.getData().getVisual("style").fill},shape:{cx:o[0]+9*s,cy:o[1],r:3},silent:!0,z2:8+(s?0:V.Z2_EMPHASIS_LIFT+1)});if(!s){var d=e.mainSeries.getData(),c=i.getName(a),p=d.indexOfName(c),h=i.getItemModel(a),g=h.getModel("label"),f=d.getItemGraphicEl(p);(0,eQ.setLabelStyle)(u,(0,eQ.getLabelStatesModels)(h),{labelFetcher:{getFormattedLabel:function(t,a){return e.getFormattedLabel(p,a)}},defaultText:c}),u.disableLabelAnimation=!0,g.get("position")||u.setTextConfig({position:"bottom"}),f.onHoverStateChange=function(e){(0,V.setStatesFlag)(u,e)}}n.add(u)}}})},t.type="map",t}(ts.default),tu=e.i(12676),td=e.i(96737);function tc(e,t,a){t=(0,u.isArray)(t)&&{coordDimensions:t}||(0,u.extend)({encodeDefine:e.getEncode()},t);var i=e.getSource(),n=(0,tu.default)(i,t).dimensions,r=new td.default(n,e);return r.initData(i,a),r}var tp=e.i(58449),th=e.i(66869),tg=e.i(64019),tf=e.i(77570),ty=e.i(27704),tm=e.i(31317),tv=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.needsDrawMap=!1,a.seriesGroup=[],a.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),a=this.coordinateSystem,i=a.getRegion(t);return i&&a.dataToPoint(i.getCenter())}},a}return(0,s.__extends)(t,e),t.prototype.getInitialData=function(e){for(var t=tc(this,{coordDimensions:["value"],encodeDefaulter:u.curry(th.makeSeriesEncodeForNameBased,this)}),a=u.createHashMap(),i=[],n=0,r=t.count();n<r;n++){var o=t.getName(n);a.set(o,n)}var s=eJ(this.getMapType(),this.option.nameMap,this.option.nameProperty);return u.each(s.regions,function(e){var n,r=e.name,o=a.get(r),s=e.properties&&e.properties.echartsStyle;null==o?(n={name:r},i.push(n)):n=t.getRawDataItem(o),s&&u.merge(n,s)}),t.appendData(i),t},t.prototype.getHostGeoModel=function(){if((0,ty.decideCoordSysUsageKind)(this).kind!==ty.CoordinateSystemUsageKind.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,a){for(var i=this.getData(),n=this.getRawValue(e),r=i.getName(e),o=this.seriesGroup,s=[],l=0;l<o.length;l++){var u=o[l].originalData.indexOfName(r),d=i.mapDimension("value");isNaN(o[l].originalData.get(d,u))||s.push(o[l].name)}return(0,tg.createTooltipMarkup)("section",{header:s.join(", "),noHeader:!s.length,blocks:[(0,tg.createTooltipMarkup)("nameValue",{name:r,value:n})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",a=(0,tf.createSymbol)(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return a.setStyle(e.itemStyle),a.style.stroke="none",t.indexOf("empty")>-1&&(a.style.stroke=a.style.fill,a.style.fill=tm.default.color.neutral00,a.style.lineWidth=2),a},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:tm.default.color.tertiary},itemStyle:{borderWidth:.5,borderColor:tm.default.color.border,areaColor:tm.default.color.background},emphasis:{label:{show:!0,color:tm.default.color.primary},itemStyle:{areaColor:tm.default.color.highlight}},select:{label:{show:!0,color:tm.default.color.primary},itemStyle:{color:tm.default.color.highlight}},nameProperty:"name"},t}(tp.default);function tx(e){var t={};e.eachSeriesByType("map",function(e){var a=e.getHostGeoModel(),i=a?"o"+a.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)}),u.each(t,function(e,t){for(var a,i,n,r=(a=u.map(e,function(e){return e.getData()}),i=e[0].get("mapValueCalculation"),n={},u.each(a,function(e){e.each(e.mapDimension("value"),function(t,a){var i="ec-"+e.getName(a);n[i]=n[i]||[],isNaN(t)||n[i].push(t)})}),a[0].map(a[0].mapDimension("value"),function(e,t){for(var r,o="ec-"+a[0].getName(t),s=0,l=1/0,u=-1/0,d=n[o].length,c=0;c<d;c++)l=Math.min(l,n[o][c]),u=Math.max(u,n[o][c]),s+=n[o][c];return r="min"===i?l:"max"===i?u:"average"===i?s/d:s,0===d?NaN:r})),o=0;o<e.length;o++)e[o].originalData=e[o].getData();for(var o=0;o<e.length;o++)e[o].seriesGroup=e,e[o].needsDrawMap=0===o&&!e[o].getHostGeoModel(),e[o].setData(r.cloneShallow()),e[o].mainSeries=e[0]})}function t_(e){var t={};e.eachSeriesByType("map",function(a){var i=a.getMapType();if(!a.getHostGeoModel()&&!t[i]){var n={};u.each(a.seriesGroup,function(t){var a=t.coordinateSystem,i=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&i.each(i.mapDimension("value"),function(e,t){var r=i.getName(t),o=a.getRegion(r);if(!(!o||isNaN(e))){var s=n[r]||0,l=a.dataToPoint(o.getCenter());n[r]=s+1,i.setItemLayout(t,{point:l,offset:s})}})});var r=a.getData();r.each(function(e){var t=r.getName(e),a=r.getItemLayout(e)||{};a.showLabel=!n[t],r.setItemLayout(e,a)}),t[i]=!0}})}var tb=e.i(89187),tS=e.i(25324),tw=e.i(32705),tM=M,tI=M,tA=e.i(55511),tL=e.i(40426),tT=eS.applyTransform,tC=function(e){function t(t,a){var i=e.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new tA.default,i._rawTransformable=new tA.default,i.name=t,i._opt=a,i}return(0,s.__extends)(t,e),t.prototype.setBoundingRect=function(e,t,a,i){return this._rect=new tI.default(e,t,a,i),this._updateCenterAndZoom(),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,a,i){this._transformTo(e,t,a,i),this._viewRect=new tI.default(e,t,a,i)},t.prototype._transformTo=function(e,t,a,i){var n=this.getBoundingRect(),r=this._rawTransformable;r.transform=n.calculateTransform(new tI.default(e,t,a,i));var o=r.parent;r.parent=null,r.decomposeTransform(),r.parent=o,this._updateTransform()},t.prototype.setCenter=function(e){var t=this._opt;t&&t.api&&t.ecModel&&t.ecModel.getShallow("legacyViewCoordSysCenterBase")&&e&&(e=[(0,tL.parsePercent)(e[0],t.api.getWidth()),(0,tL.parsePercent)(e[1],t.api.getWidth())]),this._centerOption=(0,u.clone)(e),this._updateCenterAndZoom()},t.prototype.setZoom=function(e){this._zoom=P(e||1,this.zoomLimit),this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._centerOption,t=this._rect;e&&t&&(this._center=[(0,tL.parsePercent)(e[0],t.width,t.x),(0,tL.parsePercent)(e[1],t.height,t.y)]);var a=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,n=this.getDefaultCenter(),r=this.getCenter(),o=this.getZoom();r=eS.applyTransform([],r,a),n=eS.applyTransform([],n,a),i.originX=r[0],i.originY=r[1],i.x=n[0]-r[0],i.y=n[1]-r[1],i.scaleX=i.scaleY=o,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),Z.copy(this.transform||(this.transform=[]),t.transform||Z.create()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],Z.invert(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,a=new tA.default;return a.transform=t.transform,a.decomposeTransform(),{roam:{x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,t,a){var i=t?this._rawTransform:this.transform;return a=a||[],i?tT(a,e,i):eS.copy(a,e)},t.prototype.pointToData=function(e,t,a){a=a||[];var i=this.invTransform;return i?tT(a,e,i):(a[0]=e[0],a[1]=e[1],a)},t.prototype.convertToPixel=function(e,t,a){var i=tD(t);return i===this?i.dataToPoint(a):null},t.prototype.convertFromPixel=function(e,t,a){var i=tD(t);return i===this?i.pointToData(a):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(tA.default);function tD(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var tP={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},tk=["lng","lat"],tE=function(e){function t(t,a,i){var n,r=e.call(this,t,{api:i.api,ecModel:i.ecModel})||this;r.dimensions=tk,r.type="geo",r._nameCoordMap=u.createHashMap(),r.map=a;var o=i.projection,s=eJ(a,i.nameMap,i.nameProperty),l=eq(a);r.resourceType=l?l.type:null;var d=r.regions=s.regions,c=tP[l.type];if(r._regionsMap=s.regionsMap,r.regions=s.regions,r.projection=o,o)for(var p=0;p<d.length;p++){var h=d[p].getBoundingRect(o);(n=n||h.clone()).union(h)}else n=s.boundingRect;return r.setBoundingRect(n.x,n.y,n.width,n.height),r.aspectScale=o?1:u.retrieve2(i.aspectScale,c.aspectScale),r._invertLongitute=!o&&c.invertLongitute,r}return(0,s.__extends)(t,e),t.prototype._transformTo=function(e,t,a,i){var n=this.getBoundingRect(),r=this._invertLongitute;n=n.clone(),r&&(n.y=-n.y-n.height);var o=this._rawTransformable;o.transform=n.calculateTransform(new tM.default(e,t,a,i));var s=o.parent;o.parent=null,o.decomposeTransform(),o.parent=s,r&&(o.scaleY=-o.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,a=0;a<t.length;a++){var i=t[a];if("geoJSON"===i.type&&i.contain(e))return t[a]}},t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},t.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()},t.prototype.dataToPoint=function(e,t,a){if(u.isString(e)&&(e=this.getGeoCoord(e)),e){var i=this.projection;return i&&(e=i.project(e)),e&&this.projectedToPoint(e,t,a)}},t.prototype.pointToData=function(e,t,a){var i=this.projection;return i&&(e=i.unproject(e)),e&&this.pointToProjected(e,a)},t.prototype.pointToProjected=function(t,a){return e.prototype.pointToData.call(this,t,0,a)},t.prototype.projectedToPoint=function(t,a,i){return e.prototype.dataToPoint.call(this,t,a,i)},t.prototype.convertToPixel=function(e,t,a){var i=tN(t);return i===this?i.dataToPoint(a):null},t.prototype.convertFromPixel=function(e,t,a){var i=tN(t);return i===this?i.pointToData(a):null},t}(tC);function tN(e){var t=e.geoModel,a=e.seriesModel;return t?t.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo",h.SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}u.mixin(tE,tC);var tR=e.i(9579);function tO(e,t){var a,i,n,r=e.get("boundingCoords");if(null!=r){var o=r[0],s=r[1];if(isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])){var l=this.projection;if(l){var u=o[0],d=o[1],c=s[0],p=s[1];o=[1/0,1/0],s=[-1/0,-1/0];var h=function(e,t,a,i){for(var n=a-e,r=i-t,u=0;u<=100;u++){var d=u/100,c=l.project([e+n*d,t+r*d]);eS.min(o,o,c),eS.max(s,s,c)}};h(u,d,c,d),h(c,d,c,p),h(c,p,u,p),h(u,p,c,d)}this.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1])}}var g=this.getBoundingRect(),f=e.get("layoutCenter"),y=e.get("layoutSize"),m=tR.createBoxLayoutReference(e,t).refContainer,v=g.width/g.height*this.aspectScale,x=!1;if(f&&y&&(a=[tL.parsePercent(f[0],m.width)+m.x,tL.parsePercent(f[1],m.height)+m.y],i=tL.parsePercent(y,Math.min(m.width,m.height)),isNaN(a[0])||isNaN(a[1])||isNaN(i)||(x=!0)),x)n={},v>1?(n.width=i,n.height=i/v):(n.height=i,n.width=i*v),n.y=a[1]-n.height/2,n.x=a[0]-n.width/2;else{var _=e.getBoxLayoutParams();_.aspect=v,n=tR.getLayoutRect(_,m),n=tR.applyPreserveAspect(e,n,v)}this.setViewRect(n.x,n.y,n.width,n.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}var tz=new(function(){function e(){this.dimensions=tk}return e.prototype.create=function(e,t){var a=[];function i(e){return{nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale"),projection:e.get("projection")}}e.eachComponent("geo",function(n,r){var o=n.get("map"),s=new tE(o+r,o,u.extend({nameMap:n.get("nameMap"),api:t,ecModel:e},i(n)));s.zoomLimit=n.get("scaleLimit"),a.push(s),n.coordinateSystem=s,s.model=n,s.resize=tO,s.resize(n,t)}),e.eachSeries(function(e){(0,ty.injectCoordSysByOption)({targetModel:e,coordSysType:"geo",coordSysProvider:function(){var t="map"===e.subType?e.getHostGeoModel():e.getReferringComponents("geo",h.SINGLE_REFERRING).models[0];return t&&t.coordinateSystem},allowNotFound:!0})});var n={};return e.eachSeriesByType("map",function(e){if(!e.getHostGeoModel()){var t=e.getMapType();n[t]=n[t]||[],n[t].push(e)}}),u.each(n,function(n,r){var o=u.map(n,function(e){return e.get("nameMap")}),s=new tE(r,r,u.extend({nameMap:u.mergeAll(o),api:t,ecModel:e},i(n[0])));s.zoomLimit=u.retrieve.apply(null,u.map(n,function(e){return e.get("scaleLimit")})),a.push(s),s.resize=tO,s.resize(n[0],t),u.each(n,function(e){e.coordinateSystem=s,u.each(e.get("geoCoord"),function(e,t){s.addGeoCoord(t,e)})})}),a},e.prototype.getFilledRegions=function(e,t,a,i){for(var n=(e||[]).slice(),r=u.createHashMap(),o=0;o<n.length;o++)r.set(n[o].name,n[o]);var s=eJ(t,a,i);return u.each(s.regions,function(e){var t=e.name,a=r.get(t),i=e.properties&&e.properties.echartsStyle;a||(a={name:t},n.push(a)),i&&u.merge(a,i)}),n},e}()),tV=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.init=function(e,t,a){this.mergeDefaultAndTheme(e,a);var i=eq(e.map);if(i&&"geoJSON"===i.type){var n=e.itemStyle=e.itemStyle||{};"color"in n||(n.color=e.defaultItemStyleColor||tm.default.color.backgroundTint)}h.defaultEmphasis(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,t=this.option;t.regions=tz.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var a={};this._optionModelMap=u.reduce(t.regions||[],function(t,i){var n=i.name;return n&&(t.set(n,new tw.default(i,e,e.ecModel)),i.selected&&(a[n]=!0)),t},u.createHashMap()),t.selectedMap||(t.selectedMap=a)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new tw.default(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,t){var a=this.getRegionModel(e),i="normal"===t?a.get(["label","formatter"]):a.get(["emphasis","label","formatter"]),n={name:e};return u.isFunction(i)?(n.status=t,i(n)):u.isString(i)?i.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var t=this.option,a=t.selectedMode;a&&("multiple"!==a&&(t.selectedMap=null),(t.selectedMap||(t.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!!(t&&t[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:tm.default.color.tertiary},itemStyle:{borderWidth:.5,borderColor:tm.default.color.border},emphasis:{label:{show:!0,color:tm.default.color.primary},itemStyle:{color:tm.default.color.highlight}},select:{label:{show:!0,color:tm.default.color.primary},itemStyle:{color:tm.default.color.highlight}},regions:[]},t}(tS.default),tG=e.i(34211),tB=e.i(44554),tF=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.focusBlurEnabled=!0,a}return(0,s.__extends)(t,e),t.prototype.init=function(e,t){this._api=t},t.prototype.render=function(e,t,a,i){if(this._model=e,!e.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new te(a));var n=this._mapDraw;n.draw(e,t,a,this,i),n.group.on("click",this._handleRegionClick,this),n.group.silent=e.get("silent"),this.group.add(n.group),this.updateSelectStatus(e,t,a)},t.prototype._handleRegionClick=function(e){var t;(0,tB.findEventDispatcher)(e.target,function(e){return null!=(t=(0,e0.getECData)(e).eventData)},!0),t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,a){var i=this;this._mapDraw.group.traverse(function(e){var t=(0,e0.getECData)(e).eventData;if(t)return i._model.isSelected(t.name)?a.enterSelect(e):a.leaveSelect(e),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(tG.default);function tH(e,t,a){ej(e,t,a)}function tW(e){function t(t,a){a.update="geo:updateSelectStatus",e.registerAction(a,function(e,a){var i={},n=[];return a.eachComponent({mainType:"geo",query:e},function(a){a[t](e.name);var r=a.coordinateSystem;(0,u.each)(r.regions,function(e){i[e.name]=a.isSelected(e.name)||!1});var o=[];(0,u.each)(i,function(e,t){i[t]&&o.push(t)}),n.push({geoIndex:a.componentIndex,name:o})}),{selected:i,allSelected:n,name:e.name}})}e.registerCoordinateSystem("geo",tz),e.registerComponentModel(tV),e.registerComponentView(tF),e.registerImpl("registerMap",tH),e.registerImpl("getMap",function(e){return eK(e)}),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,t,a){var i=e.componentType;i||(null!=e.geoId?i="geo":null!=e.seriesId&&(i="series")),i||(i="series"),t.eachComponent({mainType:i,query:e},function(t){var a=t.coordinateSystem;if("geo"===a.type){var n=C(a,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom),"series"===i&&(0,u.each)(t.seriesGroup,function(e){e.setCenter(n.center),e.setZoom(n.zoom)})}})})}function tY(e){(0,r.use)(tW),e.registerChartView(tl),e.registerSeriesModel(tv),e.registerLayout(t_),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,tx),(0,tb.createLegacyDataSelectAction)("map",e.registerAction)}var tX=e.i(93611),tU=e.i(19153),tZ=e.i(95682),tj=e.i(70105),tq={color:{active:["#006edd","#e0ffff"],inactive:[tm.default.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};let tK=function(e,t,a){var i=u.clone((tq[e]||{})[t]);return a&&u.isArray(i)?i[i.length-1]:i};var tJ=u.each,t$=u.isObject,tQ=function(){function e(t){var a,i,n=t.mappingMethod,r=t.type,o=this.option=u.clone(t);this.type=r,this.mappingMethod=n,this._normalizeData=t9[n];var s=e.visualHandlers[r];this.applyVisual=s.applyVisual,this.getColorMapper=s.getColorMapper,this._normalizedToVisual=s._normalizedToVisual[n],"piecewise"===n?(t0(o),i=(a=o).pieceList,a.hasSpecialVisual=!1,u.each(i,function(e,t){e.originIndex=t,null!=e.visual&&(a.hasSpecialVisual=!0)})):"category"===n?o.categories?function(e){var t=e.categories,a=e.categoryMap={},i=e.visual;if(tJ(t,function(e,t){a[e]=t}),!u.isArray(i)){var n=[];u.isObject(i)?tJ(i,function(e,t){var i=a[t];n[null!=i?i:-1]=e}):n[-1]=i,i=t8(e,n)}for(var r=t.length-1;r>=0;r--)null==i[r]&&(delete a[t[r]],t.pop())}(o):t0(o,!0):(u.assert("linear"!==n||o.dataExtent),t0(o))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return u.bind(this._normalizeData,this)},e.listVisualTypes=function(){return u.keys(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,a){u.isObject(e)?u.each(e,t,a):t.call(a,e)},e.mapVisual=function(t,a,i){var n,r=u.isArray(t)?[]:u.isObject(t)?{}:(n=!0,null);return e.eachVisual(t,function(e,t){var o=a.call(i,e,t);n?r=o:r[t]=o}),r},e.retrieveVisuals=function(t){var a,i={};return t&&tJ(e.visualHandlers,function(e,n){t.hasOwnProperty(n)&&(i[n]=t[n],a=!0)}),a?i:null},e.prepareVisualTypes=function(e){if(u.isArray(e))e=e.slice();else{if(!t$(e))return[];var t=[];tJ(e,function(e,a){t.push(a)}),e=t}return e.sort(function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1}),e},e.dependsOn=function(e,t){return"color"===t?!!(e&&0===e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,a){for(var i,n=1/0,r=0,o=t.length;r<o;r++){var s=t[r].value;if(null!=s){if(s===e||u.isString(s)&&s===e+"")return r;a&&M(s,r)}}for(var r=0,o=t.length;r<o;r++){var l,d,c,p,h,g,f,y,m,v,x,_,b=t[r],S=b.interval,w=b.close;if(S){if(S[0]===-1/0){if(l=w[1],d=e,c=S[1],l?d<=c:d<c)return r}else if(S[1]===1/0){if(p=w[0],h=S[0],g=e,p?h<=g:h<g)return r}else{if(f=w[0],y=S[0],m=e,(f?y<=m:y<m)&&(v=w[1],x=e,_=S[1],v?x<=_:x<_))return r}a&&M(S[0],r),a&&M(S[1],r)}}if(a)return e===1/0?t.length-1:e===-1/0?0:i;function M(t,a){var r=Math.abs(t-e);r<n&&(n=r,i=a)}},e.visualHandlers={color:{applyVisual:t3("color"),getColorMapper:function(){var e=this.option;return u.bind("category"===e.mappingMethod?function(e,t){return t||(e=this._normalizeData(e)),t5.call(this,e)}:function(t,a,i){var n=!!i;return a||(t=this._normalizeData(t)),i=Q.fastLerp(t,e.parsedVisual,i),n?i:Q.stringify(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Q.stringify(Q.fastLerp(e,this.option.parsedVisual),"rgba")},category:t5,piecewise:function(e,t){var a=t7.call(this,t);return null==a&&(a=Q.stringify(Q.fastLerp(e,this.option.parsedVisual),"rgba")),a},fixed:t4}},colorHue:t1(function(e,t){return Q.modifyHSL(e,t)}),colorSaturation:t1(function(e,t){return Q.modifyHSL(e,null,t)}),colorLightness:t1(function(e,t){return Q.modifyHSL(e,null,null,t)}),colorAlpha:t1(function(e,t){return Q.modifyAlpha(e,t)}),decal:{applyVisual:t3("decal"),_normalizedToVisual:{linear:null,category:t5,piecewise:null,fixed:null}},opacity:{applyVisual:t3("opacity"),_normalizedToVisual:t6([0,1])},liftZ:{applyVisual:t3("liftZ"),_normalizedToVisual:{linear:t4,category:t4,piecewise:t4,fixed:t4}},symbol:{applyVisual:function(e,t,a){a("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:t2,category:t5,piecewise:function(e,t){var a=t7.call(this,t);return null==a&&(a=t2.call(this,e)),a},fixed:t4}},symbolSize:{applyVisual:t3("symbolSize"),_normalizedToVisual:t6([0,1])}},e}();function t0(e,t){var a=e.visual,i=[];u.isObject(a)?tJ(a,function(e){i.push(e)}):null!=a&&i.push(a),t||1!==i.length||({color:1,symbol:1}).hasOwnProperty(e.type)||(i[1]=i[0]),t8(e,i)}function t1(e){return{applyVisual:function(t,a,i){var n=this.mapValueToVisual(t);i("color",e(a("color"),n))},_normalizedToVisual:t6([0,1])}}function t2(e){var t=this.option.visual;return t[Math.round((0,tL.linearMap)(e,[0,1],[0,t.length-1],!0))]||{}}function t3(e){return function(t,a,i){i(e,this.mapValueToVisual(t))}}function t5(e){var t=this.option.visual;return t[this.option.loop&&-1!==e?e%t.length:e]}function t4(){return this.option.visual[0]}function t6(e){return{linear:function(t){return(0,tL.linearMap)(t,e,this.option.visual,!0)},category:t5,piecewise:function(t,a){var i=t7.call(this,a);return null==i&&(i=(0,tL.linearMap)(t,e,this.option.visual,!0)),i},fixed:t4}}function t7(e){var t=this.option,a=t.pieceList;if(t.hasSpecialVisual){var i=tQ.findPieceIndex(e,a),n=a[i];if(n&&n.visual)return n.visual[this.type]}}function t8(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=u.map(t,function(e){return Q.parse(e)||[0,0,0,1]})),t}var t9={linear:function(e){return(0,tL.linearMap)(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,a=tQ.findPieceIndex(e,t,!0);if(null!=a)return(0,tL.linearMap)(a,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?-1:t},fixed:u.noop},ae=e.i(19750),at=u.each;function aa(e){if(e){for(var t in e)if(e.hasOwnProperty(t))return!0}}function ai(e,t,a){var i={};return at(t,function(t){var n,r=i[t]=((n=function(){}).prototype.__hidden=n.prototype,new n);at(e[t],function(e,i){if(tQ.isValidType(i)){var n={type:i,visual:e};a&&a(n,t),r[i]=new tQ(n),"opacity"===i&&((n=u.clone(n)).type="colorAlpha",r.__hidden.__alphaForOpacity=new tQ(n))}})}),i}function an(e,t,a){var i;u.each(a,function(e){t.hasOwnProperty(e)&&aa(t[e])&&(i=!0)}),i&&u.each(a,function(a){t.hasOwnProperty(a)&&aa(t[a])?e[a]=u.clone(t[a]):delete e[a]})}var ar=tQ.mapVisual,ao=tQ.eachVisual,as=u.isArray,al=u.each,au=tL.asc,ad=tL.linearMap,ac=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.stateList=["inRange","outOfRange"],a.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],a.layoutMode={type:"box",ignoreSize:!0},a.dataBound=[-1/0,1/0],a.targetVisuals={},a.controllerVisuals={},a}return(0,s.__extends)(t,e),t.prototype.init=function(e,t,a){this.mergeDefaultAndTheme(e,a)},t.prototype.optionUpdated=function(e,t){var a=this.option;t||an(a,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=u.bind(e,this),this.controllerVisuals=ai(this.option.controller,t,e),this.targetVisuals=ai(this.option.target,t,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesId,t=this.option.seriesIndex;null==t&&null==e&&(t="all");var a=h.queryReferringComponents(this.ecModel,"series",{index:t,id:e},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return u.map(a,function(e){return e.componentIndex})},t.prototype.eachTargetSeries=function(e,t){u.each(this.getTargetSeriesIndices(),function(a){var i=this.ecModel.getSeriesByIndex(a);i&&e.call(t,i)},this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries(function(a){a===e&&(t=!0)}),t},t.prototype.formatValueText=function(e,t,a){var i,n=this.option,r=n.precision,o=this.dataBound,s=n.formatter;a=a||["<",">"],u.isArray(e)&&(e=e.slice(),i=!0);var l=t?e:i?[d(e[0]),d(e[1])]:d(e);if(u.isString(s))return s.replace("{value}",i?l[0]:l).replace("{value2}",i?l[1]:l);if(u.isFunction(s))return i?s(e[0],e[1]):s(e);if(!i)return l;if(e[0]===o[0])return a[0]+" "+l[1];if(e[1]===o[1])return a[1]+" "+l[0];return l[0]+" - "+l[1];function d(e){return e===o[0]?"min":e===o[1]?"max":(+e).toFixed(Math.min(r,20))}},t.prototype.resetExtent=function(){var e=this.option,t=au([e.min,e.max]);this._dataExtent=t},t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(null!=t)return e.getDimensionIndex(t);for(var a=e.dimensions,i=a.length-1;i>=0;i--){var n=a[i],r=e.getDimensionInfo(n);if(!r.isCalculationCoord)return r.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,a={inRange:t.inRange,outOfRange:t.outOfRange},i=t.target||(t.target={}),n=t.controller||(t.controller={});u.merge(i,a),u.merge(n,a);var r=this.isCategory();function o(a){as(t.color)&&!a.inRange&&(a.inRange={color:t.color.slice().reverse()}),a.inRange=a.inRange||{color:e.get("gradientColor")}}o.call(this,i),o.call(this,n),(function(e,t,a){var i=e[t],n=e[a];i&&!n&&(n=e[a]={},al(i,function(e,t){if(tQ.isValidType(t)){var a=tK(t,"inactive",r);null!=a&&(n[t]=a,"color"!==t||n.hasOwnProperty("opacity")||n.hasOwnProperty("colorAlpha")||(n.opacity=[0,0]))}}))}).call(this,i,"inRange","outOfRange"),(function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,a=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,i=this.get("inactiveColor"),n=this.getItemSymbol()||"roundRect";al(this.stateList,function(o){var s=this.itemSize,l=e[o];l||(l=e[o]={color:r?i:[i]}),null==l.symbol&&(l.symbol=t&&u.clone(t)||(r?n:[n])),null==l.symbolSize&&(l.symbolSize=a&&u.clone(a)||(r?s[0]:[s[0],s[0]])),l.symbol=ar(l.symbol,function(e){return"none"===e?n:e});var d=l.symbolSize;if(null!=d){var c=-1/0;ao(d,function(e){e>c&&(c=e)}),l.symbolSize=ar(d,function(e){return ad(e,[0,c],[0,s[0]],!0)})}},this)}).call(this,n)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:tm.default.color.transparent,borderColor:tm.default.color.borderTint,contentColor:tm.default.color.theme[0],inactiveColor:tm.default.color.disabled,borderWidth:0,padding:tm.default.size.m,textGap:10,precision:0,textStyle:{color:tm.default.color.secondary}},t}(tS.default),ap=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.optionUpdated=function(t,a){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=20),(null==t[1]||isNaN(t[1]))&&(t[1]=140)},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):u.isArray(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),u.each(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=tL.asc((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,a=this.getExtent(),i=u.retrieve2(this.option.unboundedRange,!0);return(i&&t[0]<=a[0]||t[0]<=e)&&(i&&t[1]>=a[1]||e<=t[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries(function(a){var i=[],n=a.getData();n.each(this.getDataDimensionIndex(n),function(t,a){e[0]<=t&&t<=e[1]&&i.push(a)},this),t.push({seriesId:a.id,dataIndex:i})},this),t},t.prototype.getVisualMeta=function(e){var t=ah(this,"outOfRange",this.getExtent()),a=ah(this,"inRange",this.option.range.slice()),i=[];function n(t,a){i.push({value:t,color:e(t,a)})}for(var r=0,o=0,s=a.length,l=t.length;o<l&&(!a.length||t[o]<=a[0]);o++)t[o]<a[r]&&n(t[o],"outOfRange");for(var u=1;r<s;r++,u=0)u&&i.length&&n(a[r],"outOfRange"),n(a[r],"inRange");for(var u=1;o<l;o++)(!a.length||a[a.length-1]<t[o])&&(u&&(i.length&&n(i[i.length-1].value,"outOfRange"),u=0),n(t[o],"outOfRange"));var d=i.length;return{stops:i,outerColors:[d?i[0].color:"transparent",d?i[d-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=(0,e$.inheritDefaultOption)(ac.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:tm.default.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:tm.default.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:tm.default.color.shadow}}),t}(ac);function ah(e,t,a){if(a[0]===a[1])return a.slice();for(var i=(a[1]-a[0])/200,n=a[0],r=[],o=0;o<=200&&n<a[1];o++)r.push(n),n+=i;return r.push(a[1]),r}var ag=e.i(30649),af=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.autoPositionValues={left:1,right:1,top:1,bottom:1},a}return(0,s.__extends)(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,a,i){(this.visualMapModel=e,!1===e.get("show"))?this.group.removeAll():this.doRender(e,t,a,i)},t.prototype.renderBackground=function(e){var t=this.visualMapModel,a=ag.normalizeCssArray(t.get("padding")||0),i=e.getBoundingRect();e.add(new k.Rect({z2:-1,silent:!0,shape:{x:i.x-a[3],y:i.y-a[0],width:i.width+a[3]+a[1],height:i.height+a[0]+a[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,t,a){var i=(a=a||{}).forceState,n=this.visualMapModel,r={};function o(e){return r[e]}function s(e,t){r[e]=t}"color"===t&&(r.color=n.get("contentColor"));var l=n.controllerVisuals[i||n.getValueState(e)],d=tQ.prepareVisualTypes(l);return u.each(d,function(i){var n=l[i];a.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",n=l.__alphaForOpacity),tQ.dependsOn(i,t)&&n&&n.applyVisual(e,o,s)}),r[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,a=this.api,i=tR.createBoxLayoutReference(t,a).refContainer;tR.positionElement(e,t.getBoxLayoutParams(),i)},t.prototype.doRender=function(e,t,a,i){},t.type="visualMap",t}(tG.default),ay=e.i(23987),am=e.i(54063),av=[["left","right","width"],["top","bottom","height"]];function ax(e,t,a){var i=e.option,n=i.align;if(null!=n&&"auto"!==n)return n;for(var r={width:t.getWidth(),height:t.getHeight()},o=+("horizontal"===i.orient),s=av[o],l=[0,null,10],u={},d=0;d<3;d++)u[av[1-o][d]]=l[d],u[s[d]]=2===d?a[0]:i[s[d]];var c=[["x","width",3],["y","height",0]][o],p=(0,tR.getLayoutRect)(u,r,i.padding);return s[(p.margin[c[2]]||0)+p[c[0]]+.5*p[c[1]]<.5*r[c[1]]?0:1]}function a_(e,t){return u.each(e||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var ab=e.i(6734),aS=tL.linearMap,aw=u.each,aM=Math.min,aI=Math.max,aA=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._shapes={},a._dataInterval=[],a._handleEnds=[],a._hoverLinkDataIndices=[],a}return(0,s.__extends)(t,e),t.prototype.init=function(t,a){e.prototype.init.call(this,t,a),this._hoverLinkFromSeriesMouseOver=u.bind(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=u.bind(this._hideIndicator,this)},t.prototype.doRender=function(e,t,a,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var a=e.get("text");this._renderEndsText(t,a,0),this._renderEndsText(t,a,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,a){if(t){var i=t[1-a];i=null!=i?i+"":"";var n=this.visualMapModel,r=n.get("textGap"),o=n.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([o[0]/2,0===a?-r:o[1]+r],s),u=this._applyTransform(0===a?"bottom":"top",s),d=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new ay.Text({style:(0,eQ.createTextStyle)(c,{x:l[0],y:l[1],verticalAlign:c.get("verticalAlign")||("horizontal"===d?"middle":u),align:c.get("align")||("horizontal"===d?u:"center"),text:i})}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,a=this._shapes,i=t.itemSize,n=this._orient,r=this._useHandle,o=ax(t,this.api,i),s=a.mainGroup=this._createBarGroup(o),l=new N.Group;s.add(l),l.add(a.outOfRange=aL()),l.add(a.inRange=aL(null,r?aC(this._orient):null,u.bind(this._dragHandle,this,"all",!1),u.bind(this._dragHandle,this,"all",!0))),l.setClipPath(new k.Rect({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var d=t.textStyleModel.getTextRect("国"),c=aI(d.width,d.height);r&&(a.handleThumbs=[],a.handleLabels=[],a.handleLabelPoints=[],this._createHandle(t,s,0,i,c,n),this._createHandle(t,s,1,i,c,n)),this._createIndicator(t,s,i,c,n),e.add(s)},t.prototype._createHandle=function(e,t,a,i,n,r){var o=u.bind(this._dragHandle,this,a,!1),s=u.bind(this._dragHandle,this,a,!0),l=(0,ab.parsePercent)(e.get("handleSize"),i[0]),d=(0,tf.createSymbol)(e.get("handleIcon"),-l/2,-l/2,l,l,null,!0),p=aC(this._orient);d.attr({cursor:p,draggable:!0,drift:o,ondragend:s,onmousemove:function(e){c.stop(e.event)}}),d.x=i[0]/2,d.useStyle(e.getModel("handleStyle").getItemStyle()),d.setStyle({strokeNoScale:!0,strokeFirst:!0}),d.style.lineWidth*=2,d.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,V.setAsHighDownDispatcher)(d,!0),t.add(d);var h=this.visualMapModel.textStyleModel,g=new ay.Text({cursor:p,draggable:!0,drift:o,onmousemove:function(e){c.stop(e.event)},ondragend:s,style:(0,eQ.createTextStyle)(h,{x:0,y:0,text:""})});g.ensureState("blur").style={opacity:.1},g.stateTransition={duration:200},this.group.add(g);var f=[l,0],y=this._shapes;y.handleThumbs[a]=d,y.handleLabelPoints[a]=f,y.handleLabels[a]=g},t.prototype._createIndicator=function(e,t,a,i,n){var r=(0,ab.parsePercent)(e.get("indicatorSize"),a[0]),o=(0,tf.createSymbol)(e.get("indicatorIcon"),-r/2,-r/2,r,r,null,!0);o.attr({cursor:"move",invisible:!0,silent:!0,x:a[0]/2});var s=e.getModel("indicatorStyle").getItemStyle();if(o instanceof B.default){var l=o.style;o.useStyle(u.extend({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},s))}else o.useStyle(s);t.add(o);var d=this.visualMapModel.textStyleModel,c=new ay.Text({silent:!0,invisible:!0,style:(0,eQ.createTextStyle)(d,{x:0,y:0,text:""})});this.group.add(c);var p=[("horizontal"===n?i/2:6)+a[0]/2,0],h=this._shapes;h.indicator=o,h.indicatorLabel=c,h.indicatorLabelPoint=p,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,a,i){if(this._useHandle){if(this._dragging=!t,!t){var n=this._applyTransform([a,i],this._shapes.mainGroup,!0);this._updateInterval(e,n[1]),this._hideIndicator(),this._updateView()}!this.visualMapModel.get("realtime")===t&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?this._hovering||this._clearHoverLinkToSeries():aT(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),a=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[aS(t[0],a,i,!0),aS(t[1],a,i,!0)]},t.prototype._updateInterval=function(e,t){t=t||0;var a=this.visualMapModel,i=this._handleEnds,n=[0,a.itemSize[1]];(0,am.default)(t,i,n,e,0);var r=a.getExtent();this._dataInterval=[aS(i[0],n,r,!0),aS(i[1],n,r,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,a=t.getExtent(),i=this._shapes,n=[0,t.itemSize[1]],r=e?n:this._handleEnds,o=this._createBarVisual(this._dataInterval,a,r,"inRange"),s=this._createBarVisual(a,a,n,"outOfRange");i.inRange.setStyle({fill:o.barColor}).setShape("points",o.barPoints),i.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(r,o)},t.prototype._createBarVisual=function(e,t,a,i){var n={forceState:i,convertOpacityToAlpha:!0},r=this._makeColorGradient(e,n),o=[this.getControllerVisual(e[0],"symbolSize",n),this.getControllerVisual(e[1],"symbolSize",n)],s=this._createBarPoints(a,o);return{barColor:new q.default(0,0,0,1,r),barPoints:s,handlesColor:[r[0].color,r[r.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var a=[],i=(e[1]-e[0])/100;a.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var n=1;n<100;n++){var r=e[0]+i*n;if(r>e[1])break;a.push({color:this.getControllerVisual(r,"color",t),offset:n/100})}return a.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),a},t.prototype._createBarPoints=function(e,t){var a=this.visualMapModel.itemSize;return[[a[0]-t[0],e[0]],[a[0],e[0]],[a[0],e[1]],[a[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,a=this.visualMapModel.get("inverse");return new N.Group("horizontal"===t&&!a?{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2}:"horizontal"===t&&a?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"===t&&!a?{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"left"===e?1:-1})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var a=this._shapes,i=this.visualMapModel,n=a.handleThumbs,r=a.handleLabels,o=i.itemSize,s=i.getExtent(),l=this._applyTransform("left",a.mainGroup);aw([0,1],function(u){var d=n[u];d.setStyle("fill",t.handlesColor[u]),d.y=e[u];var c=aS(e[u],[0,o[1]],s,!0),p=this.getControllerVisual(c,"symbolSize");d.scaleX=d.scaleY=p/o[0],d.x=o[0]-p/2;var h=g.applyTransform(a.handleLabelPoints[u],g.getTransform(d,this.group));if("horizontal"===this._orient){var f="left"===l||"top"===l?(o[0]-p)/2:-((o[0]-p)/2);h[1]+=f}r[u].setStyle({x:h[0],y:h[1],text:i.formatValueText(this._dataInterval[u]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",a.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,t,a,i){var n=this.visualMapModel,r=n.getExtent(),o=n.itemSize,s=[0,o[1]],l=this._shapes,u=l.indicator;if(u){u.attr("invisible",!1);var d=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),c=this.getControllerVisual(e,"symbolSize"),p=aS(e,r,s,!0),h=o[0]-c/2,f={x:u.x,y:u.y};u.y=p,u.x=h;var y=g.applyTransform(l.indicatorLabelPoint,g.getTransform(u,this.group)),m=l.indicatorLabel;m.attr("invisible",!1);var v=this._applyTransform("left",l.mainGroup),x="horizontal"===this._orient;m.setStyle({text:(a||"")+n.formatValueText(t),verticalAlign:x?v:"middle",align:x?"center":v});var _={x:h,y:p,style:{fill:d}},b={style:{x:y[0],y:y[1]}};if(n.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var S={duration:100,easing:"cubicInOut",additive:!0};u.x=f.x,u.y=f.y,u.animateTo(_,S),m.animateTo(b,S)}else u.attr(_),m.attr(b);this._firstShowIndicator=!1;var w=this._shapes.handleLabels;if(w)for(var M=0;M<w.length;M++)this.api.enterBlur(w[M])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var a=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);i[1]=aM(aI(0,i[1]),a[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=a[0])}}).on("mouseout",function(){e._hovering=!1,e._dragging||e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var a=this.visualMapModel,i=a.itemSize;if(a.option.hoverLink){var n,r,o,s,l,u=[0,i[1]],d=a.getExtent();e=aM(aI(u[0],e),u[1]);var c=(n=a,r=d,o=u,s=6,(l=n.get("hoverLinkDataSize"))&&(s=aS(l,r,o,!0)/2),s),p=[e-c,e+c],g=aS(e,u,d,!0),f=[aS(p[0],u,d,!0),aS(p[1],u,d,!0)];p[0]<u[0]&&(f[0]=-1/0),p[1]>u[1]&&(f[1]=1/0),t&&(f[0]===-1/0?this._showIndicator(g,f[1],"< ",c):f[1]===1/0?this._showIndicator(g,f[0],"> ",c):this._showIndicator(g,g,"≈ ",c));var y=this._hoverLinkDataIndices,m=[];(t||aT(a))&&(m=this._hoverLinkDataIndices=a.findTargetDataIndices(f));var v=h.compressBatches(y,m);this._dispatchHighDown("downplay",a_(v[0],a)),this._dispatchHighDown("highlight",a_(v[1],a))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){if((0,tB.findEventDispatcher)(e.target,function(e){var a=(0,e0.getECData)(e);if(null!=a.dataIndex)return t=a,!0},!0),t){var t,a=this.ecModel.getSeriesByIndex(t.seriesIndex),i=this.visualMapModel;if(i.isTargetSeries(a)){var n=a.getData(t.dataType),r=n.getStore().get(i.getDataDimensionIndex(n),t.dataIndex);isNaN(r)||this._showIndicator(r,r)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var a=0;a<t.length;a++)this.api.leaveBlur(t[a])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",a_(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,a,i){var n=g.getTransform(t,i?null:this.group);return u.isArray(e)?g.applyTransform(e,n,a):g.transformDirection(e,n,a)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(af);function aL(e,t,a,i){return new O.Polygon({shape:{points:e},draggable:!!a,cursor:t,drift:a,onmousemove:function(e){c.stop(e.event)},ondragend:i})}function aT(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function aC(e){return"vertical"===e?"ns-resize":"ew-resize"}var aD={type:"selectDataRange",event:"dataRangeSelected",update:"update"},aP=function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})},ak=[{createOnAllSeries:!0,reset:function(e,t){var a=[];return t.eachComponent("visualMap",function(t){var i,n,r,o,s,l=e.pipelineContext;!t.isTargetSeries(e)||l&&l.large||a.push((i=t.stateList,n=t.targetVisuals,r=u.bind(t.getValueState,t),o=t.getDataDimensionIndex(e.getData()),s={},u.each(i,function(e){var t=tQ.prepareVisualTypes(n[e]);s[e]=t}),{progress:function(e,t){function a(e){return(0,ae.getItemVisualFromData)(t,u,e)}function i(e,a){(0,ae.setItemVisualFromData)(t,u,e,a)}null!=o&&(l=t.getDimensionIndex(o));for(var l,u,d=t.getStore();null!=(u=e.next());){var c=t.getRawDataItem(u);if(!c||!1!==c.visualMap)for(var p=null!=o?d.get(l,u):u,h=r(p),g=n[h],f=s[h],y=0,m=f.length;y<m;y++){var v=f[y];g[v]&&g[v].applyVisual(p,a,i)}}}}))}),a}},{createOnAllSeries:!0,reset:function(e,t){var a=e.getData(),i=[];t.eachComponent("visualMap",function(t){if(t.isTargetSeries(e)){var n=t.getVisualMeta(u.bind(aE,null,e,t))||{stops:[],outerColors:[]},r=t.getDataDimensionIndex(a);r>=0&&(n.dimension=r,i.push(n))}}),e.getData().setVisual("visualMeta",i)}}];function aE(e,t,a,i){for(var n=t.targetVisuals[i],r=tQ.prepareVisualTypes(n),o={color:(0,ae.getVisualFromData)(e.getData(),"color")},s=0,l=r.length;s<l;s++){var u=r[s],d=n["opacity"===u?"__alphaForOpacity":u];d&&d.applyVisual(a,c,p)}return o.color;function c(e){return o[e]}function p(e,t){o[e]=t}}var aN=u.each;function aR(e){var t=e&&e.visualMap;u.isArray(t)||(t=t?[t]:[]),aN(t,function(e){if(e){aO(e,"splitList")&&!aO(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&u.isArray(t)&&aN(t,function(e){u.isObject(e)&&(aO(e,"start")&&!aO(e,"min")&&(e.min=e.start),aO(e,"end")&&!aO(e,"max")&&(e.max=e.end))})}})}function aO(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var az=!1;function aV(e){az||(az=!0,e.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}),e.registerAction(aD,aP),(0,u.each)(ak,function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}),e.registerPreprocessor(aR))}function aG(e){e.registerComponentModel(ap),e.registerComponentView(aA),aV(e)}var aB=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._pieceList=[],a}return(0,s.__extends)(t,e),t.prototype.optionUpdated=function(t,a){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],aF[this._mode].call(this,this._pieceList),this._resetSelected(t,a);var n=this.option.categories;this.resetVisual(function(e,t){"categories"===i?(e.mappingMethod="category",e.categories=u.clone(n)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=u.map(this._pieceList,function(e){return e=u.clone(e),"inRange"!==t&&(e.visual=null),e}))})},t.prototype.completeVisualOption=function(){var t=this.option,a={},i=tQ.listVisualTypes(),n=this.isCategory();function r(e,t,a){return e&&e[t]&&e[t].hasOwnProperty(a)}u.each(t.pieces,function(e){u.each(i,function(t){e.hasOwnProperty(t)&&(a[t]=1)})}),u.each(a,function(e,a){var i=!1;u.each(this.stateList,function(e){i=i||r(t,e,a)||r(t.target,e,a)},this),i||u.each(this.stateList,function(e){(t[e]||(t[e]={}))[a]=tK(a,"inRange"===e?"active":"inactive",n)})},this),e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var a=this.option,i=this._pieceList,n=(t?a:e).selected||{};if(a.selected=n,u.each(i,function(e,t){var a=this.getSelectedMapKey(e);n.hasOwnProperty(a)||(n[a]=!0)},this),"single"===a.selectedMode){var r=!1;u.each(i,function(e,t){var a=this.getSelectedMapKey(e);n[a]&&(r?n[a]=!1:r=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=u.clone(e)},t.prototype.getValueState=function(e){var t=tQ.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[],a=this._pieceList;return this.eachTargetSeries(function(i){var n=[],r=i.getData();r.each(this.getDataDimensionIndex(r),function(t,i){tQ.findPieceIndex(t,a)===e&&n.push(i)},this),t.push({seriesId:i.id,dataIndex:n})},this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var a=e.interval||[];t=a[0]===-1/0&&a[1]===1/0?0:(a[0]+a[1])/2}return t},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var t=[],a=["",""],i=this,n=this._pieceList.slice();if(n.length){var r=n[0].interval[0];r!==-1/0&&n.unshift({interval:[-1/0,r]}),(r=n[n.length-1].interval[1])!==1/0&&n.push({interval:[r,1/0]})}else n.push({interval:[-1/0,1/0]});var o=-1/0;return u.each(n,function(e){var t=e.interval;t&&(t[0]>o&&s([o,t[0]],"outOfRange"),s(t.slice()),o=t[1])},this),{stops:t,outerColors:a}}function s(n,r){var o=i.getRepresentValue({interval:n});r||(r=i.getValueState(o));var s=e(o,r);n[0]===-1/0?a[0]=s:n[1]===1/0?a[1]=s:t.push({value:n[0],color:s},{value:n[1],color:s})}},t.type="visualMap.piecewise",t.defaultOption=(0,e$.inheritDefaultOption)(ac.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(ac),aF={splitNumber:function(e){var t=this.option,a=Math.min(t.precision,20),i=this.getExtent(),n=t.splitNumber;t.splitNumber=n=Math.max(parseInt(n,10),1);for(var r=(i[1]-i[0])/n;+r.toFixed(a)!==r&&a<5;)a++;t.precision=a,r=+r.toFixed(a),t.minOpen&&e.push({interval:[-1/0,i[0]],close:[0,0]});for(var o=0,s=i[0];o<n;s+=r,o++){var l=o===n-1?i[1]:s+r;e.push({interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({interval:[i[1],1/0],close:[0,0]}),(0,tL.reformIntervals)(e),u.each(e,function(e,t){e.index=t,e.text=this.formatValueText(e.interval)},this)},categories:function(e){var t=this.option;u.each(t.categories,function(t){e.push({text:this.formatValueText(t,!0),value:t})},this),aH(t,e)},pieces:function(e){var t=this.option;u.each(t.pieces,function(t,a){u.isObject(t)||(t={value:t});var i={text:"",index:a};if(null!=t.label&&(i.text=t.label),t.hasOwnProperty("value")){var n=i.value=t.value;i.interval=[n,n],i.close=[1,1]}else{for(var r=i.interval=[],o=i.close=[0,0],s=[1,0,1],l=[-1/0,1/0],d=[],c=0;c<2;c++){for(var p=[["gte","gt","min"],["lte","lt","max"]][c],h=0;h<3&&null==r[c];h++)r[c]=t[p[h]],o[c]=s[h],d[c]=2===h;null==r[c]&&(r[c]=l[c])}d[0]&&r[1]===1/0&&(o[0]=0),d[1]&&r[0]===-1/0&&(o[1]=0),r[0]===r[1]&&o[0]&&o[1]&&(i.value=r[0])}i.visual=tQ.retrieveVisuals(t),e.push(i)},this),aH(t,e),(0,tL.reformIntervals)(e),u.each(e,function(e){var t=e.close,a=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,a)},this)}};function aH(e,t){var a=e.inverse;("vertical"===e.orient?!a:a)&&t.reverse()}var aW=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,a=t.get("textGap"),i=t.textStyleModel,n=this._getItemAlign(),r=t.itemSize,o=this._getViewData(),s=o.endsText,l=u.retrieve(t.get("showLabel",!0),!s),d=!t.get("selectedMode");s&&this._renderEndsText(e,s[0],r,l,n),u.each(o.viewPieceList,function(o){var s=o.piece,c=new N.Group;c.onclick=u.bind(this._onItemClick,this,s),this._enableHoverLink(c,o.indexInModelPieceList);var p=t.getRepresentValue(s);if(this._createItemSymbol(c,p,[0,0,r[0],r[1]],d),l){var h=this.visualMapModel.getValueState(p),g=i.get("align")||n;c.add(new ay.Text({style:(0,eQ.createTextStyle)(i,{x:"right"===g?-a:r[0]+a,y:r[1]/2,text:s.text,verticalAlign:i.get("verticalAlign")||"middle",align:g,opacity:u.retrieve2(i.get("opacity"),"outOfRange"===h?.5:1)}),silent:d}))}e.add(c)},this),s&&this._renderEndsText(e,s[1],r,l,n),tR.box(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var a=this;e.on("mouseover",function(){return i("highlight")}).on("mouseout",function(){return i("downplay")});var i=function(e){var i=a.visualMapModel;i.option.hoverLink&&a.api.dispatchAction({type:e,batch:a_(i.findTargetDataIndices(t),i)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return ax(e,this.api,e.itemSize);var a=t.align;return a&&"auto"!==a||(a="left"),a},t.prototype._renderEndsText=function(e,t,a,i,n){if(t){var r=new N.Group,o=this.visualMapModel.textStyleModel;r.add(new ay.Text({style:(0,eQ.createTextStyle)(o,{x:i?"right"===n?a[0]:0:a[0]/2,y:a[1]/2,verticalAlign:"middle",align:i?n:"center",text:t})})),e.add(r)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=u.map(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),a=e.get("text"),i=e.get("orient"),n=e.get("inverse");return("horizontal"===i?n:!n)?t.reverse():a&&(a=a.slice().reverse()),{viewPieceList:t,endsText:a}},t.prototype._createItemSymbol=function(e,t,a,i){var n=(0,tf.createSymbol)(this.getControllerVisual(t,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(t,"color"));n.silent=i,e.add(n)},t.prototype._onItemClick=function(e){var t=this.visualMapModel,a=t.option,i=a.selectedMode;if(i){var n=u.clone(a.selected),r=t.getSelectedMapKey(e);"single"===i||!0===i?(n[r]=!0,u.each(n,function(e,t){n[t]=t===r})):n[r]=!n[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}},t.type="visualMap.piecewise",t}(af);function aY(e){e.registerComponentModel(aB),e.registerComponentView(aW),aV(e)}function aX(e){(0,r.use)(aG),(0,r.use)(aY)}var aU=e.i(76552),aZ=e.i(37563),aj=e.i(71645),aq=e.i(31846),aK=e.i(89503),aJ=Math.sin,a$=Math.cos,aQ=Math.PI,a0=2*Math.PI,a1=180/aQ,a2=function(){function e(){}return e.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},e.prototype.moveTo=function(e,t){this._add("M",e,t)},e.prototype.lineTo=function(e,t){this._add("L",e,t)},e.prototype.bezierCurveTo=function(e,t,a,i,n,r){this._add("C",e,t,a,i,n,r)},e.prototype.quadraticCurveTo=function(e,t,a,i){this._add("Q",e,t,a,i)},e.prototype.arc=function(e,t,a,i,n,r){this.ellipse(e,t,a,a,0,i,n,r)},e.prototype.ellipse=function(e,t,a,i,n,r,o,s){var l=o-r,u=!s,d=Math.abs(l),c=(0,aq.isAroundZero)(d-a0)||(u?l>=a0:-l>=a0),p=l>0?l%a0:l%a0+a0,h=!1;h=!!c||!(0,aq.isAroundZero)(d)&&p>=aQ==!!u;var g=e+a*a$(r),f=t+i*aJ(r);this._start&&this._add("M",g,f);var y=Math.round(n*a1);if(c){var m=1/this._p,v=(u?1:-1)*(a0-m);this._add("A",a,i,y,1,+u,e+a*a$(r+v),t+i*aJ(r+v)),m>.01&&this._add("A",a,i,y,0,+u,g,f)}else{var x=e+a*a$(o),_=t+i*aJ(o);this._add("A",a,i,y,+h,+u,x,_)}},e.prototype.rect=function(e,t,a,i){this._add("M",e,t),this._add("l",a,0),this._add("l",0,i),this._add("l",-a,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(e,t,a,i,n,r,o,s,l){for(var u=[],d=this._p,c=1;c<arguments.length;c++){var p=arguments[c];if(isNaN(p)){this._invalid=!0;return}u.push(Math.round(p*d)/d)}this._d.push(e+u.join(" ")),this._start="Z"===e},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),a3=e.i(68631),a5="none",a4=Math.round,a6=["lineCap","miterLimit","lineJoin"],a7=(0,u.map)(a6,function(e){return"stroke-"+e.toLowerCase()}),a8=e.i(885),a9="http://www.w3.org/2000/svg",ie="http://www.w3.org/1999/xlink",it="ecmeta_";function ia(e){return document.createElementNS(a9,e)}function ii(e,t,a,i,n){return{tag:e,attrs:a||{},children:i,text:n,key:t}}function ir(e,t){var a=(t=t||{}).newline?"\n":"";return function e(t){var i=t.children,n=t.tag,r=t.attrs,o=t.text;return function(e,t){var a=[];if(t)for(var i in t){var n=t[i],r=i;!1!==n&&(!0!==n&&null!=n&&(r+='="'+n+'"'),a.push(r))}return"<"+e+" "+a.join(" ")+">"}(n,r)+("style"!==n?(0,a8.encodeHTML)(o):o||"")+(i?""+a+(0,u.map)(i,function(t){return e(t)}).join(a)+a:"")+"</"+n+">"}(e)}function io(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function is(e,t,a,i){return ii("svg","root",{width:e,height:t,xmlns:a9,"xmlns:xlink":ie,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+e+" "+t},a)}var il=e.i(24070),iu=e.i(69231),id=z,ic=e.i(51405),ip=0,ih={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},ig="transform-origin",iy={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function im(e,t){var a=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[a]=e,a}function iv(e){return(0,u.isString)(e)?ih[e]?"cubic-bezier("+ih[e]+")":(0,ic.createCubicEasingFunc)(e)?e:"":""}function ix(e,t,a,i){var n=e.animators,r=n.length,o=[];if(e instanceof id.default){var s=function(e,t,a){var i,n,r=e.shape.paths,o={};if((0,u.each)(r,function(e){var t=io(a.zrId);t.animation=!0,ix(e,{},t,!0);var r=t.cssAnims,s=t.cssNodes,l=(0,u.keys)(r),d=l.length;if(d){var c=r[n=l[d-1]];for(var p in c){var h=c[p];o[p]=o[p]||{d:""},o[p].d+=h.d||""}for(var g in s){var f=s[g].animation;f.indexOf(n)>=0&&(i=f)}}}),i){t.d=!1;var s=im(o,a);return i.replace(n,s)}}(e,t,a);if(s)o.push(s);else if(!r)return}else if(!r)return;for(var l={},d=0;d<r;d++){var c=n[d],p=[c.getMaxTime()/1e3+"s"],h=iv(c.getClip().easing),g=c.getDelay();h?p.push(h):p.push("linear"),g&&p.push(g/1e3+"s"),c.getLoop()&&p.push("infinite");var f=p.join(" ");l[f]=l[f]||[f,[]],l[f][1].push(c)}for(var y in l){var s=function(n){var r,o,s=n[1],l=s.length,d={},c={},p={},h="animation-timing-function";function g(e,t,a){for(var i=e.getTracks(),n=e.getMaxTime(),r=0;r<i.length;r++){var o=i[r];if(o.needsAnimate()){var s=o.keyframes,l=o.propName;if(a&&(l=a(l)),l)for(var d=0;d<s.length;d++){var c=s[d],p=Math.round(c.time/n*100)+"%",g=iv(c.easing),f=c.rawValue;((0,u.isString)(f)||(0,u.isNumber)(f))&&(t[p]=t[p]||{},t[p][l]=c.rawValue,g&&(t[p][h]=g))}}}}for(var f=0;f<l;f++){var y=s[f],m=y.targetName;m?"shape"===m&&g(y,c):i||g(y,d)}for(var v in d){var x={};(0,tA.copyTransform)(x,e),(0,u.extend)(x,d[v]);var _=(0,aq.getSRTTransformString)(x),b=d[v][h];p[v]=_?{transform:_}:{},function(e,t){var a=t.originX,i=t.originY;(a||i)&&(e[ig]=a+"px "+i+"px")}(p[v],x),b&&(p[v][h]=b)}var S=!0;for(var v in c){p[v]=p[v]||{};var w=!r,b=c[v][h];w&&(r=new iu.default);var M=r.len();r.reset(),p[v].d=function(e,t,a){var i=(0,u.extend)({},e.shape);(0,u.extend)(i,t),e.buildPath(a,i);var n=new a2;return n.reset((0,aq.getPathPrecision)(e)),a.rebuildPath(n,1),n.generateStr(),n.getStr()}(e,c[v],r);var I=r.len();if(!w&&M!==I){S=!1;break}b&&(p[v][h]=b)}if(!S)for(var v in p)delete p[v].d;if(!i)for(var f=0;f<l;f++){var y=s[f],m=y.targetName;"style"===m&&g(y,p,function(e){return iy[e]})}for(var A=(0,u.keys)(p),L=!0,f=1;f<A.length;f++){var T=A[f-1],C=A[f];if(p[T][ig]!==p[C][ig]){L=!1;break}o=p[T][ig]}if(L&&o){for(var v in p)p[v][ig]&&delete p[v][ig];t[ig]=o}if((0,u.filter)(A,function(e){return(0,u.keys)(p[e]).length>0}).length)return im(p,a)+" "+n[0]+" both"}(l[y]);s&&o.push(s)}if(o.length){var m=a.zrId+"-cls-"+ip++;a.cssNodes["."+m]={animation:o.join(",")},t.class=m}}var i_=e.i(53592),ib=e.i(13823);function iS(e,t,a,i){var n=JSON.stringify(e),r=a.cssStyleCache[n];r||(r=a.zrId+"-cls-"+ip++,a.cssStyleCache[n]=r,a.cssNodes["."+r+(i?":hover":"")]=e),t.class=t.class?t.class+" "+r:r}var iw=e.i(24e3),iM=Math.round;function iI(e){return e&&(0,u.isString)(e.src)}function iA(e){return e&&(0,u.isFunction)(e.toDataURL)}function iL(e,t,a,i){!function(e,t,a,i){var n,r,o=null==t.opacity?1:t.opacity;if(a instanceof B.default)return e("opacity",o);if(null!=(n=t.fill)&&n!==a5){var s=(0,aq.normalizeColor)(t.fill);e("fill",s.color);var l=null!=t.fillOpacity?t.fillOpacity*s.opacity*o:s.opacity*o;(i||l<1)&&e("fill-opacity",l)}else e("fill",a5);if(null!=(r=t.stroke)&&r!==a5){var u=(0,aq.normalizeColor)(t.stroke);e("stroke",u.color);var d=t.strokeNoScale?a.getLineScale():1,c=d?(t.lineWidth||0)/d:0,p=null!=t.strokeOpacity?t.strokeOpacity*u.opacity*o:u.opacity*o,h=t.strokeFirst;if((i||1!==c)&&e("stroke-width",c),(i||h)&&e("paint-order",h?"stroke":"fill"),(i||p<1)&&e("stroke-opacity",p),t.lineDash){var g=(0,a3.getLineDash)(a),f=g[0],y=g[1];f&&(y=a4(y||0),e("stroke-dasharray",f.join(",")),(y||i)&&e("stroke-dashoffset",y))}else i&&e("stroke-dasharray",a5);for(var m=0;m<a6.length;m++){var v=a6[m];if(i||t[v]!==aK.DEFAULT_PATH_STYLE[v]){var x=t[v]||aK.DEFAULT_PATH_STYLE[v];x&&e(a7[m],x)}}}else i&&e("stroke",a5)}(function(n,r){var o="fill"===n||"stroke"===n;o&&(0,aq.isGradient)(r)?iO(t,e,n,i):o&&(0,aq.isPattern)(r)?iz(a,e,n,i):e[n]=r,o&&i.ssr&&"none"===r&&(e["pointer-events"]="visible")},t,a,!1),function(e,t,a){var i=e.style;if((0,aq.hasShadow)(i)){var n=(0,aq.getShadowKey)(e),r=a.shadowCache,o=r[n];if(!o){var s=e.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var d=i.shadowOffsetX||0,c=i.shadowOffsetY||0,p=i.shadowBlur,h=(0,aq.normalizeColor)(i.shadowColor),g=h.opacity,f=h.color;o=a.zrId+"-s"+a.shadowIdx++,a.defs[o]=ii("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[ii("feDropShadow","",{dx:d/l,dy:c/u,stdDeviation:p/2/l+" "+p/2/u,"flood-color":f,"flood-opacity":g})]),r[n]=o}t.filter=(0,aq.getIdURL)(o)}}(a,e,i)}function iT(e,t){var a=(0,iw.getElementSSRData)(t);a&&(a.each(function(t,a){null!=t&&(e[(it+a).toLowerCase()]=t+"")}),t.isSilent()&&(e[it+"silent"]="true"))}function iC(e){return(0,aq.isAroundZero)(e[0]-1)&&(0,aq.isAroundZero)(e[1])&&(0,aq.isAroundZero)(e[2])&&(0,aq.isAroundZero)(e[3]-1)}function iD(e,t,a){if(t&&!((0,aq.isAroundZero)(t[4])&&(0,aq.isAroundZero)(t[5])&&iC(t))){var i=a?10:1e4;e.transform=iC(t)?"translate("+iM(t[4]*i)/i+" "+iM(t[5]*i)/i+")":(0,aq.getMatrixStr)(t)}}function iP(e,t,a){for(var i=e.points,n=[],r=0;r<i.length;r++)n.push(iM(i[r][0]*a)/a),n.push(iM(i[r][1]*a)/a);t.points=n.join(" ")}function ik(e){return!e.smooth}var iE={circle:[(t=["cx","cy","r"],a=(0,u.map)(t,function(e){return"string"==typeof e?[e,e]:e}),function(e,t,i){for(var n=0;n<a.length;n++){var r=a[n],o=e[r[0]];null!=o&&(t[r[1]]=iM(o*i)/i)}})],polyline:[iP,ik],polygon:[iP,ik]};function iN(e,t){var a=e.style,i=e.shape,n=iE[e.type],r={},o=t.animation,s="path",l=e.style.strokePercent,u=t.compress&&(0,aq.getPathPrecision)(e)||4;if(!n||t.willUpdate||n[1]&&!n[1](i)||o&&function(e){for(var t=e.animators,a=0;a<t.length;a++)if("shape"===t[a].targetName)return!0;return!1}(e)||l<1){var d=!e.path||e.shapeChanged();e.path||e.createPathProxy();var c=e.path;d&&(c.beginPath(),e.buildPath(c,e.shape),e.pathUpdated());var p=c.getVersion(),h=e.__svgPathBuilder;e.__svgPathVersion===p&&h&&l===e.__svgPathStrokePercent||(h||(h=e.__svgPathBuilder=new a2),h.reset(u),c.rebuildPath(h,l),h.generateStr(),e.__svgPathVersion=p,e.__svgPathStrokePercent=l),r.d=h.getStr()}else{s=e.type;var g=Math.pow(10,u);n[0](i,r,g)}return iD(r,e.transform),iL(r,a,e,t),iT(r,e),t.animation&&ix(e,r,t),t.emphasis&&function(e,t,a){if(!e.ignore)if(e.isSilent()){var i={"pointer-events":"none"};iS(i,t,a,!0)}else{var n=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},r=n.fill;if(!r){var o=e.style&&e.style.fill,s=e.states.select&&e.states.select.style&&e.states.select.style.fill,l=e.currentStates.indexOf("select")>=0&&s||o;l&&(r=(0,Q.liftColor)(l))}var u=n.lineWidth;u&&(u/=!n.strokeNoScale&&e.transform?e.transform[0]:1);var i={cursor:"pointer"};r&&(i.fill=r),n.stroke&&(i.stroke=n.stroke),u&&(i["stroke-width"]=u),iS(i,t,a,!0)}}(e,r,t),ii(s,e.id+"",r)}function iR(e,t){return e instanceof aK.default?iN(e,t):e instanceof B.default?function(e,t){var a=e.style,i=a.image;if(i&&!(0,u.isString)(i)&&(iI(i)?i=i.src:iA(i)&&(i=i.toDataURL())),i){var n=a.x||0,r=a.y||0,o={href:i,width:a.width,height:a.height};return n&&(o.x=n),r&&(o.y=r),iD(o,e.transform),iL(o,a,e,t),iT(o,e),t.animation&&ix(e,o,t),ii("image",e.id+"",o)}}(e,t):e instanceof J.default?function(e,t){var a=e.style,i=a.text;if(null!=i&&(i+=""),!(!i||isNaN(a.x)||isNaN(a.y))){var n=a.font||ib.DEFAULT_FONT,r=a.x||0,o=(0,aq.adjustTextY)(a.y||0,(0,ab.getLineHeight)(n),a.textBaseline),s={"dominant-baseline":"central","text-anchor":aq.TEXT_ALIGN_TO_ANCHOR[a.textAlign]||a.textAlign};if((0,i_.hasSeparateFont)(a)){var l="",u=a.fontStyle,d=(0,i_.parseFontSize)(a.fontSize);if(!parseFloat(d))return;var c=a.fontFamily||ib.DEFAULT_FONT_FAMILY,p=a.fontWeight;l+="font-size:"+d+";font-family:"+c+";",u&&"normal"!==u&&(l+="font-style:"+u+";"),p&&"normal"!==p&&(l+="font-weight:"+p+";"),s.style=l}else s.style="font: "+n;return i.match(/\s/)&&(s["xml:space"]="preserve"),r&&(s.x=r),o&&(s.y=o),iD(s,e.transform),iL(s,a,e,t),iT(s,e),t.animation&&ix(e,s,t),ii("text",e.id+"",s,void 0,i)}}(e,t):void 0}function iO(e,t,a,i){var n,r=e[a],o={gradientUnits:r.global?"userSpaceOnUse":"objectBoundingBox"};if((0,aq.isLinearGradient)(r))n="linearGradient",o.x1=r.x,o.y1=r.y,o.x2=r.x2,o.y2=r.y2;else{if(!(0,aq.isRadialGradient)(r))return;n="radialGradient",o.cx=(0,u.retrieve2)(r.x,.5),o.cy=(0,u.retrieve2)(r.y,.5),o.r=(0,u.retrieve2)(r.r,.5)}for(var s=r.colorStops,l=[],d=0,c=s.length;d<c;++d){var p=100*(0,aq.round4)(s[d].offset)+"%",h=s[d].color,g=(0,aq.normalizeColor)(h),f=g.color,y=g.opacity,m={offset:p};m["stop-color"]=f,y<1&&(m["stop-opacity"]=y),l.push(ii("stop",d+"",m))}var v=ir(ii(n,"",o,l)),x=i.gradientCache,_=x[v];_||(_=i.zrId+"-g"+i.gradientIdx++,x[v]=_,o.id=_,i.defs[_]=ii(n,_,o,l)),t[a]=(0,aq.getIdURL)(_)}function iz(e,t,a,i){var n,r,o,s=e.style[a],l=e.getBoundingRect(),d={},c=s.repeat,p="no-repeat"===c,h="repeat-x"===c,g="repeat-y"===c;if((0,aq.isImagePattern)(s)){var f=s.imageWidth,y=s.imageHeight,m=void 0,v=s.image;if((0,u.isString)(v)?m=v:iI(v)?m=v.src:iA(v)&&(m=v.toDataURL()),"u"<typeof Image){var x="Image width/height must been given explictly in svg-ssr renderer.";(0,u.assert)(f,x),(0,u.assert)(y,x)}else if(null==f||null==y){var _=function(e,t){if(e){var a=e.elm,i=f||t.width,n=y||t.height;"pattern"===e.tag&&(h?(n=1,i/=l.width):g&&(i=1,n/=l.height)),e.attrs.width=i,e.attrs.height=n,a&&(a.setAttribute("width",i),a.setAttribute("height",n))}},b=(0,il.createOrUpdateImage)(m,null,e,function(e){p||_(w,e),_(n,e)});b&&b.width&&b.height&&(f=f||b.width,y=y||b.height)}n=ii("image","img",{href:m,width:f,height:y}),d.width=f,d.height=y}else s.svgElement&&(n=(0,u.clone)(s.svgElement),d.width=s.svgWidth,d.height=s.svgHeight);if(n){p?r=o=1:h?(o=1,r=d.width/l.width):g?(r=1,o=d.height/l.height):d.patternUnits="userSpaceOnUse",null==r||isNaN(r)||(d.width=r),null==o||isNaN(o)||(d.height=o);var S=(0,aq.getSRTTransformString)(s);S&&(d.patternTransform=S);var w=ii("pattern","",d,[n]),M=ir(w),I=i.patternCache,A=I[M];A||(A=i.zrId+"-p"+i.patternIdx++,I[M]=A,d.id=A,w=i.defs[A]=ii("pattern",A,d,[n])),t[a]=(0,aq.getIdURL)(A)}}function iV(e){return document.createTextNode(e)}function iG(e,t,a){e.insertBefore(t,a)}function iB(e,t){e.removeChild(t)}function iF(e,t){e.appendChild(t)}function iH(e){return e.parentNode}function iW(e){return e.nextSibling}function iY(e,t){e.textContent=t}var iX=ii("","");function iU(e){return void 0===e}function iZ(e){return void 0!==e}function ij(e,t){var a=e.key===t.key;return e.tag===t.tag&&a}function iq(e){var t,a=e.children,i=e.tag;if(iZ(i)){var n=e.elm=ia(i);if(i$(iX,e),(0,u.isArray)(a))for(t=0;t<a.length;++t){var r=a[t];null!=r&&iF(n,iq(r))}else iZ(e.text)&&!(0,u.isObject)(e.text)&&iF(n,iV(e.text))}else e.elm=iV(e.text);return e.elm}function iK(e,t,a,i,n){for(;i<=n;++i){var r=a[i];null!=r&&iG(e,iq(r),t)}}function iJ(e,t,a,i){for(;a<=i;++a){var n=t[a];null!=n&&(iZ(n.tag)?iB(iH(n.elm),n.elm):iB(e,n.elm))}}function i$(e,t){var a,i=t.elm,n=e&&e.attrs||{},r=t.attrs||{};if(n!==r){for(a in r){var o=r[a];n[a]!==o&&(!0===o?i.setAttribute(a,""):!1===o?i.removeAttribute(a):"style"===a?i.style.cssText=o:120!==a.charCodeAt(0)?i.setAttribute(a,o):"xmlns:xlink"===a||"xmlns"===a?i.setAttributeNS("http://www.w3.org/2000/xmlns/",a,o):58===a.charCodeAt(3)?i.setAttributeNS("http://www.w3.org/XML/1998/namespace",a,o):58===a.charCodeAt(5)?i.setAttributeNS(ie,a,o):i.setAttribute(a,o))}for(a in n)a in r||i.removeAttribute(a)}}var iQ=e.i(80814),i0=0,i1=function(){function e(e,t,a){if(this.type="svg",this.refreshHover=i2("refreshHover"),this.configLayer=i2("configLayer"),this.storage=t,this._opts=a=(0,u.extend)({},a),this.root=e,this._id="zr"+i0++,this._oldVNode=is(a.width,a.height),e&&!a.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var n=this._svgDom=this._oldVNode.elm=ia("svg");i$(null,this._oldVNode),i.appendChild(n),e.appendChild(i)}this.resize(a.width,a.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",function(e,t){if(ij(e,t))!function e(t,a){var i=a.elm=t.elm,n=t.children,r=a.children;t!==a&&(i$(t,a),iU(a.text)?iZ(n)&&iZ(r)?n!==r&&function(t,a,i){for(var n,r,o,s=0,l=0,u=a.length-1,d=a[0],c=a[u],p=i.length-1,h=i[0],g=i[p];s<=u&&l<=p;)null==d?d=a[++s]:null==c?c=a[--u]:null==h?h=i[++l]:null==g?g=i[--p]:ij(d,h)?(e(d,h),d=a[++s],h=i[++l]):ij(c,g)?(e(c,g),c=a[--u],g=i[--p]):ij(d,g)?(e(d,g),iG(t,d.elm,iW(c.elm)),d=a[++s],g=i[--p]):(ij(c,h)?(e(c,h),iG(t,c.elm,d.elm),c=a[--u]):(iU(n)&&(n=function(e,t,a){for(var i={},n=t;n<=a;++n){var r=e[n].key;void 0!==r&&(i[r]=n)}return i}(a,s,u)),iU(r=n[h.key])||(o=a[r]).tag!==h.tag?iG(t,iq(h),d.elm):(e(o,h),a[r]=void 0,iG(t,o.elm,d.elm))),h=i[++l]);(s<=u||l<=p)&&(s>u?iK(t,null==i[p+1]?null:i[p+1].elm,i,l,p):iJ(t,a,s,u))}(i,n,r):iZ(r)?(iZ(t.text)&&iY(i,""),iK(i,null,r,0,r.length-1)):iZ(n)?iJ(i,n,0,n.length-1):iZ(t.text)&&iY(i,""):t.text!==a.text&&(iZ(n)&&iJ(i,n,0,n.length-1),iY(i,a.text)))}(e,t);else{var a=e.elm,i=iH(a);iq(t),null!==i&&(iG(i,t.elm,iW(a)),iJ(i,[e],0,0))}}(this._oldVNode,e),this._oldVNode=e}},e.prototype.renderOneToVNode=function(e){return iR(e,io(this._id))},e.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),a=this._width,i=this._height,n=io(this._id);n.animation=e.animation,n.willUpdate=e.willUpdate,n.compress=e.compress,n.emphasis=e.emphasis,n.ssr=this._opts.ssr;var r=[],o=this._bgVNode=function(e,t,a,i){var n;if(a&&"none"!==a)if(n=ii("rect","bg",{width:e,height:t,x:"0",y:"0"}),(0,aq.isGradient)(a))iO({fill:a},n.attrs,"fill",i);else if((0,aq.isPattern)(a))iz({style:{fill:a},dirty:u.noop,getBoundingRect:function(){return{width:e,height:t}}},n.attrs,"fill",i);else{var r=(0,aq.normalizeColor)(a),o=r.color,s=r.opacity;n.attrs.fill=o,s<1&&(n.attrs["fill-opacity"]=s)}return n}(a,i,this._backgroundColor,n);o&&r.push(o);var s=e.compress?null:this._mainVNode=ii("g","main",{},[]);this._paintList(t,n,s?s.children:r),s&&r.push(s);var l=(0,u.map)((0,u.keys)(n.defs),function(e){return n.defs[e]});if(l.length&&r.push(ii("defs","defs",{},l)),e.animation){var d,c,p,h,g,f,y,m,v=(d=n.cssNodes,c=n.cssAnims,g=" {"+(h=(p={newline:!0}).newline?"\n":""),f=h+"}",y=(0,u.map)((0,u.keys)(d),function(e){return e+g+(0,u.map)((0,u.keys)(d[e]),function(t){return t+":"+d[e][t]+";"}).join(h)+f}).join(h),m=(0,u.map)((0,u.keys)(c),function(e){return"@keyframes "+e+g+(0,u.map)((0,u.keys)(c[e]),function(t){return t+g+(0,u.map)((0,u.keys)(c[e][t]),function(a){var i=c[e][t][a];return"d"===a&&(i='path("'+i+'")'),a+":"+i+";"}).join(h)+f}).join(h)+f}).join(h),y||m?["<![CDATA[",y,m,"]]>"].join(h):"");if(v){var x=ii("style","stl",{},[],v);r.push(x)}}return is(a,i,r,e.useViewBox)},e.prototype.renderToString=function(e){return e=e||{},ir(this.renderToVNode({animation:(0,u.retrieve2)(e.cssAnimation,!0),emphasis:(0,u.retrieve2)(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:(0,u.retrieve2)(e.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(e,t,a){for(var i,n,r=e.length,o=[],s=0,l=0,u=0;u<r;u++){var d=e[u];if(!d.invisible){var c=d.__clipPaths,p=c&&c.length||0,h=n&&n.length||0,g=void 0;for(g=Math.max(p-1,h-1);g>=0&&(!c||!n||c[g]!==n[g]);g--);for(var f=h-1;f>g;f--)i=o[--s-1];for(var y=g+1;y<p;y++){var m={};!function(e,t,a){var i=a.clipPathCache,n=a.defs,r=i[e.id];if(!r){var o={id:r=a.zrId+"-c"+a.clipPathIdx++};i[e.id]=r,n[r]=ii("clipPath",r,o,[iN(e,a)])}t["clip-path"]=(0,aq.getIdURL)(r)}(c[y],m,t);var v=ii("g","clip-g-"+l++,m,[]);(i?i.children:a).push(v),o[s++]=v,i=v}n=c;var x=iR(d,t);x&&(i?i.children:a).push(x)}}},e.prototype.resize=function(e,t){var a=this._opts,i=this.root,n=this._viewport;if(null!=e&&(a.width=e),null!=t&&(a.height=t),i&&n&&(n.style.display="none",e=(0,iQ.getSize)(i,0,a),t=(0,iQ.getSize)(i,1,a),n.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,n){var r=n.style;r.width=e+"px",r.height=t+"px"}if((0,aq.isPattern)(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",e),o.setAttribute("height",t));var s=this._bgVNode&&this._bgVNode.elm;s&&(s.setAttribute("width",e),s.setAttribute("height",t))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(e){var t=this.renderToString(),a="data:image/svg+xml;";return e?(t=(0,aq.encodeBase64)(t))&&a+"base64,"+t:a+"charset=UTF-8,"+encodeURIComponent(t)},e}();function i2(e){return function(){}}var i3=e.i(80600),i5=e.i(355),i4=e.i(63807),i6=e.i(37233),i7=e.i(54823),i8=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.getInitialData=function(e,t){return(0,i7.default)(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,t,a){var i=this.coordinateSystem;if(i&&i.clampData){var n=i.clampData(e),r=i.dataToPoint(n);if(a)(0,u.each)(i.getAxes(),function(e,a){if("category"===e.type&&null!=t){var i=e.getTicksCoords(),o=e.getTickModel().get("alignWithLabel"),s=n[a],l="x1"===t[a]||"y1"===t[a];if(l&&!o&&(s+=1),!(i.length<2)){if(2===i.length){r[a]=e.toGlobalCoord(e.getExtent()[+!!l]);return}for(var u=void 0,d=void 0,c=1,p=0;p<i.length;p++){var h=i[p].coord,g=p===i.length-1?i[p-1].tickValue+c:i[p].tickValue;if(g===s){d=h;break}if(g<s)u=h;else if(null!=u&&g>s){d=(h+u)/2;break}1===p&&(c=g-i[0].tickValue)}null==d&&(u?u&&(d=i[i.length-1].coord):d=i[0].coord),r[a]=e.toGlobalCoord(d)}}});else{var o=this.getData(),s=o.getLayout("offset"),l=o.getLayout("size"),d=+!i.getBaseAxis().isHorizontal();r[d]+=s+l/2}return r}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},t}(tp.default);tp.default.registerClass(i8);var i9=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.getInitialData=function(){return(0,i7.default)(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,a){return a.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=(0,e$.inheritDefaultOption)(i8.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:tm.default.color.primary,borderWidth:2}},realtimeSort:!1}),t}(i8),ne=e.i(70630),nt=e.i(11357),na=e.i(63666),ni=e.i(1905),nn=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},nr=function(e){function t(t){var a=e.call(this,t)||this;return a.type="sausage",a}return(0,s.__extends)(t,e),t.prototype.getDefaultShape=function(){return new nn},t.prototype.buildPath=function(e,t){var a=t.cx,i=t.cy,n=Math.max(t.r0||0,0),r=Math.max(t.r,0),o=(r-n)*.5,s=n+o,l=t.startAngle,u=t.endAngle,d=t.clockwise,c=2*Math.PI,p=d?u-l<c:l-u<c;p||(l=u-(d?c:-c));var h=Math.cos(l),g=Math.sin(l),f=Math.cos(u),y=Math.sin(u);p?(e.moveTo(h*n+a,g*n+i),e.arc(h*s+a,g*s+i,o,-Math.PI+l,l,!d)):e.moveTo(h*r+a,g*r+i),e.arc(a,i,r,l,u,!d),e.arc(f*s+a,y*s+i,o,u-2*Math.PI,u-Math.PI,!d),0!==n&&e.arc(a,i,n,u,l,d)},t}(ni.Path),no=e.i(75944),ns=e.i(80194);function nl(e,t,a){return t*Math.sin(e)*(a?-1:1)}function nu(e,t,a){return t*Math.cos(e)*(a?1:-1)}function nd(e,t,a){var i=e.get("borderRadius");if(null==i)return a?{cornerRadius:0}:null;(0,u.isArray)(i)||(i=[i,i,i,i]);var n=Math.abs(t.r||0-t.r0||0);return{cornerRadius:(0,u.map)(i,function(e){return(0,ab.parsePercent)(e,n)})}}var nc=Math.max,np=Math.min,nh=function(e){function t(){var a=e.call(this)||this;return a.type=t.type,a._isFirstFrame=!0,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a,i){this._model=e,this._removeOnRenderedListener(a),this._updateDrawMode(e);var n=e.get("coordinateSystem");("cartesian2d"===n||"polar"===n)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,a):this._renderNormal(e,t,a,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){(0,g.traverseElements)(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t!==this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,a,i){var n,r=this.group,o=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?n=u.isHorizontal():"polar"===l.type&&(n="angle"===u.dim);var d=e.isAnimationEnabled()?e:null,c=function(e,t){var a=e.get("realtimeSort",!0),i=t.getBaseAxis();if(a&&"category"===i.type&&"cartesian2d"===t.type)return{baseAxis:i,otherAxis:t.getOtherAxis(i)}}(e,l);c&&this._enableRealtimeSort(c,o,a);var p=e.get("clip",!0)||c,h=function(e,t){var a=e.getArea&&e.getArea();if((0,no.isCoordinateSystemType)(e,"cartesian2d")){var i=e.getBaseAxis();if("category"!==i.type||!i.onBand){var n=t.getLayout("bandWidth");i.isHorizontal()?(a.x-=n,a.width+=2*n):(a.y-=n,a.height+=2*n)}}return a}(l,o);r.removeClipPath();var g=e.get("roundCap",!0),f=e.get("showBackground",!0),y=e.getModel("backgroundStyle"),m=y.get("borderRadius")||0,v=[],x=this._backgroundEls,_=i&&i.isInitSort,b=i&&"changeAxisOrder"===i.type;function S(e){var t,a,i,r=nb[l.type](o,e);if(!r)return null;var s=(t=l,a=n,i=r,new("polar"===t.type?ne.Sector:k.Rect)({shape:nT(a,i,t),silent:!0,z2:0}));return s.useStyle(y.getItemStyle()),"cartesian2d"===l.type?s.setShape("r",m):s.setShape("cornerRadius",m),v[e]=s,s}o.diff(s).add(function(t){var a=o.getItemModel(t),i=nb[l.type](o,t,a);if(i&&(f&&S(t),o.hasValue(t)&&n_[l.type](i))){var s=!1;p&&(s=ng[l.type](h,i));var y=nf[l.type](e,o,t,i,n,d,u.model,!1,g);c&&(y.forceLabelAnimation=!0),nw(y,o,t,a,i,e,n,"polar"===l.type),_?y.attr({shape:i}):c?ny(c,d,y,i,t,n,!1,!1):(0,E.initProps)(y,{shape:i},e,t),o.setItemGraphicEl(t,y),r.add(y),y.ignore=s}}).update(function(t,a){var i=o.getItemModel(t),w=nb[l.type](o,t,i);if(w){if(f){var M=void 0;0===x.length?M=S(a):((M=x[a]).useStyle(y.getItemStyle()),"cartesian2d"===l.type?M.setShape("r",m):M.setShape("cornerRadius",m),v[t]=M);var I=nb[l.type](o,t),A=nT(n,I,l);(0,E.updateProps)(M,{shape:A},d,t)}var L=s.getItemGraphicEl(a);if(!o.hasValue(t)||!n_[l.type](w))return void r.remove(L);var T=!1;if(p&&(T=ng[l.type](h,w))&&r.remove(L),L&&("sector"===L.type&&g||"sausage"===L.type&&!g)&&(L&&(0,E.removeElementWithFadeOut)(L,e,a),L=null),L?(0,E.saveOldStyle)(L):L=nf[l.type](e,o,t,w,n,d,u.model,!0,g),c&&(L.forceLabelAnimation=!0),b){var C=L.getTextContent();if(C){var D=(0,eQ.labelInner)(C);null!=D.prevValue&&(D.prevValue=D.value)}}else nw(L,o,t,i,w,e,n,"polar"===l.type);_?L.attr({shape:w}):c?ny(c,d,L,w,t,n,!0,b):(0,E.updateProps)(L,{shape:w},e,t,null),o.setItemGraphicEl(t,L),L.ignore=T,r.add(L)}}).remove(function(t){var a=s.getItemGraphicEl(t);a&&(0,E.removeElementWithFadeOut)(a,e,t)}).execute();var w=this._backgroundGroup||(this._backgroundGroup=new G.default);w.removeAll();for(var M=0;M<v.length;++M)w.add(v[M]);r.add(w),this._backgroundEls=v,this._data=o},t.prototype._renderLarge=function(e,t,a){this._clear(),nA(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),nA(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)&&(0,na.createClipPath)(e.coordinateSystem,!1,e),a=this.group;t?a.setClipPath(t):a.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,a){var i=this;if(t.count()){var n=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,a),this._isFirstFrame=!1;else{var r=function(e){var a=t.getItemGraphicEl(e),i=a&&a.shape;return i&&Math.abs(n.isHorizontal()?i.height:i.width)||0};this._onRendered=function(){i._updateSortWithinSameData(t,r,n,a)},a.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,a){var i=[];return e.each(e.mapDimension(t.dim),function(e,t){var n=a(t);n=null==n?NaN:n,i.push({dataIndex:t,mappedValue:n,ordinalNumber:e})}),i.sort(function(e,t){return t.mappedValue-e.mappedValue}),{ordinalNumbers:(0,u.map)(i,function(e){return e.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,t,a){for(var i=a.scale,n=e.mapDimension(a.dim),r=Number.MAX_VALUE,o=0,s=i.getOrdinalMeta().categories.length;o<s;++o){var l=e.rawIndexOf(n,i.getRawOrdinalNumber(o)),u=l<0?5e-324:t(e.indexOfRawIndex(l));if(u>r)return!0;r=u}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var a=t.scale,i=a.getExtent(),n=Math.max(0,i[0]),r=Math.min(i[1],a.getOrdinalMeta().categories.length-1);n<=r;++n)if(e.ordinalNumbers[n]!==a.getRawOrdinalNumber(n))return!0},t.prototype._updateSortWithinSameData=function(e,t,a,i){if(this._isOrderChangedWithinSameData(e,t,a)){var n=this._dataSort(e,a,t);this._isOrderDifferentInView(n,a)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:n}))}},t.prototype._dispatchInitSort=function(e,t,a){var i=t.baseAxis,n=this._dataSort(e,i,function(a){return e.get(e.mapDimension(t.otherAxis.dim),a)});a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:n})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,a=this._data;e&&e.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl(function(t){(0,E.removeElementWithFadeOut)(t,e,(0,e0.getECData)(t).dataIndex)})):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(ts.default),ng={cartesian2d:function(e,t){var a=t.width<0?-1:1,i=t.height<0?-1:1;a<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var n=e.x+e.width,r=e.y+e.height,o=nc(t.x,e.x),s=np(t.x+t.width,n),l=nc(t.y,e.y),u=np(t.y+t.height,r),d=s<o,c=u<l;return t.x=d&&o>n?s:o,t.y=c&&l>r?u:l,t.width=d?0:s-o,t.height=c?0:u-l,a<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),d||c},polar:function(e,t){var a=t.r0<=t.r?1:-1;if(a<0){var i=t.r;t.r=t.r0,t.r0=i}var n=np(t.r,e.r),r=nc(t.r0,e.r0);t.r=n,t.r0=r;var o=n-r<0;if(a<0){var i=t.r;t.r=t.r0,t.r0=i}return o}},nf={cartesian2d:function(e,t,a,i,n,r,o,s,l){var d=new k.Rect({shape:(0,u.extend)({},i),z2:1});return d.__dataIndex=a,d.name="item",r&&(d.shape[n?"height":"width"]=0),d},polar:function(e,t,a,i,n,r,o,s,l){var u,d,c=!n&&l?nr:ne.Sector,p=new c({shape:i,z2:1});if(p.name="item",u=nS(n),d=c===nr,p.calculateTextPosition=function(e,t,a){var i=t.position;if(!i||i instanceof Array)return(0,ab.calculateTextPosition)(e,t,a);var n=u(i),r=null!=t.distance?t.distance:5,o=this.shape,s=o.cx,l=o.cy,c=o.r,p=o.r0,h=(c+p)/2,g=o.startAngle,f=o.endAngle,y=(g+f)/2,m=d?Math.abs(c-p)/2:0,v=Math.cos,x=Math.sin,_=s+c*v(g),b=l+c*x(g),S="left",w="top";switch(n){case"startArc":_=s+(p-r)*v(y),b=l+(p-r)*x(y),S="center",w="top";break;case"insideStartArc":_=s+(p+r)*v(y),b=l+(p+r)*x(y),S="center",w="bottom";break;case"startAngle":_=s+h*v(g)+nl(g,r+m,!1),b=l+h*x(g)+nu(g,r+m,!1),S="right",w="middle";break;case"insideStartAngle":_=s+h*v(g)+nl(g,-r+m,!1),b=l+h*x(g)+nu(g,-r+m,!1),S="left",w="middle";break;case"middle":_=s+h*v(y),b=l+h*x(y),S="center",w="middle";break;case"endArc":_=s+(c+r)*v(y),b=l+(c+r)*x(y),S="center",w="bottom";break;case"insideEndArc":_=s+(c-r)*v(y),b=l+(c-r)*x(y),S="center",w="top";break;case"endAngle":_=s+h*v(f)+nl(f,r+m,!0),b=l+h*x(f)+nu(f,r+m,!0),S="left",w="middle";break;case"insideEndAngle":_=s+h*v(f)+nl(f,-r+m,!0),b=l+h*x(f)+nu(f,-r+m,!0),S="right",w="middle";break;default:return(0,ab.calculateTextPosition)(e,t,a)}return(e=e||{}).x=_,e.y=b,e.align=S,e.verticalAlign=w,e},r){var h=p.shape,g=n?"r":"endAngle",f={};h[g]=n?i.r0:i.startAngle,f[g]=i[g],(s?E.updateProps:E.initProps)(p,{shape:f},r)}return p}};function ny(e,t,a,i,n,r,o,s){r?(u={x:i.x,width:i.width},l={y:i.y,height:i.height}):(u={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(o?E.updateProps:E.initProps)(a,{shape:l},t,n,null);var l,u,d=t?e.baseAxis.model:null;(o?E.updateProps:E.initProps)(a,{shape:u},d,n)}function nm(e,t){for(var a=0;a<t.length;a++)if(!isFinite(e[t[a]]))return!0;return!1}var nv=["x","y","width","height"],nx=["cx","cy","r","startAngle","endAngle"],n_={cartesian2d:function(e){return!nm(e,nv)},polar:function(e){return!nm(e,nx)}},nb={cartesian2d:function(e,t,a){var i,n,r,o=e.getItemLayout(t);if(!o)return null;var s=a?(i=a,n=o,(r=i.get(["itemStyle","borderColor"]))&&"none"!==r?Math.min(i.get(["itemStyle","borderWidth"])||0,isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height)):0):0,l=o.width>0?1:-1,u=o.height>0?1:-1;return{x:o.x+l*s/2,y:o.y+u*s/2,width:o.width-l*s,height:o.height-u*s}},polar:function(e,t,a){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function nS(e){var t;return t=e?"Arc":"Angle",function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}function nw(e,t,a,i,n,r,o,s){var l=t.getItemVisual(a,"style");if(s){if(!r.get("roundCap")){var d=e.shape,c=nd(i.getModel("itemStyle"),d,!0);(0,u.extend)(d,c),e.setShape(d)}}else{var p=i.get(["itemStyle","borderRadius"])||0;e.setShape("r",p)}e.useStyle(l);var h=i.getShallow("cursor");h&&e.attr("cursor",h);var g=s?o?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":o?n.height>=0?"bottom":"top":n.width>=0?"right":"left",f=(0,eQ.getLabelStatesModels)(i);(0,eQ.setLabelStyle)(e,f,{labelFetcher:r,labelDataIndex:a,defaultText:(0,ns.getDefaultLabel)(r.getData(),a),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:g});var y=e.getTextContent();if(s&&y){var m=i.get(["label","position"]);e.textConfig.inside="middle"===m||null,function(e,t,a,i){if((0,u.isNumber)(i))return e.setTextConfig({rotation:i});if((0,u.isArray)(t))return e.setTextConfig({rotation:0});var n,r=e.shape,o=r.clockwise?r.startAngle:r.endAngle,s=r.clockwise?r.endAngle:r.startAngle,l=a(t);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":n=(o+s)/2;break;case"startAngle":case"insideStartAngle":n=o;break;case"endAngle":case"insideEndAngle":n=s;break;default:e.setTextConfig({rotation:0});return}var d=1.5*Math.PI-n;"middle"===l&&d>Math.PI/2&&d<1.5*Math.PI&&(d-=Math.PI),e.setTextConfig({rotation:d})}(e,"outside"===m?g:m,nS(o),i.get(["label","rotate"]))}(0,eQ.setLabelValueAnimation)(y,f,r.getRawValue(a),function(e){return(0,ns.getDefaultInterpolatedLabel)(t,e)});var v=i.getModel(["emphasis"]);(0,V.toggleHoverEmphasis)(e,v.get("focus"),v.get("blurScope"),v.get("disabled")),(0,V.setStatesStylesFromModel)(e,i),null!=n.startAngle&&null!=n.endAngle&&n.startAngle===n.endAngle&&(e.style.fill="none",e.style.stroke="none",(0,u.each)(e.states,function(e){e.style&&(e.style.fill=e.style.stroke="none")}))}var nM=function(){},nI=function(e){function t(t){var a=e.call(this,t)||this;return a.type="largeBar",a}return(0,s.__extends)(t,e),t.prototype.getDefaultShape=function(){return new nM},t.prototype.buildPath=function(e,t){for(var a=t.points,i=this.baseDimIdx,n=1-this.baseDimIdx,r=[],o=[],s=this.barWidth,l=0;l<a.length;l+=3)o[i]=s,o[n]=a[l+2],r[i]=a[l+i],r[n]=a[l+n],e.rect(r[0],r[1],o[0],o[1])},t}(aK.default);function nA(e,t,a,i){var n=e.getData(),r=+!!n.getLayout("valueAxisHorizontal"),o=n.getLayout("largeDataIndices"),s=n.getLayout("size"),l=e.getModel("backgroundStyle"),u=n.getLayout("largeBackgroundPoints");if(u){var d=new nI({shape:{points:u},incremental:!!i,silent:!0,z2:0});d.baseDimIdx=r,d.largeDataIndices=o,d.barWidth=s,d.useStyle(l.getItemStyle()),t.add(d),a&&a.push(d)}var c=new nI({shape:{points:n.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});c.baseDimIdx=r,c.largeDataIndices=o,c.barWidth=s,t.add(c),c.useStyle(n.getVisual("style")),c.style.stroke=null,(0,e0.getECData)(c).seriesIndex=e.seriesIndex,e.get("silent")||(c.on("mousedown",nL),c.on("mousemove",nL)),a&&a.push(c)}var nL=(0,nt.throttle)(function(e){var t=function(e,t,a){for(var i=e.baseDimIdx,n=1-i,r=e.shape.points,o=e.largeDataIndices,s=[],l=[],u=e.barWidth,d=0,c=r.length/3;d<c;d++){var p=3*d;if(l[i]=u,l[n]=r[p+2],s[i]=r[p+i],s[n]=r[p+n],l[n]<0&&(s[n]+=l[n],l[n]=-l[n]),t>=s[0]&&t<=s[0]+l[0]&&a>=s[1]&&a<=s[1]+l[1])return o[d]}return -1}(this,e.offsetX,e.offsetY);(0,e0.getECData)(this).dataIndex=t>=0?t:null},30,!1);function nT(e,t,a){if((0,no.isCoordinateSystemType)(a,"cartesian2d")){var i=a.getArea();return{x:e?t.x:i.x,y:e?i.y:t.y,width:e?t.width:i.width,height:e?i.height:t.height}}var i=a.getArea();return{cx:i.cx,cy:i.cy,r0:e?i.r0:t.r0,r:e?i.r:t.r,startAngle:e?t.startAngle:0,endAngle:e?t.endAngle:2*Math.PI}}var nC=2*Math.PI,nD=Math.PI/180;function nP(e,t,a){t.eachSeriesByType(e,function(e){var t=e.getData(),i=t.mapDimension("value"),n=(0,tR.getCircleLayout)(e,a),r=n.cx,o=n.cy,s=n.r,l=n.r0,u=n.viewRect,d=-e.get("startAngle")*nD,c=e.get("endAngle"),p=e.get("padAngle")*nD;c="auto"===c?d-nC:-c*nD;var h=e.get("minAngle")*nD+p,g=0;t.each(i,function(e){!isNaN(e)&&g++});var f=t.getSum(i),y=Math.PI/(f||g)*2,m=e.get("clockwise"),v=e.get("roseType"),x=e.get("stillShowZeroSum"),_=t.getDataExtent(i);_[0]=0;var b=m?1:-1,S=[d,c],w=b*p/2;(0,iu.normalizeArcAngles)(S,!m),d=S[0],c=S[1];var M=nk(e);M.startAngle=d,M.endAngle=c,M.clockwise=m,M.cx=r,M.cy=o,M.r=s,M.r0=l;var I=Math.abs(c-d),A=I,L=0,T=d;if(t.setLayout({viewRect:u,r:s}),t.each(i,function(e,a){if(isNaN(e))return void t.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:r,cy:o,r0:l,r:v?NaN:s});(i="area"!==v?0===f&&x?y:e*y:I/g)<h?(i=h,A-=h):L+=e;var i,n=T+b*i,u=0,d=0;p>i?d=u=T+b*i/2:(u=T+w,d=n-w),t.setItemLayout(a,{angle:i,startAngle:u,endAngle:d,clockwise:m,cx:r,cy:o,r0:l,r:v?(0,tL.linearMap)(e,_,[l,s]):s}),T=n}),A<nC&&g)if(A<=.001){var C=I/g;t.each(i,function(e,a){if(!isNaN(e)){var i=t.getItemLayout(a);i.angle=C;var n=0,r=0;C<p?r=n=d+b*(a+.5)*C:(n=d+b*a*C+w,r=d+b*(a+1)*C-w),i.startAngle=n,i.endAngle=r}})}else y=A/L,T=d,t.each(i,function(e,a){if(!isNaN(e)){var i=t.getItemLayout(a),n=i.angle===h?h:e*y,r=0,o=0;n<p?o=r=T+b*n/2:(r=T+w,o=T+b*n-w),i.startAngle=r,i.endAngle=o,T+=b*n}})})}var nk=(0,h.makeInner)();function nE(e){return{seriesType:e,reset:function(e,t){var a=t.findComponents({mainType:"legend"});if(a&&a.length){var i=e.getData();i.filterSelf(function(e){for(var t=i.getName(e),n=0;n<a.length;n++)if(!a[n].isSelected(t))return!1;return!0})}}}}var nN=e.i(1886),nN=nN,nR=M,nN=nN,nO=e.i(36310),nz=e.i(97656),nV=2*Math.PI,nG=iu.default.CMD,nB=["top","right","bottom","left"];function nF(e,t,a,i,n,r,o,s){var l=a-e,u=i-t,d=Math.sqrt(l*l+u*u),c=((n-e)*(l/=d)+(r-t)*(u/=d))/d;s&&(c=Math.min(Math.max(c,0),1)),c*=d;var p=o[0]=e+c*l,h=o[1]=t+c*u;return Math.sqrt((p-n)*(p-n)+(h-r)*(h-r))}function nH(e,t,a,i,n,r,o){a<0&&(e+=a,a=-a),i<0&&(t+=i,i=-i);var s=e+a,l=t+i,u=o[0]=Math.min(Math.max(n,e),s),d=o[1]=Math.min(Math.max(r,t),l);return Math.sqrt((u-n)*(u-n)+(d-r)*(d-r))}var nW=[],nY=new nN.default,nX=new nN.default,nU=new nN.default,nZ=new nN.default,nj=new nN.default;function nq(e,t){if(e){var a=e.getTextGuideLine(),i=e.getTextContent();if(i&&a){var n=e.textGuideLineConfig||{},r=[[0,0],[0,0],[0,0]],o=n.candidates||nB,s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=1/0,u=n.anchor,d=e.getComputedTransform(),c=d&&(0,Z.invert)([],d),p=t.get("length2")||0;u&&nU.copy(u);for(var h=0;h<o.length;h++){!function(e,t,a,i,n){var r=a.width,o=a.height;switch(e){case"top":i.set(a.x+r/2,a.y-0),n.set(0,-1);break;case"bottom":i.set(a.x+r/2,a.y+o+0),n.set(0,1);break;case"left":i.set(a.x-0,a.y+o/2),n.set(-1,0);break;case"right":i.set(a.x+r+0,a.y+o/2),n.set(1,0)}}(o[h],0,s,nY,nZ),nN.default.scaleAndAdd(nX,nY,nZ,p),nX.transform(c);var g=e.getBoundingRect(),f=u?u.distance(nX):e instanceof ni.Path?function(e,t,a){for(var i,n,r=0,o=0,s=0,l=0,u=1/0,d=t.data,c=e.x,p=e.y,h=0;h<d.length;){var g=d[h++];1===h&&(r=d[h],o=d[h+1],s=r,l=o);var f=u;switch(g){case nG.M:s=d[h++],l=d[h++],r=s,o=l;break;case nG.L:f=nF(r,o,d[h],d[h+1],c,p,nW,!0),r=d[h++],o=d[h++];break;case nG.C:f=(0,nz.cubicProjectPoint)(r,o,d[h++],d[h++],d[h++],d[h++],d[h],d[h+1],c,p,nW),r=d[h++],o=d[h++];break;case nG.Q:f=(0,nz.quadraticProjectPoint)(r,o,d[h++],d[h++],d[h],d[h+1],c,p,nW),r=d[h++],o=d[h++];break;case nG.A:var y=d[h++],m=d[h++],v=d[h++],x=d[h++],_=d[h++],b=d[h++];h+=1;var S=!!(1-d[h++]);i=Math.cos(_)*v+y,n=Math.sin(_)*x+m,h<=1&&(s=i,l=n);var w=(c-y)*x/v+y;f=function(e,t,a,i,n,r,o,s,l){var u=Math.sqrt((o-=e)*o+(s-=t)*s),d=(o/=u)*a+e,c=(s/=u)*a+t;if(Math.abs(i-n)%nV<1e-4)return l[0]=d,l[1]=c,u-a;if(r){var p=i;i=(0,nO.normalizeRadian)(n),n=(0,nO.normalizeRadian)(p)}else i=(0,nO.normalizeRadian)(i),n=(0,nO.normalizeRadian)(n);i>n&&(n+=nV);var h=Math.atan2(s,o);if(h<0&&(h+=nV),h>=i&&h<=n||h+nV>=i&&h+nV<=n)return l[0]=d,l[1]=c,u-a;var g=a*Math.cos(i)+e,f=a*Math.sin(i)+t,y=a*Math.cos(n)+e,m=a*Math.sin(n)+t,v=(g-o)*(g-o)+(f-s)*(f-s),x=(y-o)*(y-o)+(m-s)*(m-s);return v<x?(l[0]=g,l[1]=f,Math.sqrt(v)):(l[0]=y,l[1]=m,Math.sqrt(x))}(y,m,x,_,_+b,S,w,p,nW),r=Math.cos(_+b)*v+y,o=Math.sin(_+b)*x+m;break;case nG.R:f=nH(s=r=d[h++],l=o=d[h++],d[h++],d[h++],c,p,nW);break;case nG.Z:f=nF(r,o,s,l,c,p,nW,!0),r=s,o=l}f<u&&(u=f,a.set(nW[0],nW[1]))}return u}(nX,e.path,nU):function(e,t,a){var i=nH(t.x,t.y,t.width,t.height,e.x,e.y,nW);return a.set(nW[0],nW[1]),i}(nX,g,nU);f<l&&(l=f,nX.transform(d),nU.transform(d),nU.toArray(r[0]),nX.toArray(r[1]),nY.toArray(r[2]))}n$(r,t.get("minTurnAngle")),a.setShape({points:r})}}}var nK=[],nJ=new nN.default;function n$(e,t){if(t<=180&&t>0){t=t/180*Math.PI,nY.fromArray(e[0]),nX.fromArray(e[1]),nU.fromArray(e[2]),nN.default.sub(nZ,nY,nX),nN.default.sub(nj,nU,nX);var a=nZ.len(),i=nj.len();if(!(a<.001)&&!(i<.001)&&(nZ.scale(1/a),nj.scale(1/i),Math.cos(t)<nZ.dot(nj))){var n=nF(nX.x,nX.y,nU.x,nU.y,nY.x,nY.y,nK,!1);nJ.fromArray(nK),nJ.scaleAndAdd(nj,n/Math.tan(Math.PI-t));var r=nU.x!==nX.x?(nJ.x-nX.x)/(nU.x-nX.x):(nJ.y-nX.y)/(nU.y-nX.y);if(isNaN(r))return;r<0?nN.default.copy(nJ,nX):r>1&&nN.default.copy(nJ,nU),nJ.toArray(e[1])}}}function nQ(e,t,a,i){var n="normal"===a,r=n?e:e.ensureState(a);r.ignore=t;var o=i.get("smooth");o&&!0===o&&(o=.3),r.shape=r.shape||{},o>0&&(r.shape.smooth=o);var s=i.getModel("lineStyle").getLineStyle();n?e.useStyle(s):r.style=s}function n0(e,t){var a=t.smooth,i=t.points;if(i)if(e.moveTo(i[0][0],i[0][1]),a>0&&i.length>=3){var n=eS.dist(i[0],i[1]),r=eS.dist(i[1],i[2]);if(!n||!r){e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]);return}var o=Math.min(n,r)*a,s=eS.lerp([],i[1],i[0],o/n),l=eS.lerp([],i[1],i[2],o/r),u=eS.lerp([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var d=1;d<i.length;d++)e.lineTo(i[d][0],i[d][1])}function n1(e,t,a){var i=e.getTextGuideLine(),n=e.getTextContent();if(!n){i&&e.removeTextGuideLine();return}for(var r=t.normal,o=r.get("show"),s=n.ignore,l=0;l<V.DISPLAY_STATES.length;l++){var d=V.DISPLAY_STATES[l],c=t[d],p="normal"===d;if(c){var h=c.get("show");if((p?s:(0,u.retrieve2)(n.states[d]&&n.states[d].ignore,s))||!(0,u.retrieve2)(h,o)){var g=p?i:i&&i.states[d];g&&(g.ignore=!0),i&&nQ(i,!0,d,c);continue}!i&&(i=new R.Polyline,e.setTextGuideLine(i),p||!s&&o||nQ(i,!0,"normal",t.normal),e.stateProxy&&(i.stateProxy=e.stateProxy)),nQ(i,!1,d,c)}}if(i){(0,u.defaults)(i.style,a),i.style.fill=null;var f=r.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=f||!1,i.buildPath=n0}}function n2(e,t){t=t||"labelLine";for(var a={normal:e.getModel(t)},i=0;i<V.SPECIAL_STATES.length;i++){var n=V.SPECIAL_STATES[i];a[n]=e.getModel([n,t])}return a}var n3=e.i(5679),n5=Math.PI/180;function n4(e,t,a,i,n,r,o,s,l,u){if(!(e.length<2)){for(var d=e.length,c=0;c<d;c++)if("outer"===e[c].position&&"labelLine"===e[c].labelAlignTo){var p=e[c].label.x-u;e[c].linePoints[1][0]+=p,e[c].label.x=u}(0,n3.shiftLayoutOnXY)(e,1,l,l+o)&&function(e){for(var r={list:[],maxY:0},o={list:[],maxY:0},s=0;s<e.length;s++)if("none"===e[s].labelAlignTo){var l=e[s],u=l.label.y>a?o:r,d=Math.abs(l.label.y-a);if(d>=u.maxY){var c=l.label.x-t-l.len2*n,p=i+l.len;u.rB=Math.abs(c)<p?Math.sqrt(d*d/(1-c*c/p/p)):p,u.maxY=d}u.list.push(l)}h(r),h(o)}(e)}function h(e){for(var r=e.rB,o=r*r,s=0;s<e.list.length;s++){var l=e.list[s],u=Math.abs(l.label.y-a),d=i+l.len,c=t+(Math.sqrt(Math.abs(d*d*(1-u*u/o)))+l.len2)*n,p=c-l.label.x,h=l.targetTextWidth-p*n;n6(l,h,!0),l.label.x=c}}}function n6(e,t,a){if(null==e.labelStyleWidth){var i=e.label,n=i.style,r=e.rect,o=n.backgroundColor,s=n.padding,l=s?s[1]+s[3]:0,u=n.overflow,d=r.width+(o?0:l);if(t<d||a){if(u&&u.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",t-l);var c=i.getBoundingRect();i.setStyle("width",Math.ceil(c.width)),i.setStyle("backgroundColor",o)}else{var p=t-l,h=t<d?p:a?p>e.unconstrainedWidth?null:p:null;i.setStyle("width",h)}n7(r,i)}}}function n7(e,t){n9.rect=e,(0,n3.computeLabelGeometry)(n9,t,n8)}var n8={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},n9={};function re(e){return"center"===e.position}var rt=function(e){function t(t,a,i){var n=e.call(this)||this;n.z2=2;var r=new ay.Text;return n.setTextContent(r),n.updateData(t,a,i,!0),n}return(0,s.__extends)(t,e),t.prototype.updateData=function(e,t,a,i){var n=e.hostModel,r=e.getItemModel(t),o=r.getModel("emphasis"),s=e.getItemLayout(t),l=(0,u.extend)(nd(r.getModel("itemStyle"),s,!0),s);if(isNaN(l.startAngle))return void this.setShape(l);if(i){this.setShape(l);var d=n.getShallow("animationType");n.ecModel.ssr?(E.initProps(this,{scaleX:0,scaleY:0},n,{dataIndex:t,isFrom:!0}),this.originX=l.cx,this.originY=l.cy):"scale"===d?(this.shape.r=s.r0,E.initProps(this,{shape:{r:s.r}},n,t)):null!=a?(this.setShape({startAngle:a,endAngle:a}),E.initProps(this,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},n,t)):(this.shape.endAngle=s.startAngle,E.updateProps(this,{shape:{endAngle:s.endAngle}},n,t))}else(0,E.saveOldStyle)(this),E.updateProps(this,{shape:l},n,t);this.useStyle(e.getItemVisual(t,"style")),(0,V.setStatesStylesFromModel)(this,r);var c=(s.startAngle+s.endAngle)/2,p=n.get("selectedOffset"),h=Math.cos(c)*p,g=Math.sin(c)*p,f=r.getShallow("cursor");f&&this.attr("cursor",f),this._updateLabel(n,e,t),this.ensureState("emphasis").shape=(0,u.extend)({r:s.r+(o.get("scale")&&o.get("scaleSize")||0)},nd(o.getModel("itemStyle"),s)),(0,u.extend)(this.ensureState("select"),{x:h,y:g,shape:nd(r.getModel(["select","itemStyle"]),s)}),(0,u.extend)(this.ensureState("blur"),{shape:nd(r.getModel(["blur","itemStyle"]),s)});var y=this.getTextGuideLine(),m=this.getTextContent();y&&(0,u.extend)(y.ensureState("select"),{x:h,y:g}),(0,u.extend)(m.ensureState("select"),{x:h,y:g}),(0,V.toggleHoverEmphasis)(this,o.get("focus"),o.get("blurScope"),o.get("disabled"))},t.prototype._updateLabel=function(e,t,a){var i=t.getItemModel(a),n=i.getModel("labelLine"),r=t.getItemVisual(a,"style"),o=r&&r.fill,s=r&&r.opacity;(0,eQ.setLabelStyle)(this,(0,eQ.getLabelStatesModels)(i),{labelFetcher:t.hostModel,labelDataIndex:a,inheritColor:o,defaultOpacity:s,defaultText:e.getFormattedLabel(a,"normal")||t.getName(a)});var l=this.getTextContent();this.setTextConfig({position:null,rotation:null}),l.attr({z2:10});var d=i.get(["label","position"]);if("outside"!==d&&"outer"!==d)this.removeTextGuideLine();else{var c=this.getTextGuideLine();c||(c=new R.Polyline,this.setTextGuideLine(c)),n1(this,n2(i),{stroke:o,opacity:(0,u.retrieve3)(n.get(["lineStyle","opacity"]),s,1)})}},t}(ne.Sector),ra=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a,i){var n,r=e.getData(),o=this._data,s=this.group;if(!o&&r.count()>0){for(var l=r.getItemLayout(0),d=1;isNaN(l&&l.startAngle)&&d<r.count();++d)l=r.getItemLayout(d);l&&(n=l.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===r.count()&&e.get("showEmptyCircle")){var c=nk(e),p=new ne.Sector({shape:(0,u.clone)(c)});p.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,s.add(p)}r.diff(o).add(function(e){var t=new rt(r,e,n);r.setItemGraphicEl(e,t),s.add(t)}).update(function(e,t){var a=o.getItemGraphicEl(t);a.updateData(r,e,n),a.off("click"),s.add(a),r.setItemGraphicEl(e,a)}).remove(function(t){var a=o.getItemGraphicEl(t);E.removeElementWithFadeOut(a,e,t)}).execute(),function(e){var t,a,i=e.getData(),n=[],r=!1,o=(e.get("minShowLabelAngle")||0)*n5,s=i.getLayout("viewRect"),l=i.getLayout("r"),d=s.width,c=s.x,p=s.y,h=s.height;function g(e){e.ignore=!0}i.each(function(e){var s,p,f,y,m=i.getItemGraphicEl(e),v=m.shape,x=m.getTextContent(),_=m.getTextGuideLine(),b=i.getItemModel(e),S=b.getModel("label"),w=S.get("position")||b.get(["emphasis","label","position"]),M=S.get("distanceToLabelLine"),I=S.get("alignTo"),A=(0,tL.parsePercent)(S.get("edgeDistance"),d),L=S.get("bleedMargin");null==L&&(L=Math.min(d,h)>200?10:2);var T=b.getModel("labelLine"),C=T.get("length");C=(0,tL.parsePercent)(C,d);var D=T.get("length2");if(D=(0,tL.parsePercent)(D,d),Math.abs(v.endAngle-v.startAngle)<o){(0,u.each)(x.states,g),x.ignore=!0,_&&((0,u.each)(_.states,g),_.ignore=!0);return}if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(x)){var P=(v.startAngle+v.endAngle)/2,k=Math.cos(P),E=Math.sin(P);t=v.cx,a=v.cy;var N="inside"===w||"inner"===w;if("center"===w)s=v.cx,p=v.cy,y="center";else{var R=(N?(v.r+v.r0)/2*k:v.r*k)+t,O=(N?(v.r+v.r0)/2*E:v.r*E)+a;if(s=R+3*k,p=O+3*E,!N){var z=R+k*(C+l-v.r),V=O+E*(C+l-v.r),G=z+(k<0?-1:1)*D;s="edge"===I?k<0?c+A:c+d-A:G+(k<0?-M:M),p=V,f=[[R,O],[z,V],[G,V]]}y=N?"center":"edge"===I?k>0?"right":"left":k>0?"left":"right"}var B=Math.PI,F=0,H=S.get("rotate");if((0,u.isNumber)(H))F=B/180*H;else if("center"===w)F=0;else if("radial"===H||!0===H)F=k<0?-P+B:-P;else if("tangential"===H&&"outside"!==w&&"outer"!==w){var W=Math.atan2(k,E);W<0&&(W=2*B+W),E>0&&(W=B+W),F=W-B}if(r=!!F,x.x=s,x.y=p,x.rotation=F,x.setStyle({verticalAlign:"middle"}),N){x.setStyle({align:y});var Y=x.states.select;Y&&(Y.x+=x.x,Y.y+=x.y)}else{var X=new nR.default(0,0,0,0);n7(X,x),n.push({label:x,labelLine:_,position:w,len:C,len2:D,minTurnAngle:T.get("minTurnAngle"),maxSurfaceAngle:T.get("maxSurfaceAngle"),surfaceNormal:new nN.default(k,E),linePoints:f,textAlign:y,labelDistance:M,labelAlignTo:I,edgeDistance:A,bleedMargin:L,rect:X,unconstrainedWidth:X.width,labelStyleWidth:x.style.width})}m.setTextConfig({inside:N})}}),!r&&e.get("avoidLabelOverlap")&&function(e,t,a,i,n,r,o,s){for(var l=[],u=[],d=Number.MAX_VALUE,c=-Number.MAX_VALUE,p=0;p<e.length;p++){var h=e[p].label;re(e[p])||(h.x<t?(d=Math.min(d,h.x),l.push(e[p])):(c=Math.max(c,h.x),u.push(e[p])))}for(var p=0;p<e.length;p++){var g=e[p];if(!re(g)&&g.linePoints){if(null!=g.labelStyleWidth)continue;var h=g.label,f=g.linePoints,y=void 0;y="edge"===g.labelAlignTo?h.x<t?f[2][0]-g.labelDistance-o-g.edgeDistance:o+n-g.edgeDistance-f[2][0]-g.labelDistance:"labelLine"===g.labelAlignTo?h.x<t?d-o-g.bleedMargin:o+n-c-g.bleedMargin:h.x<t?h.x-o-g.bleedMargin:o+n-h.x-g.bleedMargin,g.targetTextWidth=y,n6(g,y,!1)}}n4(u,t,a,i,1,n,r,o,s,c),n4(l,t,a,i,-1,n,r,o,s,d);for(var p=0;p<e.length;p++){var g=e[p];if(!re(g)&&g.linePoints){var h=g.label,f=g.linePoints,m="edge"===g.labelAlignTo,v=h.style.padding,x=v?v[1]+v[3]:0,_=h.style.backgroundColor?0:x,b=g.rect.width+_,S=f[1][0]-f[2][0];m?h.x<t?f[2][0]=o+g.edgeDistance+b+g.labelDistance:f[2][0]=o+n-g.edgeDistance-b-g.labelDistance:(h.x<t?f[2][0]=h.x+g.labelDistance:f[2][0]=h.x-g.labelDistance,f[1][0]=f[2][0]+S),f[1][1]=f[2][1]=h.y}}}(n,t,a,l,d,h,c,p);for(var f=0;f<n.length;f++){var y=n[f],m=y.label,v=y.labelLine,x=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:y.textAlign}),x&&((0,u.each)(m.states,g),m.ignore=!0);var _=m.states.select;_&&(_.x+=m.x,_.y+=m.y)}if(v){var b=y.linePoints;x||!b?((0,u.each)(v.states,g),v.ignore=!0):(n$(b,y.minTurnAngle),function(e,t,a){if(a<=180&&a>0){a=a/180*Math.PI,nY.fromArray(e[0]),nX.fromArray(e[1]),nU.fromArray(e[2]),nN.default.sub(nZ,nX,nY),nN.default.sub(nj,nU,nX);var i=nZ.len(),n=nj.len();if(!(i<.001)&&!(n<.001)&&(nZ.scale(1/i),nj.scale(1/n),nZ.dot(t)<Math.cos(a))){var r=nF(nX.x,nX.y,nU.x,nU.y,nY.x,nY.y,nK,!1);nJ.fromArray(nK);var o=Math.PI/2,s=o+Math.acos(nj.dot(t))-a;if(s>=o)nN.default.copy(nJ,nU);else{nJ.scaleAndAdd(nj,r/Math.tan(Math.PI/2-s));var l=nU.x!==nX.x?(nJ.x-nX.x)/(nU.x-nX.x):(nJ.y-nX.y)/(nU.y-nX.y);if(isNaN(l))return;l<0?nN.default.copy(nJ,nX):l>1&&nN.default.copy(nJ,nU)}nJ.toArray(e[1])}}}(b,y.surfaceNormal,y.maxSurfaceAngle),v.setShape({points:b}),m.__hostTarget.textGuideLineConfig={anchor:new nN.default(b[0][0],b[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=r)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var a=t.getData().getItemLayout(0);if(a){var i=e[0]-a.cx,n=e[1]-a.cy,r=Math.sqrt(i*i+n*n);return r<=a.r&&r>=a.r0}},t.type="pie",t}(ts.default),ri=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}(),rn=h.makeInner(),rr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,s.__extends)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new ri(u.bind(this.getData,this),u.bind(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return tc(this,{coordDimensions:["value"],encodeDefaulter:u.curry(th.makeSeriesEncodeForNameBased,this)})},t.prototype.getDataParams=function(t){var a=this.getData(),i=rn(a),n=i.seats;if(!n){var r=[];a.each(a.mapDimension("value"),function(e){r.push(e)}),n=i.seats=(0,tL.getPercentSeats)(r,a.hostModel.get("percentPrecision"))}var o=e.prototype.getDataParams.call(this,t);return o.percent=n[t]||0,o.$vars.push("percent"),o},t.prototype._defaultLabelLine=function(e){h.defaultEmphasis(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(tp.default);(0,ty.registerLayOutOnCoordSysUsage)({fullType:rr.type,getCoord2:function(e){return e.getShallow("center")}});var ro=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a}return(0,s.__extends)(t,e),t.prototype.getInitialData=function(e,t){return(0,i7.default)(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,a){return a.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:tm.default.color.primary}},universalTransition:{divideShape:"clone"}},t}(tp.default),rs=e.i(38558),M=M,rl=function(){},ru=function(e){function t(t){var a=e.call(this,t)||this;return a._off=0,a.hoverDataIdx=-1,a}return(0,s.__extends)(t,e),t.prototype.getDefaultShape=function(){return new rl},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,t){var a,i=t.points,n=t.size,r=this.symbolProxy,o=r.shape,s=e.getContext?e.getContext():e,l=s&&n[0]<4,u=this.softClipShape;if(l){this._ctx=s;return}for(this._ctx=null,a=this._off;a<i.length;){var d=i[a++],c=i[a++];!(isNaN(d)||isNaN(c))&&(!u||u.contain(d,c))&&(o.x=d-n[0]/2,o.y=c-n[1]/2,o.width=n[0],o.height=n[1],r.buildPath(e,o,!0))}this.incremental&&(this._off=a,this.notClear=!0)},t.prototype.afterBrush=function(){var e,t=this.shape,a=t.points,i=t.size,n=this._ctx,r=this.softClipShape;if(n){for(e=this._off;e<a.length;){var o=a[e++],s=a[e++];!(isNaN(o)||isNaN(s))&&(!r||r.contain(o,s))&&n.fillRect(o-i[0]/2,s-i[1]/2,i[0],i[1])}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){for(var a=this.shape,i=a.points,n=a.size,r=Math.max(n[0],4),o=Math.max(n[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,u=i[l]-r/2,d=i[l+1]-o/2;if(e>=u&&t>=d&&e<=u+r&&t<=d+o)return s}return -1},t.prototype.contain=function(e,t){var a=this.transformCoordToLocal(e,t),i=this.getBoundingRect();return(e=a[0],t=a[1],i.contain(e,t))?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,a=t.points,i=t.size,n=i[0],r=i[1],o=1/0,s=1/0,l=-1/0,u=-1/0,d=0;d<a.length;){var c=a[d++],p=a[d++];o=Math.min(c,o),l=Math.max(c,l),s=Math.min(p,s),u=Math.max(p,u)}e=this._rect=new M.default(o-n/2,s-r/2,l-o+n,u-s+r)}return e},t}(ni.Path),rd=function(){function e(){this.group=new N.Group}return e.prototype.updateData=function(e,t){this._clear();var a=this._create();a.setShape({points:e.getLayout("points")}),this._setCommon(a,e,t)},e.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(e){if(null!=e.startIndex){var a=(e.endIndex-e.startIndex)*2,i=4*e.startIndex*2;t=new Float32Array(t.buffer,i,a)}e.setShape("points",t),e.reset()})},e.prototype.incrementalPrepareUpdate=function(e){this._clear()},e.prototype.incrementalUpdate=function(e,t,a){var i=this._newAdded[0],n=t.getLayout("points"),r=i&&i.shape.points;if(r&&r.length<2e4){var o=r.length,s=new Float32Array(o+n.length);s.set(r),s.set(n,o),i.endIndex=e.end,i.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=e.start,l.endIndex=e.end,l.incremental=!0,l.setShape({points:n}),this._setCommon(l,t,a)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new ru({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,t,a){var i=t.hostModel;a=a||{};var n=t.getVisual("symbolSize");e.setShape("size",n instanceof Array?n:[n,n]),e.softClipShape=a.clipShape||null,e.symbolProxy=(0,tf.createSymbol)(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var r=e.shape.size[0]<4;e.useStyle(i.getModel("itemStyle").getItemStyle(r?["color","shadowBlur","shadowColor"]:["color"]));var o=t.getVisual("style"),s=o&&o.fill;s&&e.setColor(s);var l=(0,e0.getECData)(e);l.seriesIndex=i.seriesIndex,e.on("mousemove",function(t){l.dataIndex=null;var a=e.hoverDataIdx;a>=0&&(l.dataIndex=a+(e.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),rc=e.i(22829),rp=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){var i=e.getData();this._updateSymbolDraw(i,e).updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,a){var i=e.getData();this._updateSymbolDraw(i,e).incrementalPrepareUpdate(i),this._finished=!1},t.prototype.incrementalRender=function(e,t,a){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,a){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var n=(0,rc.default)("").reset(e,t,a);n.progress&&n.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var t=e.coordinateSystem;return t&&t.getArea&&t.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,t){var a=this._symbolDraw,i=t.pipelineContext.large;return a&&i===this._isLargeDraw||(a&&a.remove(),a=this._symbolDraw=i?new rd:new rs.default,this._isLargeDraw=i,this.group.removeAll()),this.group.add(a.group),a},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(ts.default),rh=e.i(76187),rg=e.i(77246),rf=(0,h.makeInner)();function ry(e,t,a,i){if(e instanceof rg.default){var n,r,o,s,l,u,d,c,p,h,g,f,y,m=e.scale.type;if("category"!==m&&"ordinal"!==m)return a}var v=e.model,x=v.get("jitter"),_=v.get("jitterOverlap"),b=v.get("jitterMargin")||0,S="ordinal"===e.scale.type?e.getBandWidth():null;if(x>0)if(_)return rm(a,x,S,i);else{return n=e,r=t,o=a,s=i,l=x,u=b,(d=rf(n)).items||(d.items=[]),p=rv(c=d.items,r,o,s,l,u,1),h=rv(c,r,o,s,l,u,-1),g=Math.abs(p-o)<Math.abs(h-o)?p:h,f="ordinal"===n.scale.type?n.getBandWidth():null,(y=Math.abs(g-o))>l/2||f&&y>f/2-s?rm(o,l,f,s):(c.push({fixedCoord:r,floatCoord:g,r:s}),g)}return a}function rm(e,t,a,i){return null===a?e+(Math.random()-.5)*t:e+(Math.random()-.5)*Math.min(Math.max(0,t),a-2*i)}function rv(e,t,a,i,n,r,o){for(var s=a,l=0;l<e.length;l++){var u=e[l],d=t-u.fixedCoord,c=s-u.floatCoord,p=d*d+c*c,h=i+u.r+r;if(p<h*h){var g=u.floatCoord+Math.sqrt(h*h-d*d)*o;if(Math.abs(g-a)>n/2)return Number.MAX_VALUE;if(1===o&&g>s||-1===o&&g<s){s=g,l=-1;continue}}}return s}function rx(e){e.eachSeriesByType("scatter",function(e){var t=e.coordinateSystem;if(t&&("cartesian2d"===t.type||"single"===t.type)){var a,i,n,r,o,s=t.getBaseAxis?t.getBaseAxis():null;if(s&&(i=(a=e.coordinateSystem)&&a.type,r=(n=a&&a.getBaseAxis&&a.getBaseAxis())&&n.scale&&n.scale.type,o=s.model.get("jitter")>0,("cartesian2d"===i&&"ordinal"===r||"single"===i)&&o)){var l=e.getData();l.each(function(e){var t=s.dim,a=s.orient,i="horizontal"===a&&"category"!==s.type||"vertical"===a&&"category"===s.type,n=l.getItemLayout(e),r=l.getItemVisual(e,"symbolSize"),o=r instanceof Array?(r[1]+r[0])/2:r;if("y"===t||"single"===t&&i){var u=ry(s,n[0],n[1],o/2);l.setItemLayout(e,[n[0],u])}else if("x"===t||"single"===t&&!i){var u=ry(s,n[1],n[0],o/2);l.setItemLayout(e,[u,n[1]])}})}}})}function r_(e){e.eachSeriesByType("radar",function(e){var t=e.getData(),a=[],i=e.coordinateSystem;if(i){var n=i.getIndicatorAxes();u.each(n,function(e,r){t.each(t.mapDimension(n[r].dim),function(e,t){a[t]=a[t]||[];var n,o=i.dataToPoint(e,r);a[t][r]=rb(o)?o:[(n=i).cx,n.cy]})}),t.each(function(e){var n,r=u.find(a[e],function(e){return rb(e)})||[(n=i).cx,n.cy];a[e].push(r.slice()),t.setItemLayout(e,a[e])})}})}function rb(e){return!isNaN(e[0])&&!isNaN(e[1])}function rS(e){var t=e.polar;if(t){u.isArray(t)||(t=[t]);var a=[];u.each(t,function(t,i){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],u.isArray(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):a.push(t)}),e.polar=a}u.each(e.series,function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)})}var rw=e.i(55078),rM=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){var i=e.coordinateSystem,n=this.group,r=e.getData(),o=this._data;function s(t,a,i,n,r,o){i.removeAll();for(var s=0;s<a.length-1;s++){var l=function(e,t){var a=e.getItemVisual(t,"symbol")||"circle";if("none"!==a){var i=tf.normalizeSymbolSize(e.getItemVisual(t,"symbolSize")),n=tf.createSymbol(a,-1,-1,2,2),r=e.getItemVisual(t,"symbolRotate")||0;return n.attr({style:{strokeNoScale:!0},z2:100,scaleX:i[0]/2,scaleY:i[1]/2,rotation:r*Math.PI/180||0}),n}}(n,r);l&&(l.__dimIdx=s,t[s]?(l.setPosition(t[s]),rw[o?"initProps":"updateProps"](l,{x:a[s][0],y:a[s][1]},e,r)):l.setPosition(a[s]),i.add(l))}}function l(e){return u.map(e,function(e){return[i.cx,i.cy]})}r.diff(o).add(function(t){var a=r.getItemLayout(t);if(a){var i=new rw.Polygon,n=new rw.Polyline,o={shape:{points:a}};i.shape.points=l(a),n.shape.points=l(a),rw.initProps(i,o,e,t),rw.initProps(n,o,e,t);var u=new rw.Group,d=new rw.Group;u.add(n),u.add(i),u.add(d),s(n.shape.points,a,d,r,t,!0),r.setItemGraphicEl(t,u)}}).update(function(t,a){var i=o.getItemGraphicEl(a),n=i.childAt(0),l=i.childAt(1),u=i.childAt(2),d={shape:{points:r.getItemLayout(t)}};d.shape.points&&(s(n.shape.points,d.shape.points,u,r,t,!1),(0,E.saveOldStyle)(l),(0,E.saveOldStyle)(n),rw.updateProps(n,d,e),rw.updateProps(l,d,e),r.setItemGraphicEl(t,i))}).remove(function(e){n.remove(o.getItemGraphicEl(e))}).execute(),r.eachItemGraphicEl(function(e,t){var a=r.getItemModel(t),i=e.childAt(0),o=e.childAt(1),s=e.childAt(2),l=r.getItemVisual(t,"style"),d=l.fill;n.add(e),i.useStyle(u.defaults(a.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:d})),(0,V.setStatesStylesFromModel)(i,a,"lineStyle"),(0,V.setStatesStylesFromModel)(o,a,"areaStyle");var c=a.getModel("areaStyle"),p=c.isEmpty()&&c.parentModel.isEmpty();o.ignore=p,u.each(["emphasis","select","blur"],function(e){var t=a.getModel([e,"areaStyle"]),n=t.isEmpty()&&t.parentModel.isEmpty();o.ensureState(e).ignore=n&&p;var r=a.getModel([e,"lineStyle"]).getLineStyle();i.ensureState(e).style=r;var l=t.getAreaStyle();o.ensureState(e).style=l;var d=a.getModel([e,"itemStyle"]).getItemStyle();s.eachChild(function(t){t.ensureState(e).style=u.clone(d)})}),o.useStyle(u.defaults(a.getModel("areaStyle").getAreaStyle(),{fill:d,opacity:.7,decal:l.decal}));var h=a.getModel("emphasis");s.eachChild(function(e){if(e instanceof B.default){var i=e.style;e.useStyle(u.extend({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},l))}else e.useStyle(l),e.setColor(d),e.style.strokeNoScale=!0;var n=r.getStore().get(r.getDimensionIndex(e.__dimIdx),t);(null==n||isNaN(n))&&(n=""),(0,eQ.setLabelStyle)(e,(0,eQ.getLabelStatesModels)(a),{labelFetcher:r.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:n,inheritColor:d,defaultOpacity:l.opacity})}),(0,V.toggleHoverEmphasis)(e,h.get("focus"),h.get("blurScope"),h.get("disabled"))}),this._data=r},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(ts.default),rI=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a}return(0,s.__extends)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new ri(u.bind(this.getData,this),u.bind(this.getRawData,this))},t.prototype.getInitialData=function(e,t){return tc(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,a){var i=this.getData(),n=this.coordinateSystem.getIndicatorAxes(),r=this.getData().getName(e),o=""===r?this.name:r,s=(0,tg.retrieveVisualColorForTooltipMarker)(this,e);return(0,tg.createTooltipMarkup)("section",{header:o,sortBlocks:!0,blocks:u.map(n,function(t){var a=i.get(i.mapDimension(t.dim),e);return(0,tg.createTooltipMarkup)("nameValue",{markerType:"subItem",markerColor:s,name:t.name,value:a,sortParam:a})})})},t.prototype.getTooltipPosition=function(e){if(null!=e){for(var t=this.getData(),a=this.coordinateSystem,i=t.getValues(u.map(a.dimensions,function(e){return t.mapDimension(e)}),e),n=0,r=i.length;n<r;n++)if(!isNaN(i[n])){var o=a.getIndicatorAxes();return a.coordToPoint(o[n].dataToCoord(i[n]),n)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(tp.default),rA=e.i(41681),rL=e.i(97721),rT=rA.default.value;function rC(e,t){return u.defaults({show:t},e)}var rD=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),a=this.get("scale"),i=this.get("axisLine"),n=this.get("axisTick"),r=this.get("axisLabel"),o=this.get("axisName"),s=this.get(["axisName","show"]),l=this.get(["axisName","formatter"]),d=this.get("axisNameGap"),c=this.get("triggerEvent"),p=u.map(this.get("indicator")||[],function(p){null!=p.max&&p.max>0&&!p.min?p.min=0:null!=p.min&&p.min<0&&!p.max&&(p.max=0);var h=o;null!=p.color&&(h=u.defaults({color:p.color},o));var g=u.merge(u.clone(p),{boundaryGap:e,splitNumber:t,scale:a,axisLine:i,axisTick:n,axisLabel:r,name:p.text,showName:s,nameLocation:"end",nameGap:d,nameTextStyle:h,triggerEvent:c},!1);if(u.isString(l)){var f=g.name;g.name=l.replace("{value}",null!=f?f:"")}else u.isFunction(l)&&(g.name=l(g.name,g));var y=new tw.default(g,null,this.ecModel);return u.mixin(y,rL.AxisModelCommonMixin.prototype),y.mainType="radar",y.componentIndex=this.componentIndex,y},this);this._indicatorModels=p},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:tm.default.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:u.merge({lineStyle:{color:tm.default.color.neutral20}},rT.axisLine),axisLabel:rC(rT.axisLabel,!1),axisTick:rC(rT.axisTick,!1),splitLine:rC(rT.splitLine,!0),splitArea:rC(rT.splitArea,!0),indicator:[]},t}(tS.default),rP=e.i(5455),rk=e.i(92923),rk=rk,rE=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){this.group.removeAll(),this._buildAxes(e,a),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e,t){var a=e.coordinateSystem,i=a.getIndicatorAxes(),n=u.map(i,function(e){var i=e.model.get("showName")?e.name:"";return new rP.default(e.model,t,{axisName:i,position:[a.cx,a.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});u.each(n,function(e){e.build(),this.group.add(e.group)},this)},t.prototype._buildSplitLineAndArea=function(e){var t=e.coordinateSystem,a=t.getIndicatorAxes();if(a.length){var i=e.get("shape"),n=e.getModel("splitLine"),r=e.getModel("splitArea"),o=n.getModel("lineStyle"),s=r.getModel("areaStyle"),d=n.get("show"),c=r.get("show"),p=o.get("color"),h=s.get("color"),f=u.isArray(p)?p:[p],y=u.isArray(h)?h:[h],m=[],v=[];if("circle"===i)for(var x=a[0].getTicksCoords(),_=t.cx,b=t.cy,S=0;S<x.length;S++){if(d){var w=P(m,f,S);m[w].push(new l.Circle({shape:{cx:_,cy:b,r:x[S].coord}}))}if(c&&S<x.length-1){var w=P(v,y,S);v[w].push(new rk.default({shape:{cx:_,cy:b,r0:x[S].coord,r:x[S+1].coord}}))}}else for(var M,I=u.map(a,function(e,a){var i=e.getTicksCoords();return M=null==M?i.length-1:Math.min(i.length-1,M),u.map(i,function(e){return t.coordToPoint(e.coord,a)})}),A=[],S=0;S<=M;S++){for(var L=[],T=0;T<a.length;T++)L.push(I[T][S]);if(L[0]&&L.push(L[0].slice()),d){var w=P(m,f,S);m[w].push(new R.Polyline({shape:{points:L}}))}if(c&&A){var w=P(v,y,S-1);v[w].push(new O.Polygon({shape:{points:L.concat(A)}}))}A=L.slice().reverse()}var C=o.getLineStyle(),D=s.getAreaStyle();u.each(v,function(e,t){this.group.add(g.mergePath(e,{style:u.defaults({stroke:"none",fill:y[t%y.length]},D),silent:!0}))},this),u.each(m,function(e,t){this.group.add(g.mergePath(e,{style:u.defaults({fill:"none",stroke:f[t%f.length]},C),silent:!0}))},this)}function P(e,t,a){var i=a%t.length;return e[i]=e[i]||[],i}},t.type="radar",t}(tG.default),rN=e.i(61939),rR=function(e){function t(t,a,i){var n=e.call(this,t,a,i)||this;return n.type="value",n.angle=0,n.name="",n}return(0,s.__extends)(t,e),t}(rN.default),rO=e.i(61363),rz=e.i(66855),rV=function(){function e(e,t,a){this.dimensions=[],this._model=e,this._indicatorAxes=(0,u.map)(e.getIndicatorModels(),function(e,t){var a="indicator_"+t,i=new rR(a,new rO.default);return i.name=e.get("name"),i.model=e,e.axis=i,this.dimensions.push(a),i},this),this.resize(e,a)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(e,t){var a=this._indicatorAxes[t];return this.coordToPoint(a.dataToCoord(e),t)},e.prototype.coordToPoint=function(e,t){var a=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(a),this.cy-e*Math.sin(a)]},e.prototype.pointToData=function(e){var t,a=e[0]-this.cx,i=e[1]-this.cy,n=Math.sqrt(a*a+i*i);a/=n;for(var r=Math.atan2(-(i/=n),a),o=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],d=Math.abs(r-u.angle);d<o&&(t=u,s=l,o=d)}return[s,+(t&&t.coordToData(n))]},e.prototype.resize=function(e,t){var a=(0,tR.createBoxLayoutReference)(e,t).refContainer,i=e.get("center"),n=Math.min(a.width,a.height)/2;this.cx=tL.parsePercent(i[0],a.width)+a.x,this.cy=tL.parsePercent(i[1],a.height)+a.y,this.startAngle=e.get("startAngle")*Math.PI/180;var r=e.get("radius");((0,u.isString)(r)||(0,u.isNumber)(r))&&(r=[0,r]),this.r0=tL.parsePercent(r[0],n),this.r=tL.parsePercent(r[1],n),(0,u.each)(this._indicatorAxes,function(e,t){e.setExtent(this.r0,this.r);var a=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;e.angle=Math.atan2(Math.sin(a),Math.cos(a))},this)},e.prototype.update=function(e,t){var a=this._indicatorAxes,i=this._model;(0,u.each)(a,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(t,n){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===i){var r=t.getData();(0,u.each)(a,function(e){e.scale.unionExtentFromData(r,r.mapDimension(e.dim))})}},this);var n=i.get("splitNumber"),r=new rO.default;r.setExtent(0,n),r.setInterval(1),(0,u.each)(a,function(e,t){(0,rz.alignScaleTicks)(e.scale,e.model,r)})},e.prototype.convertToPixel=function(e,t,a){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(e,t,a){return console.warn("Not implemented."),null},e.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},e.create=function(t,a){var i=[];return t.eachComponent("radar",function(n){var r=new e(n,t,a);i.push(r),n.coordinateSystem=r}),t.eachSeriesByType("radar",function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=i[e.get("radarIndex")||0])}),i},e.dimensions=[],e}();function rG(e){e.registerCoordinateSystem("radar",rV),e.registerComponentModel(rD),e.registerComponentView(rE),e.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(e){t.setItemVisual(e,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}var rB=e.i(49993),rB=rB,rF=e.i(90892);function rH(e,t){var a=e.isExpand?e.children:[],i=e.parentNode.children,n=e.hierNode.i?i[e.hierNode.i-1]:null;if(a.length){!function(e){for(var t=e.children,a=t.length,i=0,n=0;--a>=0;){var r=t[a];r.hierNode.prelim+=i,r.hierNode.modifier+=i,n+=r.hierNode.change,i+=r.hierNode.shift+n}}(e);var r=(a[0].hierNode.prelim+a[a.length-1].hierNode.prelim)/2;n?(e.hierNode.prelim=n.hierNode.prelim+t(e,n),e.hierNode.modifier=e.hierNode.prelim-r):e.hierNode.prelim=r}else n&&(e.hierNode.prelim=n.hierNode.prelim+t(e,n));e.parentNode.hierNode.defaultAncestor=function(e,t,a,i){if(t){for(var n=e,r=e,o=r.parentNode.children[0],s=t,l=n.hierNode.modifier,u=r.hierNode.modifier,d=o.hierNode.modifier,c=s.hierNode.modifier;s=rU(s),r=rZ(r),s&&r;){n=rU(n),o=rZ(o),n.hierNode.ancestor=e;var p,h,g,f=s.hierNode.prelim+c-r.hierNode.prelim-u+i(s,r);f>0&&(function(e,t,a){var i=a/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=a,t.hierNode.modifier+=a,t.hierNode.prelim+=a,e.hierNode.change+=i}((p=s,h=e,g=a,p.hierNode.ancestor.parentNode===h.parentNode?p.hierNode.ancestor:g),e,f),u+=f,l+=f),c+=s.hierNode.modifier,u+=r.hierNode.modifier,l+=n.hierNode.modifier,d+=o.hierNode.modifier}s&&!rU(n)&&(n.hierNode.thread=s,n.hierNode.modifier+=c-l),r&&!rZ(o)&&(o.hierNode.thread=r,o.hierNode.modifier+=u-d,a=e)}return a}(e,n,e.parentNode.hierNode.defaultAncestor||i[0],t)}function rW(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function rY(e){return arguments.length?e:rj}function rX(e,t){return{x:t*Math.cos(e-=Math.PI/2),y:t*Math.sin(e)}}function rU(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function rZ(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function rj(e,t){return e.parentNode===t.parentNode?1:2}var rq=e.i(77493),rK=function(){this.parentPoint=[],this.childPoints=[]},rJ=function(e){function t(t){return e.call(this,t)||this}return(0,s.__extends)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:tm.default.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new rK},t.prototype.buildPath=function(e,t){var a=t.childPoints,i=a.length,n=t.parentPoint,r=a[0],o=a[i-1];if(1===i){e.moveTo(n[0],n[1]),e.lineTo(r[0],r[1]);return}var s=t.orient,l=+("TB"!==s&&"BT"!==s),u=1-l,d=(0,tL.parsePercent)(t.forkPosition,1),c=[];c[l]=n[l],c[u]=n[u]+(o[u]-n[u])*d,e.moveTo(n[0],n[1]),e.lineTo(c[0],c[1]),e.moveTo(r[0],r[1]),c[l]=r[l],e.lineTo(c[0],c[1]),c[l]=o[l],e.lineTo(c[0],c[1]),e.lineTo(o[0],o[1]);for(var p=1;p<i-1;p++){var h=a[p];e.moveTo(h[0],h[1]),c[l]=h[l],e.lineTo(c[0],c[1])}},t}(aK.default),r$=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._mainGroup=new N.Group,a}return(0,s.__extends)(t,e),t.prototype.init=function(e,t){this._controller=new y(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,a){var i=e.getData(),n=e.layoutInfo,r=this._mainGroup;"radial"===e.get("layout")?(r.x=n.x+n.width/2,r.y=n.y+n.height/2):(r.x=n.x,r.y=n.y),this._updateViewCoordSys(e,a),this._updateController(e,null,t,a);var o=this._data;i.diff(o).add(function(t){rQ(i,t)&&r0(i,t,null,r,e)}).update(function(t,a){var n=o.getItemGraphicEl(a);if(!rQ(i,t)){n&&r3(o,a,n,r,e);return}r0(i,t,n,r,e)}).remove(function(t){var a=o.getItemGraphicEl(t);a&&r3(o,t,a,r,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&i.eachItemGraphicEl(function(t,i){t.off("click").on("click",function(){a.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:i})})}),this._data=i},t.prototype._updateViewCoordSys=function(e,t){var a=e.getData(),i=[];a.each(function(e){var t=a.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||i.push([+t.x,+t.y])});var n=[],r=[];rq.fromPoints(i,n,r);var o=this._min,s=this._max;r[0]-n[0]==0&&(n[0]=o?o[0]:n[0]-1,r[0]=s?s[0]:r[0]+1),r[1]-n[1]==0&&(n[1]=o?o[1]:n[1]-1,r[1]=s?s[1]:r[1]+1);var l=e.coordinateSystem=new tC(null,{api:t,ecModel:e.ecModel});l.zoomLimit=e.get("scaleLimit"),l.setBoundingRect(n[0],n[1],r[0]-n[0],r[1]-n[1]),l.setCenter(e.get("center")),l.setZoom(e.get("zoom")),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=n,this._max=r},t.prototype._updateController=function(e,t,a,i){var n=this;L(e,i,this.group,this._controller,this._controllerHost,t),this._controller.on("zoom",function(t){n._updateNodeAndLinkScale(e)})},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),a=this._getNodeGlobalScale(e);t.eachItemGraphicEl(function(e,t){e.setSymbolScale(a)})},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var a=this._nodeScaleRatio,i=t.scaleX||1;return((t.getZoom()-1)*a+1)/i},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(ts.default);function rQ(e,t){var a=e.getItemLayout(t);return a&&!isNaN(a.x)&&!isNaN(a.y)}function r0(e,t,a,i,n){var r=!a,o=e.tree.getNodeByDataIndex(t),s=o.getModel(),l=o.getVisual("style").fill,d=!1===o.isExpand&&0!==o.children.length?l:tm.default.color.neutral00,c=e.tree.root,p=o.parentNode===c?o:o.parentNode||o,h=e.getItemGraphicEl(p.dataIndex),g=p.getLayout(),f=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:g,y=o.getLayout();r?((a=new rF.default(e,t,null,{symbolInnerColor:d,useNameLabel:!0})).x=f.x,a.y=f.y):a.updateData(e,t,null,{symbolInnerColor:d,useNameLabel:!0}),a.__radialOldRawX=a.__radialRawX,a.__radialOldRawY=a.__radialRawY,a.__radialRawX=y.rawX,a.__radialRawY=y.rawY,i.add(a),e.setItemGraphicEl(t,a),a.__oldX=a.x,a.__oldY=a.y,E.updateProps(a,{x:y.x,y:y.y},n);var m=a.getSymbolPath();if("radial"===n.get("layout")){var v=c.children[0],x=v.getLayout(),_=v.children.length,b=void 0,S=void 0;if(y.x===x.x&&!0===o.isExpand&&v.children.length){var w={x:(v.children[0].getLayout().x+v.children[_-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[_-1].getLayout().y)/2};(b=Math.atan2(w.y-x.y,w.x-x.x))<0&&(b=2*Math.PI+b),(S=w.x<x.x)&&(b-=Math.PI)}else(b=Math.atan2(y.y-x.y,y.x-x.x))<0&&(b=2*Math.PI+b),0===o.children.length||0!==o.children.length&&!1===o.isExpand?(S=y.x<x.x)&&(b-=Math.PI):(S=y.x>x.x)||(b-=Math.PI);var M=S?"left":"right",I=s.getModel("label"),A=I.get("rotate"),L=Math.PI/180*A,T=m.getTextContent();T&&(m.setTextConfig({position:I.get("position")||M,rotation:null==A?-b:L,origin:"center"}),T.setStyle("verticalAlign","middle"))}var C=s.get(["emphasis","focus"]),D="relative"===C?u.concatArray(o.getAncestorsIndices(),o.getDescendantIndices()):"ancestor"===C?o.getAncestorsIndices():"descendant"===C?o.getDescendantIndices():null;D&&((0,e0.getECData)(a).focus=D),function(e,t,a,i,n,r,o,s){var l=t.getModel(),d=e.get("edgeShape"),c=e.get("layout"),p=e.getOrient(),h=e.get(["lineStyle","curveness"]),g=e.get("edgeForkPosition"),f=l.getModel("lineStyle").getLineStyle(),y=i.__edge;if("curve"===d)t.parentNode&&t.parentNode!==a&&(y||(y=i.__edge=new rB.default({shape:r5(c,p,h,n,n)})),E.updateProps(y,{shape:r5(c,p,h,r,o)},e));else if("polyline"===d&&"orthogonal"===c&&t!==a&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var m=t.children,v=[],x=0;x<m.length;x++){var _=m[x].getLayout();v.push([_.x,_.y])}y||(y=i.__edge=new rJ({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:p,forkPosition:g}})),E.updateProps(y,{shape:{parentPoint:[o.x,o.y],childPoints:v}},e)}y&&!("polyline"===d&&!t.isExpand)&&(y.useStyle(u.defaults({strokeNoScale:!0,fill:null},f)),(0,V.setStatesStylesFromModel)(y,l,"lineStyle"),(0,V.setDefaultStateProxy)(y),s.add(y))}(n,o,c,a,f,g,y,i),a.__edge&&(a.onHoverStateChange=function(t){if("blur"!==t){var i=o.parentNode&&e.getItemGraphicEl(o.parentNode.dataIndex);i&&i.hoverState===V.HOVER_STATE_BLUR||(0,V.setStatesFlag)(a.__edge,t)}})}function r1(e,t,a,i,n){var r=r2(t.tree.root,e),o=r.source,s=r.sourceLayout,l=t.getItemGraphicEl(e.dataIndex);if(l){var u=t.getItemGraphicEl(o.dataIndex).__edge,d=l.__edge||(!1===o.isExpand||1===o.children.length?u:void 0),c=i.get("edgeShape"),p=i.get("layout"),h=i.get("orient"),g=i.get(["lineStyle","curveness"]);d&&("curve"===c?E.removeElement(d,{shape:r5(p,h,g,s,s),style:{opacity:0}},i,{cb:function(){a.remove(d)},removeOpt:n}):"polyline"===c&&"orthogonal"===i.get("layout")&&E.removeElement(d,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},i,{cb:function(){a.remove(d)},removeOpt:n}))}}function r2(e,t){for(var a,i=t.parentNode===e?t:t.parentNode||t;null==(a=i.getLayout());)i=i.parentNode===e?i:i.parentNode||i;return{source:i,sourceLayout:a}}function r3(e,t,a,i,n){var r=e.tree.getNodeByDataIndex(t),o=r2(e.tree.root,r).sourceLayout,s={duration:n.get("animationDurationUpdate"),easing:n.get("animationEasingUpdate")};E.removeElement(a,{x:o.x+1,y:o.y+1},n,{cb:function(){i.remove(a),e.setItemGraphicEl(t,null)},removeOpt:s}),a.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:s}),r.children.forEach(function(t){r1(t,e,i,n,s)}),r1(r,e,i,n,s)}function r5(e,t,a,i,n){if("radial"===e){u=i.rawX,c=i.rawY,d=n.rawX;var r,o,s,l,u,d,c,p=n.rawY,h=rX(u,c),g=rX(u,c+(p-c)*a),f=rX(d,p+(c-p)*a),y=rX(d,p);return{x1:h.x||0,y1:h.y||0,x2:y.x||0,y2:y.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:f.x||0,cpy2:f.y||0}}return u=i.x,c=i.y,d=n.x,p=n.y,("LR"===t||"RL"===t)&&(r=u+(d-u)*a,o=c,s=d+(u-d)*a,l=p),("TB"===t||"BT"===t)&&(r=u,o=c+(p-c)*a,s=d,l=p+(c-p)*a),{x1:u,y1:c,x2:d,y2:p,cpx1:r,cpy1:o,cpx2:s,cpy2:l}}var r4=(0,h.makeInner)();function r6(e,t){var a;if(a=this,r4(a).mainData===a){var i=(0,u.extend)({},r4(this).datas);i[this.dataType]=t,ot(t,i,e)}else oa(t,this.dataType,r4(this).mainData,e);return t}function r7(e,t){return e.struct&&e.struct.update(),t}function r8(e,t){return(0,u.each)(r4(t).datas,function(a,i){a!==t&&oa(a.cloneShallow(),i,t,e)}),t}function r9(e){var t=r4(this).mainData;return null==e||null==t?t:r4(t).datas[e]}function oe(){var e=r4(this).mainData;return null==e?[{data:e}]:(0,u.map)((0,u.keys)(r4(e).datas),function(t){return{type:t,data:r4(e).datas[t]}})}function ot(e,t,a){r4(e).datas={},(0,u.each)(t,function(t,i){oa(t,i,e,a)})}function oa(e,t,a,i){r4(a).datas[t]=e,r4(e).mainData=a,e.dataType=t,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=e),e.getLinkedData=r9,e.getLinkedDataAll=oe}let oi=function(e){var t=e.mainData,a=e.datas;a||(a={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,ot(t,a,e),(0,u.each)(a,function(a){(0,u.each)(t.TRANSFERABLE_METHODS,function(t){a.wrapMethod(t,(0,u.curry)(r6,e))})}),t.wrapMethod("cloneShallow",(0,u.curry)(r8,e)),(0,u.each)(t.CHANGABLE_METHODS,function(a){t.wrapMethod(a,(0,u.curry)(r7,e))}),(0,u.assert)(a[t.dataType]===t)};var on=function(){function e(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,a){u.isFunction(e)&&(a=t,t=e,e=null),e=e||{},u.isString(e)&&(e={order:e});var i,n=e.order||"preorder",r=this[e.attr||"children"];"preorder"===n&&(i=t.call(a,this));for(var o=0;!i&&o<r.length;o++)r[o].eachNode(e,t,a);"postorder"===n&&t.call(a,this)},e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var a=0;a<this.children.length;a++){var i=this.children[a];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,a=this.children,i=a.length;t<i;t++){var n=a[t].getNodeById(e);if(n)return n}},e.prototype.contains=function(e){if(e===this)return!0;for(var t=0,a=this.children,i=a.length;t<i;t++){var n=a[t].contains(e);if(n)return n}},e.prototype.getAncestors=function(e){for(var t=[],a=e?this:this.parentNode;a;)t.push(a),a=a.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},e.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t}return -1},e.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}(),or=function(){function e(e){this.type="tree",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,a){this.root.eachNode(e,t,a)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},e.prototype.update=function(){for(var e=this.data,t=this._nodes,a=0,i=t.length;a<i;a++)t[a].dataIndex=-1;for(var a=0,i=e.count();a<i;a++)t[e.getRawIndex(a)].dataIndex=a},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,a,i){var n=new e(a),r=[],o=1;!function e(t,a){var i,s,l,d=t.value;o=Math.max(o,u.isArray(d)?d.length:1),r.push(t);var c=new on((0,h.convertOptionIdName)(t.name,""),n);a?(i=c,l=(s=a).children,i.parentNode!==s&&(l.push(i),i.parentNode=s)):n.root=c,n._nodes.push(c);var p=t.children;if(p)for(var g=0;g<p.length;g++)e(p[g],c)}(t),n.root.updateDepthAndHeight(0);var s=(0,tu.default)(r,{coordDimensions:["value"],dimensionsCount:o}).dimensions,l=new td.default(s,a);return l.initData(r),i&&i(l),oi({mainData:l,struct:n,structAttr:"tree"}),n.update(),n},e}();function oo(e,t,a){if(e&&u.indexOf(t,e.type)>=0){var i=a.getData().tree.root,n=e.targetNode;if(u.isString(n)&&(n=i.getNodeById(n)),n&&i.contains(n))return{node:n};var r=e.targetNodeId;if(null!=r&&(n=i.getNodeById(r)))return{node:n}}}function os(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function ol(e,t){var a=os(e);return u.indexOf(a,t)>=0}function ou(e,t){for(var a=[];e;){var i=e.dataIndex;a.push({name:e.name,dataIndex:i,value:t.getRawValue(i)}),e=e.parentNode}return a.reverse(),a}var od=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return(0,s.__extends)(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},a=e.leaves||{},i=new tw.default(a,this,this.ecModel),n=or.createTree(t,this,function(e){e.wrapMethod("getItemModel",function(e,t){var a=n.getNodeByDataIndex(t);return a&&a.children.length&&a.isExpand||(e.parentModel=i),e})}),r=0;n.eachNode("preorder",function(e){e.depth>r&&(r=e.depth)});var o=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:r;return n.root.eachNode("preorder",function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=o}),n.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,a){for(var i=this.getData().tree,n=i.root.children[0],r=i.getNodeByDataIndex(e),o=r.getValue(),s=r.name;r&&r!==n;)s=r.parentNode.name+"."+s,r=r.parentNode;return(0,tg.createTooltipMarkup)("nameValue",{name:s,value:o,noValue:isNaN(o)||null==o})},t.prototype.getDataParams=function(t){var a=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return a.treeAncestors=ou(i,this),a.collapsed=!i.isExpand,a},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:tm.default.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(tp.default);function oc(e,t){for(var a,i=[e];a=i.pop();)if(t(a),a.isExpand){var n=a.children;if(n.length)for(var r=n.length-1;r>=0;r--)i.push(n[r])}}function op(e,t){e.eachSeriesByType("tree",function(e){!function(e,t){var a=(0,tR.createBoxLayoutReference)(e,t).refContainer,i=(0,tR.getLayoutRect)(e.getBoxLayoutParams(),a);e.layoutInfo=i;var n=e.get("layout"),r=0,o=0,s=null;"radial"===n?(r=2*Math.PI,o=Math.min(i.height,i.width)/2,s=rY(function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth})):(r=i.width,o=i.height,s=rY());var l=e.getData().tree.root,u=l.children[0];if(u){!function(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t,a,i=[e];t=i.pop();)if(a=t.children,t.isExpand&&a.length)for(var n=a.length,r=n-1;r>=0;r--){var o=a[r];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:r,thread:null},i.push(o)}}(l),function(e,t,a){for(var i,n=[e],r=[];i=n.pop();)if(r.push(i),i.isExpand){var o=i.children;if(o.length)for(var s=0;s<o.length;s++)n.push(o[s])}for(;i=r.pop();)t(i,a)}(u,rH,s),l.hierNode.modifier=-u.hierNode.prelim,oc(u,rW);var d=u,c=u,p=u;oc(u,function(e){var t=e.getLayout().x;t<d.getLayout().x&&(d=e),t>c.getLayout().x&&(c=e),e.depth>p.depth&&(p=e)});var h=d===c?1:s(d,c)/2,g=h-d.getLayout().x,f=0,y=0,m=0,v=0;if("radial"===n)f=r/(c.getLayout().x+h+g),y=o/(p.depth-1||1),oc(u,function(e){m=(e.getLayout().x+g)*f,v=(e.depth-1)*y;var t=rX(m,v);e.setLayout({x:t.x,y:t.y,rawX:m,rawY:v},!0)});else{var x=e.getOrient();"RL"===x||"LR"===x?(y=o/(c.getLayout().x+h+g),f=r/(p.depth-1||1),oc(u,function(e){v=(e.getLayout().x+g)*y,m="LR"===x?(e.depth-1)*f:r-(e.depth-1)*f,e.setLayout({x:m,y:v},!0)})):("TB"===x||"BT"===x)&&(f=r/(c.getLayout().x+h+g),y=o/(p.depth-1||1),oc(u,function(e){m=(e.getLayout().x+g)*f,v="TB"===x?(e.depth-1)*y:o-(e.depth-1)*y,e.setLayout({x:m,y:v},!0)}))}}}(e,t)})}function oh(e){e.eachSeriesByType("tree",function(e){var t=e.getData();t.tree.eachNode(function(e){var a=e.getModel().getModel("itemStyle").getItemStyle(),i=t.ensureUniqueItemVisual(e.dataIndex,"style");(0,u.extend)(i,a)})})}var og=["treemapZoomToNode","treemapRender","treemapMove"],of=e.i(91663);function oy(e){var t=e.getData().tree,a={};t.eachNode(function(t){for(var i=t;i&&i.depth>1;)i=i.parentNode;var n=(0,of.getDecalFromPalette)(e.ecModel,i.name||i.dataIndex+"",a);t.setVisual("decal",n)})}var om=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.preventUsingHoverLayer=!0,a}return(0,s.__extends)(t,e),t.prototype.getInitialData=function(e,t){var a={name:e.name,children:e.data};!function e(t){var a=0;u.each(t.children,function(t){e(t);var i=t.value;u.isArray(i)&&(i=i[0]),a+=i});var i=t.value;u.isArray(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=a),i<0&&(i=0),u.isArray(t.value)?t.value[0]=i:t.value=i}(a);var i=e.levels||[],n=this.designatedVisualItemStyle={},r=new tw.default({itemStyle:n},this,t);i=e.levels=function(e,t){var a,i,n=(0,h.normalizeToArray)(t.get("color")),r=(0,h.normalizeToArray)(t.get(["aria","decal","decals"]));if(n){e=e||[],u.each(e,function(e){var t=new tw.default(e),n=t.get("color"),r=t.get("decal");(t.get(["itemStyle","color"])||n&&"none"!==n)&&(a=!0),(t.get(["itemStyle","decal"])||r&&"none"!==r)&&(i=!0)});var o=e[0]||(e[0]={});return a||(o.color=n.slice()),!i&&r&&(o.decal=r.slice()),e}}(i,t);var o=u.map(i||[],function(e){return new tw.default(e,r,t)},this),s=or.createTree(a,this,function(e){e.wrapMethod("getItemModel",function(e,t){var a=s.getNodeByDataIndex(t);return e.parentModel=(a?o[a.depth]:null)||r,e})});return s.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,a){var i=this.getData(),n=this.getRawValue(e),r=i.getName(e);return(0,tg.createTooltipMarkup)("nameValue",{name:r,value:n})},t.prototype.getDataParams=function(t){var a=e.prototype.getDataParams.apply(this,arguments);return a.treeAncestors=ou(this.getData().tree.getNodeByDataIndex(t),this),a.treePathInfo=a.treeAncestors,a},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},u.extend(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=u.createHashMap(),this._idIndexMapCount=0);var a=t.get(e);return null==a&&t.set(e,a=this._idIndexMapCount++),a},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){oy(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,coordinateSystemUsage:"box",left:tm.default.size.l,top:tm.default.size.xxxl,right:tm.default.size.l,bottom:tm.default.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:tm.default.size.m,emptyItemWidth:25,itemStyle:{color:tm.default.color.backgroundShade,textStyle:{color:tm.default.color.secondary}},emphasis:{itemStyle:{color:tm.default.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:tm.default.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:tm.default.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(tp.default),ov=e.i(24677),ox=function(){function e(e){this.group=new N.Group,e.add(this.group)}return e.prototype.render=function(e,t,a,i){var n=e.getModel("breadcrumb"),r=this.group;if(r.removeAll(),n.get("show")&&a){var o=n.getModel("itemStyle"),s=n.getModel("emphasis"),l=o.getModel("textStyle"),u=s.getModel(["itemStyle","textStyle"]),d=tR.createBoxLayoutReference(e,t).refContainer,c={left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},p={emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]},h=tR.getLayoutRect(c,d);this._prepare(a,p,l),this._renderContent(e,p,h,o,s,l,u,i),tR.positionElement(r,c,d)}},e.prototype._prepare=function(e,t,a){for(var i=e;i;i=i.parentNode){var n=(0,h.convertOptionIdName)(i.getModel().get("name"),""),r=Math.max(a.getTextRect(n).width+16,t.emptyItemWidth);t.totalWidth+=r+8,t.renderList.push({node:i,text:n,width:r})}},e.prototype._renderContent=function(e,t,a,i,n,r,o,s){for(var l=0,d=t.emptyItemWidth,c=e.get(["breadcrumb","height"]),p=t.totalWidth,h=t.renderList,g=n.getModel("itemStyle").getItemStyle(),f=h.length-1;f>=0;f--){var y,m,v,x=h[f],_=x.node,b=x.width,S=x.text;p>a.width&&(p-=b-d,b=d,S=null);var w=new O.Polygon({shape:{points:function(e,t,a,i,n,r){var o=[[n?e:e-5,0],[e+a,0],[e+a,0+i],[n?e:e-5,0+i]];return r||o.splice(2,0,[e+a+5,0+i/2]),n||o.push([e,0+i/2]),o}(l,0,b,c,f===h.length-1,0===f)},style:(0,u.defaults)(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new ay.Text({style:(0,eQ.createTextStyle)(r,{text:S})}),textConfig:{position:"inside"},z2:1e4*V.Z2_EMPHASIS_LIFT,onclick:(0,u.curry)(s,_)});w.disableLabelAnimation=!0,w.getTextContent().ensureState("emphasis").style=(0,eQ.createTextStyle)(o,{text:S}),w.ensureState("emphasis").style=g,(0,V.toggleHoverEmphasis)(w,n.get("focus"),n.get("blurScope"),n.get("disabled")),this.group.add(w),y=w,m=e,v=_,(0,e0.getECData)(y).eventData={componentType:"series",componentSubType:"treemap",componentIndex:m.componentIndex,seriesIndex:m.seriesIndex,seriesName:m.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:v&&v.dataIndex,name:v&&v.name},treePathInfo:v&&ou(v,m)},l+=b+8}},e.prototype.remove=function(){this.group.removeAll()},e}(),o_=M,ob=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(e,t,a,i,n){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:a,delay:i,easing:n}),!0)},e.prototype.finished=function(e){return this._finishedCallback=e,this},e.prototype.start=function(){for(var e=this,t=this._storage.length,a=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,n=this._storage.length;i<n;i++){var r=this._storage[i];r.el.animateTo(r.target,{duration:r.duration,delay:r.delay,easing:r.easing,setToFinal:!0,done:a,aborted:a})}return this},e}(),oS=e.i(87799),ow=N.Group,oM=k.Rect,oI="label",oA="upperLabel",oL=10*V.Z2_EMPHASIS_LIFT,oT=2*V.Z2_EMPHASIS_LIFT,oC=3*V.Z2_EMPHASIS_LIFT,oD=(0,oS.default)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),oP=function(e){var t=oD(e);return t.stroke=t.fill=t.lineWidth=null,t},ok=(0,h.makeInner)(),oE=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._state="ready",a._storage=oN(),a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a,i){var n=t.findComponents({mainType:"series",subType:"treemap",query:i});if(!(0>(0,u.indexOf)(n,e))){this.seriesModel=e,this.api=a,this.ecModel=t;var r=oo(i,["treemapZoomToNode","treemapRootToNode"],e),o=i&&i.type,s=e.layoutInfo,l=!this._oldTree,d=this._storage,c="treemapRootToNode"===o&&r&&d?{rootNodeGroup:d.nodeGroup[r.node.getRawIndex()],direction:i.direction}:null,p=this._giveContainerGroup(s),h=e.get("animation"),g=this._doRender(p,e,c);!h||l||o&&"treemapZoomToNode"!==o&&"treemapRootToNode"!==o?g.renderFinally():this._doAnimation(p,g,e,c),this._resetController(a),this._renderBreadcrumb(e,a,r)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new ow,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,a){var i,n,r=t.getData().tree,o=this._oldTree,s=oN(),l=oN(),d=this._storage,c=[];!function e(i,n,r,o,p){function g(e){return e.getId()}function f(g,f){var y=null!=g?i[g]:null,m=null!=f?n[f]:null,v=function(e,t,a,i,n,r,o,s,l,d){if(o){var c=o.getLayout(),p=e.getData(),g=o.getModel();if(p.setItemGraphicEl(o.dataIndex,null),c&&c.isInView){var f=c.width,y=c.height,m=c.borderWidth,v=c.invisible,x=o.getRawIndex(),_=s&&s.getRawIndex(),b=o.viewChildren,S=c.upperHeight,w=b&&b.length,M=g.getModel("itemStyle"),I=g.getModel(["emphasis","itemStyle"]),A=g.getModel(["blur","itemStyle"]),L=g.getModel(["select","itemStyle"]),T=M.get("borderRadius")||0,C=W("nodeGroup",ow);if(C){if(l.add(C),C.x=c.x||0,C.y=c.y||0,C.markRedraw(),ok(C).nodeWidth=f,ok(C).nodeHeight=y,c.isAboveViewRoot)return C;var D=W("background",oM,d,oT);D&&function(t,a,i){var n=(0,e0.getECData)(a);if(n.dataIndex=o.dataIndex,n.seriesIndex=e.seriesIndex,a.setShape({x:0,y:0,width:f,height:y,r:T}),v)B(a);else{a.invisible=!1;var r=o.getVisual("style"),s=r.stroke,l=oP(M);l.fill=s;var u=oD(I);u.fill=I.get("borderColor");var d=oD(A);d.fill=A.get("borderColor");var c=oD(L);if(c.fill=L.get("borderColor"),i){var p=f-2*m;F(a,s,r.opacity,{x:m,y:0,width:p,height:S})}else a.removeTextContent();a.setStyle(l),a.ensureState("emphasis").style=u,a.ensureState("blur").style=d,a.ensureState("select").style=c,(0,V.setDefaultStateProxy)(a)}t.add(a)}(C,D,w&&c.upperLabelHeight);var P=g.getModel("emphasis"),k=P.get("focus"),E=P.get("blurScope"),R=P.get("disabled"),O="ancestor"===k?o.getAncestorsIndices():"descendant"===k?o.getDescendantIndices():k;if(w)(0,V.isHighDownDispatcher)(C)&&(0,V.setAsHighDownDispatcher)(C,!1),D&&((0,V.setAsHighDownDispatcher)(D,!R),p.setItemGraphicEl(o.dataIndex,D),(0,V.enableHoverFocus)(D,O,E));else{var z=W("content",oM,d,oC);z&&function(t,a){var i=(0,e0.getECData)(a);i.dataIndex=o.dataIndex,i.seriesIndex=e.seriesIndex;var n=Math.max(f-2*m,0),r=Math.max(y-2*m,0);if(a.culling=!0,a.setShape({x:m,y:m,width:n,height:r,r:T}),v)B(a);else{a.invisible=!1;var s=o.getVisual("style"),l=s.fill,u=oP(M);u.fill=l,u.decal=s.decal;var d=oD(I),c=oD(A),p=oD(L);F(a,l,s.opacity,null),a.setStyle(u),a.ensureState("emphasis").style=d,a.ensureState("blur").style=c,a.ensureState("select").style=p,(0,V.setDefaultStateProxy)(a)}t.add(a)}(C,z),D.disableMorphing=!0,D&&(0,V.isHighDownDispatcher)(D)&&(0,V.setAsHighDownDispatcher)(D,!1),(0,V.setAsHighDownDispatcher)(C,!R),p.setItemGraphicEl(o.dataIndex,C);var G=g.getShallow("cursor");G&&z.attr("cursor",G),(0,V.enableHoverFocus)(C,O,E)}return C}}}function B(e){e.invisible||r.push(e)}function F(t,a,i,n){var r=g.getModel(n?oA:oI),s=(0,h.convertOptionIdName)(g.get("name"),null),l=r.getShallow("show");(0,eQ.setLabelStyle)(t,(0,eQ.getLabelStatesModels)(g,n?oA:oI),{defaultText:l?s:null,inheritColor:a,defaultOpacity:i,labelFetcher:e,labelDataIndex:o.dataIndex});var d=t.getTextContent();if(d){var p=d.style,f=(0,u.normalizeCssArray)(p.padding||0);n&&(t.setTextConfig({layoutRect:n}),d.disableLabelLayout=!0),d.beforeUpdate=function(){var e=Math.max((n?n.width:t.shape.width)-f[1]-f[3],0),a=Math.max((n?n.height:t.shape.height)-f[0]-f[2],0);(p.width!==e||p.height!==a)&&d.setStyle({width:e,height:a})},p.truncateMinChar=2,p.lineOverflow="truncate",H(p,n,c);var y=d.getState("emphasis");H(y?y.style:null,n,c)}}function H(t,a,i){var n=t?t.text:null;if(!a&&i.isLeafRoot&&null!=n){var r=e.get("drillDownIcon",!0);t.text=r?r+" "+n:n}}function W(e,r,s,l){var d,c,p,h=null!=_&&a[e][_],g=n[e];return h?(a[e][_]=null,d=g,c=h,p=d[x]={},c instanceof ow?(p.oldX=c.x,p.oldY=c.y):p.oldShape=(0,u.extend)({},c.shape)):v||((h=new r)instanceof e2.default&&(h.z2=s*oL+l),function(e,t){var a=e[x]={},r=o.parentNode,s=t instanceof N.Group;if(r&&(!i||"drillDown"===i.direction)){var l=0,u=0,d=n.background[r.getRawIndex()];!i&&d&&d.oldShape&&(l=d.oldShape.width,u=d.oldShape.height),s?(a.oldX=0,a.oldY=u):a.oldShape={x:l,y:u,width:0,height:0}}a.fadein=!s}(g,h)),t[e][x]=h}}(t,l,d,a,s,c,y,m,r,p);v&&e(y&&y.viewChildren||[],m&&m.viewChildren||[],v,o,p+1)}o?(n=i,(0,u.each)(i,function(e,t){e.isRemoved()||f(t,t)})):new ov.default(n,i,g,g).add(f).update(f).remove((0,u.curry)(f,null)).execute()}(r.root?[r.root]:[],o&&o.root?[o.root]:[],e,r===o||!o,0);var p=(i=d,n=oN(),i&&(0,u.each)(i,function(e,t){var a=n[t];(0,u.each)(e,function(e){e&&(a.push(e),ok(e).willDelete=!0)})}),n);if(this._oldTree=r,this._storage=l,this._controllerHost){var g=this.seriesModel.layoutInfo,f=r.root.getLayout();f.width===g.width&&f.height===g.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:p,renderFinally:function(){(0,u.each)(p,function(e){(0,u.each)(e,function(e){e.parent&&e.parent.remove(e)})}),(0,u.each)(c,function(e){e.invisible=!0,e.dirty()})}}},t.prototype._doAnimation=function(e,t,a,i){var n=a.get("animationDurationUpdate"),r=a.get("animationEasing"),o=((0,u.isFunction)(n)?0:n)||0,s=((0,u.isFunction)(r)?null:r)||"cubicOut",l=new ob;(0,u.each)(t.willDeleteEls,function(e,t){(0,u.each)(e,function(e,a){if(!e.invisible){var n,r=e.parent,u=ok(r);if(i&&"drillDown"===i.direction)n=r===i.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var d=0,c=0;u.willDelete||(d=u.nodeWidth/2,c=u.nodeHeight/2),n="nodeGroup"===t?{x:d,y:c,style:{opacity:0}}:{shape:{x:d,y:c,width:0,height:0},style:{opacity:0}}}n&&l.add(e,n,o,0,s)}})}),(0,u.each)(this._storage,function(e,a){(0,u.each)(e,function(e,i){var n=t.lastsForAnimation[a][i],r={};n&&(e instanceof N.Group?null!=n.oldX&&(r.x=e.x,r.y=e.y,e.x=n.oldX,e.y=n.oldY):(n.oldShape&&(r.shape=(0,u.extend)({},e.shape),e.setShape(n.oldShape)),n.fadein?(e.setStyle("opacity",0),r.style={opacity:1}):1!==e.style.opacity&&(r.style={opacity:1})),l.add(e,r,o,0,s))})},this),this._state="animating",l.finished((0,u.bind)(function(){this._state="ready",t.renderFinally()},this)).start()},t.prototype._resetController=function(e){var t=this,a=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost);var n=this.seriesModel;a||((a=this._controller=new y(e.getZr())).on("pan",(0,u.bind)(this._onPan,this)),a.on("zoom",(0,u.bind)(this._onZoom,this))),a.enable(n.get("roam"),{api:e,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(e,a,i){var n=t._containerGroup;return!!n&&n.getBoundingRect().contain(a-n.x,i-n.y)}}}),i.zoomLimit=n.get("scaleLimit"),i.zoom=n.get("zoom")},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(t){var a=t.getLayout();a&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x+e.dx,y:a.y+e.dy,width:a.width,height:a.height}})}}},t.prototype._onZoom=function(e){var t=e.originX,a=e.originY,i=e.scale;if("animating"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var r=n.getLayout();if(!r)return;var o=new o_.default(r.x,r.y,r.width,r.height),s=null,l=this._controllerHost;s=l.zoomLimit;var u=l.zoom=l.zoom||1;if(u*=i,s){var d=s.min||0;u=Math.max(Math.min(s.max||1/0,u),d)}var c=u/l.zoom;l.zoom=u;var p=this.seriesModel.layoutInfo;t-=p.x,a-=p.y;var h=Z.create();Z.translate(h,h,[-t,-a]),Z.scale(h,h,[c,c]),Z.translate(h,h,[t,a]),o.applyTransform(h),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",function(e){if("ready"===t._state){var a=t.seriesModel.get("nodeClick",!0);if(a){var i=t.findTarget(e.offsetX,e.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)t._rootToNode(i);else if("zoomToNode"===a)t._zoomToNode(i);else if("link"===a){var r=n.hostTree.data.getItemModel(n.dataIndex),o=r.get("link",!0),s=r.get("target",!0)||"blank";o&&(0,ag.windowOpen)(o,s)}}}}},this)},t.prototype._renderBreadcrumb=function(e,t,a){var i=this;!a&&((a=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(a={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new ox(this.group))).render(e,t,a.node,function(t){"animating"!==i._state&&(ol(e.getViewRoot(),t)?i._rootToNode({node:t}):i._zoomToNode({node:t}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=oN(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var a;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(i){var n=this._storage.background[i.getRawIndex()];if(n){var r=n.transformCoordToLocal(e,t),o=n.shape;if(!(o.x<=r[0])||!(r[0]<=o.x+o.width)||!(o.y<=r[1])||!(r[1]<=o.y+o.height))return!1;a={node:i,offsetX:r[0],offsetY:r[1]}}},this),a},t.type="treemap",t}(ts.default);function oN(){return{nodeGroup:[],background:[],content:[]}}var oR=(0,h.makeInner)();let oO={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||function e(t,a,i,n){var r=t.getModel(),o=t.getLayout(),s=t.hostTree.data;if(o&&!o.invisible&&o.isInView){var l,d,c,p,h,g,f,y=r.getModel("itemStyle"),m=(l=y,d=a,c=n,p=(0,u.extend)({},d),h=c.designatedVisualItemStyle,(0,u.each)(["color","colorAlpha","colorSaturation"],function(e){h[e]=d[e];var t=l.get(e);h[e]=null,null!=t&&(p[e]=t)}),p),v=s.ensureUniqueItemVisual(t.dataIndex,"style"),x=y.get("borderColor"),_=y.get("borderColorSaturation");null!=_&&(g=_,x=null!=(f=oz(m))?(0,Q.modifyHSL)(f,null,null,g):null),v.stroke=x;var b=t.viewChildren;if(b&&b.length){var S=function(e,t,a,i,n,r){if(r&&r.length){var o=oG(t,"color")||null!=n.color&&"none"!==n.color&&(oG(t,"colorAlpha")||oG(t,"colorSaturation"));if(o){var s=t.get("visualMin"),l=t.get("visualMax"),u=a.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var d=t.get("colorMappingBy"),c={type:o.name,dataExtent:u,visual:o.range};"color"===c.type&&("index"===d||"id"===d)?(c.mappingMethod="category",c.loop=!0):c.mappingMethod="linear";var p=new tQ(c);return oR(p).drColorMappingBy=d,p}}}(0,r,o,0,m,b);(0,u.each)(b,function(t,a){if(t.depth>=i.length||t===i[t.depth]){var o=function(e,t,a,i,n,r){var o=(0,u.extend)({},t);if(n){var s=n.type,l="color"===s&&oR(n).drColorMappingBy,d="index"===l?i:"id"===l?r.mapIdToIndex(a.getId()):a.getValue(e.get("visualDimension"));o[s]=n.mapValueToVisual(d)}return o}(r,m,t,a,S,n);e(t,o,i,n)}})}else v.fill=oz(m)}}(t,{},e.getViewRoot().getAncestors(),e)}};function oz(e){var t=oV(e,"color");if(t){var a=oV(e,"colorAlpha"),i=oV(e,"colorSaturation");return i&&(t=(0,Q.modifyHSL)(t,null,null,i)),a&&(t=(0,Q.modifyAlpha)(t,a)),t}}function oV(e,t){var a=e[t];if(null!=a&&"none"!==a)return a}function oG(e,t){var a=e.get(t);return(0,u.isArray)(a)&&a.length?{name:t,range:a}:null}var oB=M,oF=Math.max,oH=Math.min,oW=u.retrieve,oY=u.each,oX=["itemStyle","borderWidth"],oU=["itemStyle","gapWidth"],oZ=["upperLabel","show"],oj=["upperLabel","height"];let oq={seriesType:"treemap",reset:function(e,t,a,i){var n=e.option,r=tR.createBoxLayoutReference(e,a).refContainer,o=tR.getLayoutRect(e.getBoxLayoutParams(),r),s=n.size||[],l=(0,tL.parsePercent)(oW(o.width,s[0]),r.width),d=(0,tL.parsePercent)(oW(o.height,s[1]),r.height),c=i&&i.type,p=oo(i,["treemapZoomToNode","treemapRootToNode"],e),h="treemapRender"===c||"treemapMove"===c?i.rootRect:null,g=e.getViewRoot(),f=os(g);if("treemapMove"!==c){var y="treemapZoomToNode"===c?function(e,t,a,i,n){var r,o=(t||{}).node,s=[i,n];if(!o||o===a)return s;for(var l=i*n,u=l*e.option.zoomToNodeRatio;r=o.parentNode;){for(var d=0,c=r.children,p=0,h=c.length;p<h;p++)d+=c[p].getValue();var g=o.getValue();if(0===g)return s;u*=d/g;var f=r.getModel(),y=f.get(oX),m=Math.max(y,oJ(f));(u+=4*y*y+(3*y+m)*Math.pow(u,.5))>tL.MAX_SAFE_INTEGER&&(u=tL.MAX_SAFE_INTEGER),o=r}u<l&&(u=l);var v=Math.pow(u/l,.5);return[i*v,n*v]}(e,p,g,l,d):h?[h.width,h.height]:[l,d],m=n.sort;m&&"asc"!==m&&"desc"!==m&&(m="desc");var v={squareRatio:n.squareRatio,sort:m,leafDepth:n.leafDepth};g.hostTree.clearLayouts();var x={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};g.setLayout(x),function e(t,a,i,n){if(!t.isRemoved()){var r,o,s=t.getLayout();r=s.width,o=s.height;var l=t.getModel(),d=l.get(oX),c=l.get(oU)/2,p=oJ(l),h=Math.max(d,p),g=d-c,f=h-c;t.setLayout({borderWidth:d,upperHeight:h,upperLabelHeight:p},!0);var y=(r=oF(r-2*g,0))*(o=oF(o-g-f,0)),m=function(e,t,a,i,n,r){var o,s,l=e.children||[],d=i.sort;"asc"!==d&&"desc"!==d&&(d=null);var c=null!=i.leafDepth&&i.leafDepth<=r;if(n&&!c)return e.viewChildren=[];o=l=u.filter(l,function(e){return!e.isRemoved()}),(s=d)&&o.sort(function(e,t){var a="asc"===s?e.getValue()-t.getValue():t.getValue()-e.getValue();return 0===a?"asc"===s?e.dataIndex-t.dataIndex:t.dataIndex-e.dataIndex:a});var p=function(e,t,a){for(var i,n=0,r=0,o=t.length;r<o;r++)n+=t[r].getValue();var s=e.get("visualDimension");return t&&t.length?"value"===s&&a?(i=[t[t.length-1].getValue(),t[0].getValue()],"asc"===a&&i.reverse()):(i=[1/0,-1/0],oY(t,function(e){var t=e.getValue(s);t<i[0]&&(i[0]=t),t>i[1]&&(i[1]=t)})):i=[NaN,NaN],{sum:n,dataExtent:i}}(t,l,d);if(0===p.sum||(p.sum=function(e,t,a,i,n){if(!i)return a;for(var r=e.get("visibleMin"),o=n.length,s=o,l=o-1;l>=0;l--){var u=n["asc"===i?o-l-1:l].getValue();u/a*t<r&&(s=l,a-=u)}return"asc"===i?n.splice(0,o-s):n.splice(s,o-s),a}(t,a,p.sum,d,l),0===p.sum))return e.viewChildren=[];for(var h=0,g=l.length;h<g;h++){var f=l[h].getValue()/p.sum*a;l[h].setLayout({area:f})}return c&&(l.length&&e.setLayout({isLeafRoot:!0},!0),l.length=0),e.viewChildren=l,e.setLayout({dataExtent:p.dataExtent},!0),l}(t,l,y,a,i,n);if(m.length){var v={x:g,y:f,width:r,height:o},x=oH(r,o),_=1/0,b=[];b.area=0;for(var S=0,w=m.length;S<w;){var M=m[S];b.push(M),b.area+=M.getLayout().area;var I=function(e,t,a){for(var i=0,n=1/0,r=0,o=void 0,s=e.length;r<s;r++)(o=e[r].getLayout().area)&&(o<n&&(n=o),o>i&&(i=o));var l=e.area*e.area,u=t*t*a;return l?oF(u*i/l,l/(u*n)):1/0}(b,x,a.squareRatio);I<=_?(S++,_=I):(b.area-=b.pop().getLayout().area,oK(b,x,v,c,!1),x=oH(v.width,v.height),b.length=b.area=0,_=1/0)}if(b.length&&oK(b,x,v,c,!0),!i){var A=l.get("childrenVisibleMin");null!=A&&y<A&&(i=!0)}for(var S=0,w=m.length;S<w;S++)e(m[S],a,i,n+1)}}}(g,v,!1,0),x=g.getLayout(),oY(f,function(e,t){var a=(f[t+1]||g).getValue();e.setLayout(u.extend({dataExtent:[a,a],borderWidth:0,upperHeight:0},x))})}var _=e.getData().tree.root;_.setLayout(function(e,t,a){if(t)return{x:t.x,y:t.y};var i={x:0,y:0};if(!a)return i;var n=a.node,r=n.getLayout();if(!r)return i;for(var o=[r.width/2,r.height/2],s=n;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:e.width/2-o[0],y:e.height/2-o[1]}}(o,h,p),!0),e.setLayoutInfo(o),function e(t,a,i,n,r){var o=t.getLayout(),s=i[r],l=s&&s===t;if((!s||l)&&(r!==i.length||t===n)){t.setLayout({isInView:!0,invisible:!l&&!a.intersect(o),isAboveViewRoot:l},!0);var u=new oB.default(a.x-o.x,a.y-o.y,a.width,a.height);oY(t.viewChildren||[],function(t){e(t,u,i,n,r+1)})}}(_,new oB.default(-o.x,-o.y,a.getWidth(),a.getHeight()),f,g,0)}};function oK(e,t,a,i,n){var r=+(t!==a.width),o=1-r,s=["x","y"],l=["width","height"],u=a[s[r]],d=t?e.area/t:0;(n||d>a[l[o]])&&(d=a[l[o]]);for(var c=0,p=e.length;c<p;c++){var h=e[c],g={},f=d?h.getLayout().area/d:0,y=g[l[o]]=oF(d-2*i,0),m=a[s[r]]+a[l[r]]-u,v=c===p-1||m<f?m:f,x=g[l[r]]=oF(v-2*i,0);g[s[o]]=a[s[o]]+oH(i,y/2),g[s[r]]=u+oH(i,x/2),u+=v,h.setLayout(g,!0)}a[s[o]]+=d,a[l[o]]-=d}function oJ(e){return e.get(oZ)?e.get(oj):0}function o$(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(e){var a=e.getCategoriesData(),i=e.getGraph().data,n=a.mapArray(a.getName);i.filterSelf(function(e){var a=i.getItemModel(e).getShallow("category");if(null!=a){(0,u.isNumber)(a)&&(a=n[a]);for(var r=0;r<t.length;r++)if(!t[r].isSelected(a))return!1}return!0})})}function oQ(e){var t={};e.eachSeriesByType("graph",function(e){var a=e.getCategoriesData(),i=e.getData(),n={};a.each(function(i){var r=a.getName(i);n["ec-"+r]=i;var o=a.getItemModel(i),s=o.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e.getColorFromPalette(r,t)),a.setItemVisual(i,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var d=o.getShallow(l[u],!0);null!=d&&a.setItemVisual(i,l[u],d)}}),a.count()&&i.each(function(e){var t=i.getItemModel(e).getShallow("category");if(null!=t){(0,u.isString)(t)&&(t=n["ec-"+t]);var r=a.getItemVisual(t,"style"),o=i.ensureUniqueItemVisual(e,"style");(0,u.extend)(o,r);for(var s=["symbol","symbolSize","symbolKeepAspect"],l=0;l<s.length;l++)i.setItemVisual(e,s[l],a.getItemVisual(t,s[l]))}})})}function o0(e){return e instanceof Array||(e=[e,e]),e}function o1(e){e.eachSeriesByType("graph",function(e){var t=e.getGraph(),a=e.getEdgeData(),i=o0(e.get("edgeSymbol")),n=o0(e.get("edgeSymbolSize"));a.setVisual("fromSymbol",i&&i[0]),a.setVisual("toSymbol",i&&i[1]),a.setVisual("fromSymbolSize",n&&n[0]),a.setVisual("toSymbolSize",n&&n[1]),a.setVisual("style",e.getModel("lineStyle").getLineStyle()),a.each(function(e){var i=a.getItemModel(e),n=t.getEdgeByIndex(e),r=o0(i.getShallow("symbol",!0)),o=o0(i.getShallow("symbolSize",!0)),s=i.getModel("lineStyle").getLineStyle(),l=a.ensureUniqueItemVisual(e,"style");switch((0,u.extend)(l,s),l.stroke){case"source":var d=n.node1.getVisual("style");l.stroke=d&&d.fill;break;case"target":var d=n.node2.getVisual("style");l.stroke=d&&d.fill}r[0]&&n.setVisual("fromSymbol",r[0]),r[1]&&n.setVisual("toSymbol",r[1]),o[0]&&n.setVisual("fromSymbolSize",o[0]),o[1]&&n.setVisual("toSymbolSize",o[1])})})}var o2=function(e){return e.get("autoCurveness")||null},o3=function(e,t){var a=o2(e),i=20,n=[];if(u.isNumber(a))i=a;else if(u.isArray(a)){e.__curvenessList=a;return}t>i&&(i=t);var r=i%2?i+2:i+3;n=[];for(var o=0;o<r;o++)n.push((o%2?o+1:o)/10*(o%2?-1:1));e.__curvenessList=n},o5=function(e,t,a){var i=[e.id,e.dataIndex].join("."),n=[t.id,t.dataIndex].join(".");return[a.uid,i,n].join("-->")},o4=function(e){var t=e.split("-->");return[t[0],t[2],t[1]].join("-->")},o6=function(e,t){var a=o5(e.node1,e.node2,t);return t.__edgeMap[a]},o7=function(e,t){var a=t.__edgeMap;return a[e]?a[e].length:0};function o8(e,t,a,i){var n=o2(t),r=u.isArray(n);if(!n)return null;var o=o6(e,t);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===a){s=l;break}var d=o7(o5(e.node1,e.node2,t),t)+o7(o5(e.node2,e.node1,t),t);o3(t,d),e.lineStyle=e.lineStyle||{};var c=o5(e.node1,e.node2,t),p=t.__curvenessList,h=r||d%2?0:1;if(o.isForward)return p[h+s];var g=o7(o4(c),t),f=p[s+g+h];return i?r?n&&0===n[0]?(g+h)%2?f:-f:((g%2?0:1)+h)%2?f:-f:(g+h)%2?f:-f:p[s+g+h]}function o9(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var a=e.getGraph();a.eachNode(function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])}),se(a,e)}}function se(e,t){e.eachEdge(function(e,a){var i=u.retrieve3(e.getModel().get(["lineStyle","curveness"]),-o8(e,t,a,!0),0),n=eS.clone(e.node1.getLayout()),r=eS.clone(e.node2.getLayout()),o=[n,r];+i&&o.push([(n[0]+r[0])/2-(n[1]-r[1])*i,(n[1]+r[1])/2-(r[0]-n[0])*i]),e.setLayout(o)})}function st(e,t){e.eachSeriesByType("graph",function(e){var t=e.get("layout"),a=e.coordinateSystem;if(a&&"view"!==a.type){var i=e.getData(),n=[];(0,u.each)(a.dimensions,function(e){n=n.concat(i.mapDimensionsAll(e))});for(var r=0;r<i.count();r++){for(var o=[],s=!1,l=0;l<n.length;l++){var d=i.get(n[l],r);isNaN(d)||(s=!0),o.push(d)}s?i.setItemLayout(r,a.dataToPoint(o)):i.setItemLayout(r,[NaN,NaN])}se(i.graph,e)}else t&&"none"!==t||o9(e)})}function sa(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var a=e.option.nodeScaleRatio,i=t.scaleX;return((t.getZoom()-1)*a+1)/i}function si(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var sn=Math.PI,sr=[];function so(e,t,a,i){var n=e.coordinateSystem;if(!n||"view"===n.type){var r=n.getBoundingRect(),o=e.getData(),s=o.graph,l=r.width/2+r.x,d=r.height/2+r.y,c=Math.min(r.width,r.height)/2,p=o.count();if(o.setLayout({cx:l,cy:d}),p){if(a){var h=n.pointToData(i),g=[h[0]-l,h[1]-d];eS.normalize(g,g),eS.scale(g,g,c),a.setLayout([l+g[0],d+g[1]],!0),sl(a,e.get(["circular","rotateLabel"]),l,d)}ss[t](e,s,o,c,l,d,p),s.eachEdge(function(t,a){var i,n=u.retrieve3(t.getModel().get(["lineStyle","curveness"]),o8(t,e,a),0),r=eS.clone(t.node1.getLayout()),o=eS.clone(t.node2.getLayout()),s=(r[0]+o[0])/2,c=(r[1]+o[1])/2;+n&&(n*=3,i=[l*n+s*(1-n),d*n+c*(1-n)]),t.setLayout([r,o,i])})}}}var ss={value:function(e,t,a,i,n,r,o){var s=0,l=a.getSum("value"),u=2*Math.PI/(l||o);t.eachNode(function(e){var t=e.getValue("value"),a=u*(l?t:1)/2;s+=a,e.setLayout([i*Math.cos(s)+n,i*Math.sin(s)+r]),s+=a})},symbolSize:function(e,t,a,i,n,r,o){var s=0;sr.length=o;var l=sa(e);t.eachNode(function(e){var t=si(e);isNaN(t)&&(t=2),t<0&&(t=0);var a=Math.asin((t*=l)/2/i);isNaN(a)&&(a=sn/2),sr[e.dataIndex]=a,s+=2*a});var u=(2*sn-s)/o/2,d=0;t.eachNode(function(e){var t=u+sr[e.dataIndex];d+=t,e.getLayout()&&e.getLayout().fixed||e.setLayout([i*Math.cos(d)+n,i*Math.sin(d)+r]),d+=t})}};function sl(e,t,a,i){var n=e.getGraphicEl();if(n){var r=e.getModel().get(["label","rotate"])||0,o=n.getSymbolPath();if(t){var s=e.getLayout(),l=Math.atan2(s[1]-i,s[0]-a);l<0&&(l=2*Math.PI+l);var d=s[0]<a;d&&(l-=Math.PI);var c=d?"left":"right";o.setTextConfig({rotation:-l,position:c,origin:"center"});var p=o.ensureState("emphasis");u.extend(p.textConfig||(p.textConfig={}),{position:c})}else o.setTextConfig({rotation:r*=Math.PI/180})}}function su(e){e.eachSeriesByType("graph",function(e){"circular"===e.get("layout")&&so(e,"symbolSize")})}var sd=eS.scaleAndAdd;function sc(e){e.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var a=e.preservedPoints||{},i=e.getGraph(),n=i.data,r=i.edgeData,o=e.getModel("force"),s=o.get("initLayout");e.preservedPoints?n.each(function(e){var t=n.getId(e);n.setItemLayout(e,a[t]||[NaN,NaN])}):s&&"none"!==s?"circular"===s&&so(e,"value"):o9(e);var l=n.getDataExtent("value"),d=r.getDataExtent("value"),c=o.get("repulsion"),p=o.get("edgeLength"),h=u.isArray(c)?c:[c,c],g=u.isArray(p)?p:[p,p];g=[g[1],g[0]];var f=n.mapArray("value",function(e,t){var a=n.getItemLayout(t),i=(0,tL.linearMap)(e,l,h);return isNaN(i)&&(i=(h[0]+h[1])/2),{w:i,rep:i,fixed:n.getItemModel(t).get("fixed"),p:!a||isNaN(a[0])||isNaN(a[1])?null:a}}),y=r.mapArray("value",function(t,a){var n=i.getEdgeByIndex(a),r=(0,tL.linearMap)(t,d,g);isNaN(r)&&(r=(g[0]+g[1])/2);var o=n.getModel(),s=u.retrieve3(n.getModel().get(["lineStyle","curveness"]),-o8(n,e,a,!0),0);return{n1:f[n.node1.dataIndex],n2:f[n.node2.dataIndex],d:r,curveness:s,ignoreForceLayout:o.get("ignoreForceLayout")}}),m=function(e,t,a){for(var i,n,r=a.rect,o=r.width,s=r.height,l=[r.x+o/2,r.y+s/2],u=null==a.gravity?.1:a.gravity,d=0;d<e.length;d++){var c=e[d];c.p||(c.p=eS.create(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),c.pp=eS.clone(c.p),c.edges=null}var p=null==a.friction?.6:a.friction,h=p;return{warmUp:function(){h=.8*p},setFixed:function(t){e[t].fixed=!0},setUnfixed:function(t){e[t].fixed=!1},beforeStep:function(e){i=e},afterStep:function(e){n=e},step:function(a){i&&i(e,t);for(var r=[],o=e.length,s=0;s<t.length;s++){var d=t[s];if(!d.ignoreForceLayout){var c=d.n1,p=d.n2;eS.sub(r,p.p,c.p);var g=eS.len(r)-d.d,f=p.w/(c.w+p.w);isNaN(f)&&(f=0),eS.normalize(r,r),c.fixed||sd(c.p,c.p,r,f*g*h),p.fixed||sd(p.p,p.p,r,-(1-f)*g*h)}}for(var s=0;s<o;s++){var y=e[s];y.fixed||(eS.sub(r,l,y.p),sd(y.p,y.p,r,u*h))}for(var s=0;s<o;s++)for(var c=e[s],m=s+1;m<o;m++){var p=e[m];eS.sub(r,p.p,c.p);var g=eS.len(r);0===g&&(eS.set(r,Math.random()-.5,Math.random()-.5),g=1);var v=(c.rep+p.rep)/g/g;c.fixed||sd(c.pp,c.pp,r,v),p.fixed||sd(p.pp,p.pp,r,-v)}for(var x=[],s=0;s<o;s++){var y=e[s];y.fixed||(eS.sub(x,y.p,y.pp),sd(y.p,y.p,x,h),eS.copy(y.pp,y.p))}var _=(h*=.992)<.01;n&&n(e,t,_),a&&a(_)}}}(f,y,{rect:t.getBoundingRect(),gravity:o.get("gravity"),friction:o.get("friction")});m.beforeStep(function(e,t){for(var a=0,n=e.length;a<n;a++)e[a].fixed&&eS.copy(e[a].p,i.getNodeByIndex(a).getLayout())}),m.afterStep(function(e,t,r){for(var o=0,s=e.length;o<s;o++)e[o].fixed||i.getNodeByIndex(o).setLayout(e[o].p),a[n.getId(o)]=e[o].p;for(var o=0,s=t.length;o<s;o++){var l=t[o],u=i.getEdgeByIndex(o),d=l.n1.p,c=l.n2.p,p=u.getLayout();(p=p?p.slice():[])[0]=p[0]||[],p[1]=p[1]||[],eS.copy(p[0],d),eS.copy(p[1],c),+l.curveness&&(p[2]=[(d[0]+c[0])/2-(d[1]-c[1])*l.curveness,(d[1]+c[1])/2-(c[0]-d[0])*l.curveness]),u.setLayout(p)}}),e.forceLayout=m,e.preservedPoints=a,m.step()}else e.forceLayout=null})}function sp(e,t){var a=[];return e.eachSeriesByType("graph",function(i){(0,ty.injectCoordSysByOption)({targetModel:i,coordSysType:"view",coordSysProvider:function(){var n,r,o,s=i.getData(),l=s.mapArray(function(e){var t=s.getItemModel(e);return[+t.get("x"),+t.get("y")]}),d=[],c=[];rq.fromPoints(l,d,c),c[0]-d[0]==0&&(c[0]+=1,d[0]-=1),c[1]-d[1]==0&&(c[1]+=1,d[1]-=1);var p=(c[0]-d[0])/(c[1]-d[1]),h=(n=(0,tR.createBoxLayoutReference)(i,t),r=(0,u.extend)(i.getBoxLayoutParams(),{aspect:p}),o=(0,tR.getLayoutRect)(r,n.refContainer),(0,tR.applyPreserveAspect)(i,o,p));isNaN(p)&&(d=[h.x,h.y],c=[h.x+h.width,h.y+h.height]);var g=c[0]-d[0],f=c[1]-d[1],y=new tC(null,{api:t,ecModel:e});return y.zoomLimit=i.get("scaleLimit"),y.setBoundingRect(d[0],d[1],g,f),y.setViewRect(h.x,h.y,h.width,h.height),y.setCenter(i.get("center")),y.setZoom(i.get("zoom")),a.push(y),y},isDefaultDataCoordSys:!0})}),a}var sh=e.i(87032),rB=rB,sg=sh.Line.prototype,sf=rB.default.prototype,sy=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function sm(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}(0,s.__extends)(function(){return null!==sy&&sy.apply(this,arguments)||this},sy);var sv=function(e){function t(t){var a=e.call(this,t)||this;return a.type="ec-line",a}return(0,s.__extends)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:tm.default.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new sy},t.prototype.buildPath=function(e,t){sm(t)?sg.buildPath.call(this,e,t):sf.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return sm(this.shape)?sg.pointAt.call(this,e):sf.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,a=sm(t)?[t.x2-t.x1,t.y2-t.y1]:sf.tangentAt.call(this,e);return eS.normalize(a,a)},t}(ni.Path),sx=["fromSymbol","toSymbol"];function s_(e){return"_"+e+"Type"}function sb(e,t,a){var i=t.getItemVisual(a,e);if(!i||"none"===i)return i;var n=t.getItemVisual(a,e+"Size"),r=t.getItemVisual(a,e+"Rotate"),o=t.getItemVisual(a,e+"Offset"),s=t.getItemVisual(a,e+"KeepAspect"),l=tf.normalizeSymbolSize(n),u=tf.normalizeSymbolOffset(o||0,l);return i+l+u+(r||"")+(s||"")}function sS(e,t,a){var i=t.getItemVisual(a,e);if(i&&"none"!==i){var n=t.getItemVisual(a,e+"Size"),r=t.getItemVisual(a,e+"Rotate"),o=t.getItemVisual(a,e+"Offset"),s=t.getItemVisual(a,e+"KeepAspect"),l=tf.normalizeSymbolSize(n),u=tf.normalizeSymbolOffset(o||0,l),d=tf.createSymbol(i,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return d.__specifiedRotation=null==r||isNaN(r)?void 0:r*Math.PI/180||0,d.name=e,d}}function sw(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var a=t[2];a?(e.cpx1=a[0],e.cpy1=a[1]):(e.cpx1=NaN,e.cpy1=NaN)}var sM=function(e){function t(t,a,i){var n=e.call(this)||this;return n._createLine(t,a,i),n}return(0,s.__extends)(t,e),t.prototype._createLine=function(e,t,a){var i,n=e.hostModel,r=e.getItemLayout(t),o=e.getItemVisual(t,"z2"),s=(sw((i=new sv({name:"line",subPixelOptimize:!0})).shape,r),i);s.shape.percent=0,E.initProps(s,{z2:(0,u.retrieve2)(o,0),shape:{percent:1}},n,t),this.add(s),(0,u.each)(sx,function(a){var i=sS(a,e,t);this.add(i),this[s_(a)]=sb(a,e,t)},this),this._updateCommonStl(e,t,a)},t.prototype.updateData=function(e,t,a){var i=e.hostModel,n=this.childOfName("line"),r=e.getItemLayout(t),o={shape:{}};sw(o.shape,r),E.updateProps(n,o,i,t),(0,u.each)(sx,function(a){var i=sb(a,e,t),n=s_(a);if(this[n]!==i){this.remove(this.childOfName(a));var r=sS(a,e,t);this.add(r)}this[n]=i},this),this._updateCommonStl(e,t,a)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,a){var i=e.hostModel,n=this.childOfName("line"),r=a&&a.emphasisLineStyle,o=a&&a.blurLineStyle,s=a&&a.selectLineStyle,l=a&&a.labelStatesModels,d=a&&a.emphasisDisabled,c=a&&a.focus,p=a&&a.blurScope;if(!a||e.hasItemOption){var h=e.getItemModel(t),g=h.getModel("emphasis");r=g.getModel("lineStyle").getLineStyle(),o=h.getModel(["blur","lineStyle"]).getLineStyle(),s=h.getModel(["select","lineStyle"]).getLineStyle(),d=g.get("disabled"),c=g.get("focus"),p=g.get("blurScope"),l=(0,eQ.getLabelStatesModels)(h)}var f=e.getItemVisual(t,"style"),y=f.stroke;n.useStyle(f),n.style.fill=null,n.style.strokeNoScale=!0,n.ensureState("emphasis").style=r,n.ensureState("blur").style=o,n.ensureState("select").style=s,(0,u.each)(sx,function(e){var t=this.childOfName(e);if(t){t.setColor(y),t.style.opacity=f.opacity;for(var a=0;a<V.SPECIAL_STATES.length;a++){var i=V.SPECIAL_STATES[a],r=n.getState(i);if(r){var o=r.style||{},s=t.ensureState(i),l=s.style||(s.style={});null!=o.stroke&&(l[t.__isEmptyBrush?"stroke":"fill"]=o.stroke),null!=o.opacity&&(l.opacity=o.opacity)}}t.markRedraw()}},this);var m=i.getRawValue(t);(0,eQ.setLabelStyle)(this,l,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,a){return i.getFormattedLabel(t,a,e.dataType)}},inheritColor:y||tm.default.color.neutral99,defaultOpacity:f.opacity,defaultText:(null==m?e.getName(t):isFinite(m)?(0,tL.round)(m):m)+""});var v=this.getTextContent();if(v){var x=l.normal;v.__align=v.style.align,v.__verticalAlign=v.style.verticalAlign,v.__position=x.get("position")||"middle";var _=x.get("distance");(0,u.isArray)(_)||(_=[_,_]),v.__labelDistance=_}this.setTextConfig({position:null,local:!0,inside:!1}),(0,V.toggleHoverEmphasis)(this,c,p,d)},t.prototype.highlight=function(){(0,V.enterEmphasis)(this)},t.prototype.downplay=function(){(0,V.leaveEmphasis)(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");sw(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this.childOfName("fromSymbol"),t=this.childOfName("toSymbol"),a=this.getTextContent();if(e||t||a&&!a.ignore){for(var i=1,n=this.parent;n;)n.scaleX&&(i/=n.scaleX),n=n.parent;var r=this.childOfName("line");if(this.__dirty||r.__dirty){var o=r.shape.percent,s=r.pointAt(0),l=r.pointAt(o),u=eS.sub([],l,s);if(eS.normalize(u,u),e&&(e.setPosition(s),S(e,0),e.scaleX=e.scaleY=i*o,e.markRedraw()),t&&(t.setPosition(l),S(t,1),t.scaleX=t.scaleY=i*o,t.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var d=void 0,c=void 0,p=a.__labelDistance,h=p[0]*i,g=p[1]*i,f=o/2,y=r.tangentAt(f),m=[y[1],-y[0]],v=r.pointAt(f);m[1]>0&&(m[0]=-m[0],m[1]=-m[1]);var x=y[0]<0?-1:1;if("start"!==a.__position&&"end"!==a.__position){var _=-Math.atan2(y[1],y[0]);l[0]<s[0]&&(_=Math.PI+_),a.rotation=_}var b=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":b=-g,c="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":b=g,c="top";break;default:b=0,c="middle"}switch(a.__position){case"end":a.x=u[0]*h+l[0],a.y=u[1]*g+l[1],d=u[0]>.8?"left":u[0]<-.8?"right":"center",c=u[1]>.8?"top":u[1]<-.8?"bottom":"middle";break;case"start":a.x=-u[0]*h+s[0],a.y=-u[1]*g+s[1],d=u[0]>.8?"right":u[0]<-.8?"left":"center",c=u[1]>.8?"bottom":u[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=h*x+s[0],a.y=s[1]+b,d=y[0]<0?"right":"left",a.originX=-h*x,a.originY=-b;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=v[0],a.y=v[1]+b,d="center",a.originY=-b;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-h*x+l[0],a.y=l[1]+b,d=y[0]>=0?"right":"left",a.originX=h*x,a.originY=-b}a.scaleX=a.scaleY=i,a.setStyle({verticalAlign:a.__verticalAlign||c,align:a.__align||d})}}}function S(e,t){var a=e.__specifiedRotation;if(null==a){var i=r.tangentAt(t);e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(i[1],i[0]))}else e.attr("rotation",a)}},t}(N.Group),sI=function(){function e(e){this.group=new N.Group,this._LineCtor=e||sM}return e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var a=this.group,i=this._lineData;this._lineData=e,i||a.removeAll();var n=sA(e);e.diff(i).add(function(a){t._doAdd(e,a,n)}).update(function(a,r){t._doUpdate(i,e,r,a,n)}).remove(function(e){a.remove(i.getItemGraphicEl(e))}).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,a){t.updateLayout(e,a)},this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=sA(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function a(e){var t;e.isGroup||(t=e).animators&&t.animators.length>0||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var i=e.start;i<e.end;i++)if(sT(t.getItemLayout(i))){var n=new this._LineCtor(t,i,this._seriesScope);n.traverse(a),this.group.add(n),t.setItemGraphicEl(i,n),this._progressiveEls.push(n)}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){g.traverseElements(this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,a){if(sT(e.getItemLayout(t))){var i=new this._LineCtor(e,t,a);e.setItemGraphicEl(t,i),this.group.add(i)}},e.prototype._doUpdate=function(e,t,a,i,n){var r=e.getItemGraphicEl(a);sT(t.getItemLayout(i))?(r?r.updateData(t,i,n):r=new this._LineCtor(t,i,n),t.setItemGraphicEl(i,r),this.group.add(r)):this.group.remove(r)},e}();function sA(e){var t=e.hostModel,a=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:a.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:a.get("disabled"),blurScope:a.get("blurScope"),focus:a.get("focus"),labelStatesModels:(0,eQ.getLabelStatesModels)(t)}}function sL(e){return isNaN(e[0])||isNaN(e[1])}function sT(e){return e&&!sL(e[0])&&!sL(e[1])}var sC=[],sD=[],sP=[],sk=nz.quadraticAt,sE=eS.distSquare,sN=Math.abs;function sR(e,t,a){for(var i,n=e[0],r=e[1],o=e[2],s=1/0,l=a*a,u=.1,d=.1;d<=.9;d+=.1){sC[0]=sk(n[0],r[0],o[0],d),sC[1]=sk(n[1],r[1],o[1],d);var c=sN(sE(sC,t)-l);c<s&&(s=c,i=d)}for(var p=0;p<32;p++){var h=i+u;sD[0]=sk(n[0],r[0],o[0],i),sD[1]=sk(n[1],r[1],o[1],i),sP[0]=sk(n[0],r[0],o[0],h),sP[1]=sk(n[1],r[1],o[1],h);var c=sE(sD,t)-l;if(.01>sN(c))break;var g=sE(sP,t)-l;u/=2,c<0?g>=0?i+=u:i-=u:g>=0?i-=u:i+=u}return i}function sO(e,t){var a=[],i=nz.quadraticSubdivide,n=[[],[],[]],r=[[],[]],o=[];t/=2,e.eachEdge(function(e,s){var l=e.getLayout(),u=e.getVisual("fromSymbol"),d=e.getVisual("toSymbol");!l.__original&&(l.__original=[eS.clone(l[0]),eS.clone(l[1])],l[2]&&l.__original.push(eS.clone(l[2])));var c=l.__original;if(null!=l[2]){if(eS.copy(n[0],c[0]),eS.copy(n[1],c[2]),eS.copy(n[2],c[1]),u&&"none"!==u){var p=si(e.node1),h=sR(n,c[0],p*t);i(n[0][0],n[1][0],n[2][0],h,a),n[0][0]=a[3],n[1][0]=a[4],i(n[0][1],n[1][1],n[2][1],h,a),n[0][1]=a[3],n[1][1]=a[4]}if(d&&"none"!==d){var p=si(e.node2),h=sR(n,c[1],p*t);i(n[0][0],n[1][0],n[2][0],h,a),n[1][0]=a[1],n[2][0]=a[2],i(n[0][1],n[1][1],n[2][1],h,a),n[1][1]=a[1],n[2][1]=a[2]}eS.copy(l[0],n[0]),eS.copy(l[1],n[2]),eS.copy(l[2],n[1])}else{if(eS.copy(r[0],c[0]),eS.copy(r[1],c[1]),eS.sub(o,r[1],r[0]),eS.normalize(o,o),u&&"none"!==u){var p=si(e.node1);eS.scaleAndAdd(r[0],r[0],o,p*t)}if(d&&"none"!==d){var p=si(e.node2);eS.scaleAndAdd(r[1],r[1],o,-p*t)}eS.copy(l[0],r[0]),eS.copy(l[1],r[1])}})}var sz=(0,h.makeInner)();function sV(e,t){e&&(sz(e).bridge=t)}function sG(e){return"view"===e.type}var sB=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.init=function(e,t){var a=new rs.default,i=new sI,n=this.group,r=new N.Group;this._controller=new y(t.getZr()),this._controllerHost={target:r},r.add(a.group),r.add(i.group),n.add(r),this._symbolDraw=a,this._lineDraw=i,this._mainGroup=r,this._firstRender=!0},t.prototype.render=function(e,t,a){var i=this,n=e.coordinateSystem,r=!1;this._model=e,this._api=a,this._active=!0;var o=this._getThumbnailInfo();o&&o.bridge.reset(a);var s=this._symbolDraw,l=this._lineDraw;if(sG(n)){var u={x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY};this._firstRender?this._mainGroup.attr(u):E.updateProps(this._mainGroup,u,e)}sO(e.getGraph(),sa(e));var d=e.getData();s.updateData(d);var c=e.getEdgeData();l.updateData(c),this._updateNodeAndLinkScale(),this._updateController(null,e,a),clearTimeout(this._layoutTimeout);var p=e.forceLayout,h=e.get(["force","layoutAnimation"]);p&&(r=!0,this._startForceLayoutIteration(p,a,h));var g=e.get("layout");d.graph.eachNode(function(t){var n=t.dataIndex,r=t.getGraphicEl(),o=t.getModel();if(r){r.off("drag").off("dragend");var s=o.get("draggable");s&&r.on("drag",function(o){switch(g){case"force":p.warmUp(),i._layouting||i._startForceLayoutIteration(p,a,h),p.setFixed(n),d.setItemLayout(n,[r.x,r.y]);break;case"circular":d.setItemLayout(n,[r.x,r.y]),t.setLayout({fixed:!0},!0),so(e,"symbolSize",t,[o.offsetX,o.offsetY]),i.updateLayout(e);break;default:d.setItemLayout(n,[r.x,r.y]),se(e.getGraph(),e),i.updateLayout(e)}}).on("dragend",function(){p&&p.setUnfixed(n)}),r.setDraggable(s,!!o.get("cursor")),"adjacency"===o.get(["emphasis","focus"])&&((0,e0.getECData)(r).focus=t.getAdjacentDataIndices())}}),d.graph.eachEdge(function(e){var t=e.getGraphicEl(),a=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===a&&((0,e0.getECData)(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})});var f="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),y=d.getLayout("cx"),m=d.getLayout("cy");d.graph.eachNode(function(e){sl(e,f,y,m)}),this._firstRender=!1,r||this._renderThumbnail(e,a,this._symbolDraw,this._lineDraw)},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t,a){var i=this,n=!1;!function r(){e.step(function(e){i.updateLayout(i._model),(e||!n)&&(n=!0,i._renderThumbnail(i._model,t,i._symbolDraw,i._lineDraw)),(i._layouting=!e)&&(a?i._layoutTimeout=setTimeout(r,16):r())})}()},t.prototype._updateController=function(e,t,a){var i=this._controller,n=this._controllerHost,r=t.coordinateSystem;sG(r)?(i.enable(t.get("roam"),{api:a,zInfo:{component:t},triggerInfo:{roamTrigger:t.get("roamTrigger"),isInSelf:function(e,t,a){return r.containPoint([t,a])},isInClip:function(t,a,i){return!e||e.contain(a,i)}}}),n.zoomLimit=t.get("scaleLimit"),n.zoom=r.getZoom(),i.off("pan").off("zoom").on("pan",function(e){a.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){a.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY})})):i.disable()},t.prototype.updateViewOnPan=function(e,t,a){this._active&&(I(this._controllerHost,a.dx,a.dy),this._updateThumbnailWindow())},t.prototype.updateViewOnZoom=function(e,t,a){this._active&&(A(this._controllerHost,a.zoom,a.originX,a.originY),this._updateNodeAndLinkScale(),sO(e.getGraph(),sa(e)),this._lineDraw.updateLayout(),t.updateLabelLayout(),this._updateThumbnailWindow())},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),a=sa(e);t.eachItemGraphicEl(function(e,t){e&&e.setSymbolScale(a)})},t.prototype.updateLayout=function(e){this._active&&(sO(e.getGraph(),sa(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},t.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},t.prototype._getThumbnailInfo=function(){var e=this._model,t=e.coordinateSystem;if("view"===t.type){var a=function(e){if(e)return sz(e).bridge}(e);if(a)return{bridge:a,coordSys:t}}},t.prototype._updateThumbnailWindow=function(){var e=this._getThumbnailInfo();e&&e.bridge.updateWindow(e.coordSys.transform,this._api)},t.prototype._renderThumbnail=function(e,t,a,i){var n=this._getThumbnailInfo();if(n){var r=new N.Group,o=a.group.children(),s=i.group.children(),l=new N.Group,d=new N.Group;r.add(d),r.add(l);for(var c=0;c<o.length;c++){var p=o[c],h=p.children()[0],g=p.x,f=p.y,y=(0,u.clone)(h.shape),m=(0,u.extend)(y,{width:h.scaleX,height:h.scaleY,x:g-h.scaleX/2,y:f-h.scaleY/2}),v=(0,u.clone)(h.style),x=new h.constructor({shape:m,style:v,z2:151});d.add(x)}for(var c=0;c<s.length;c++){var p=s[c],_=p.children()[0],v=(0,u.clone)(_.style),m=(0,u.clone)(_.shape),b=new sv({style:v,shape:m,z2:151});l.add(b)}n.bridge.renderContent({api:t,roamType:e.get("roam"),viewportRect:null,group:r,targetTrans:n.coordSys.transform})}},t.type="graph",t}(ts.default);function sF(e){return"_EC_"+e}var sH=function(){function e(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(e,t){e=null==e?""+t:""+e;var a=this._nodesMap;if(!a[sF(e)]){var i=new sW(e,t);return i.hostGraph=this,this.nodes.push(i),a[sF(e)]=i,i}},e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},e.prototype.getNodeById=function(e){return this._nodesMap[sF(e)]},e.prototype.addEdge=function(e,t,a){var i=this._nodesMap,n=this._edgesMap;if(u.isNumber(e)&&(e=this.nodes[e]),u.isNumber(t)&&(t=this.nodes[t]),e instanceof sW||(e=i[sF(e)]),t instanceof sW||(t=i[sF(t)]),e&&t){var r=e.id+"-"+t.id,o=new sY(e,t,a);return o.hostGraph=this,this._directed&&(e.outEdges.push(o),t.inEdges.push(o)),e.edges.push(o),e!==t&&t.edges.push(o),this.edges.push(o),n[r]=o,o}},e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},e.prototype.getEdge=function(e,t){e instanceof sW&&(e=e.id),t instanceof sW&&(t=t.id);var a=this._edgesMap;return this._directed?a[e+"-"+t]:a[e+"-"+t]||a[t+"-"+e]},e.prototype.eachNode=function(e,t){for(var a=this.nodes,i=a.length,n=0;n<i;n++)a[n].dataIndex>=0&&e.call(t,a[n],n)},e.prototype.eachEdge=function(e,t){for(var a=this.edges,i=a.length,n=0;n<i;n++)a[n].dataIndex>=0&&a[n].node1.dataIndex>=0&&a[n].node2.dataIndex>=0&&e.call(t,a[n],n)},e.prototype.breadthFirstTraverse=function(e,t,a,i){if(t instanceof sW||(t=this._nodesMap[sF(t)]),t){for(var n="out"===a?"outEdges":"in"===a?"inEdges":"edges",r=0;r<this.nodes.length;r++)this.nodes[r].__visited=!1;if(!e.call(i,t,null))for(var o=[t];o.length;)for(var s=o.shift(),l=s[n],r=0;r<l.length;r++){var u=l[r],d=u.node1===s?u.node2:u.node1;if(!d.__visited){if(e.call(i,d,s))return;o.push(d),d.__visited=!0}}}},e.prototype.update=function(){for(var e=this.data,t=this.edgeData,a=this.nodes,i=this.edges,n=0,r=a.length;n<r;n++)a[n].dataIndex=-1;for(var n=0,r=e.count();n<r;n++)a[e.getRawIndex(n)].dataIndex=n;t.filterSelf(function(e){var a=i[t.getRawIndex(e)];return a.node1.dataIndex>=0&&a.node2.dataIndex>=0});for(var n=0,r=i.length;n<r;n++)i[n].dataIndex=-1;for(var n=0,r=t.count();n<r;n++)i[t.getRawIndex(n)].dataIndex=n},e.prototype.clone=function(){for(var t=new e(this._directed),a=this.nodes,i=this.edges,n=0;n<a.length;n++)t.addNode(a[n].id,a[n].dataIndex);for(var n=0;n<i.length;n++){var r=i[n];t.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return t},e}(),sW=function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var a=this.edges[t];a.dataIndex<0||(e.edge.push(a.dataIndex),e.node.push(a.node1.dataIndex,a.node2.dataIndex))}return e},e.prototype.getTrajectoryDataIndices=function(){for(var e=u.createHashMap(),t=u.createHashMap(),a=0,i=this.edges.length;a<i;a++){var n=this.edges[a];if(!(n.dataIndex<0)){e.set(n.dataIndex,!0);for(var r=[n.node1],o=[n.node2],s=0;s<r.length;){var l=r[s];s++,t.set(l.dataIndex,!0);for(var d=l.inEdges,c=0,p=d.length,h=void 0,g=void 0;c<p;c++)(g=(h=d[c]).dataIndex)>=0&&!e.hasKey(g)&&(e.set(g,!0),r.push(h.node1))}for(s=0;s<o.length;){var f=o[s];s++,t.set(f.dataIndex,!0);for(var y=f.outEdges,c=0,m=y.length,v=void 0,x=void 0;c<m;c++)(x=(v=y[c]).dataIndex)>=0&&!e.hasKey(x)&&(e.set(x,!0),o.push(v.node2))}}}return{edge:e.keys(),node:t.keys()}},e}(),sY=function(){function e(e,t,a){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==a?-1:a}return e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var e=u.createHashMap(),t=u.createHashMap();e.set(this.dataIndex,!0);for(var a=[this.node1],i=[this.node2],n=0;n<a.length;){var r=a[n];n++,t.set(r.dataIndex,!0);for(var o=r.inEdges,s=0,l=o.length,d=void 0,c=void 0;s<l;s++)(c=(d=r.inEdges[s]).dataIndex)>=0&&!e.hasKey(c)&&(e.set(c,!0),a.push(d.node1))}for(n=0;n<i.length;){var p=i[n];n++,t.set(p.dataIndex,!0);for(var h=p.outEdges,s=0,l=h.length,g=void 0,f=void 0;s<l;s++)(f=(g=p.outEdges[s]).dataIndex)>=0&&!e.hasKey(f)&&(e.set(f,!0),i.push(g.node2))}return{edge:e.keys(),node:t.keys()}},e}();function sX(e,t){return{getValue:function(a){var i=this[e][t];return i.getStore().get(i.getDimensionIndex(a||"value"),this.dataIndex)},setVisual:function(a,i){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,a,i)},getVisual:function(a){return this[e][t].getItemVisual(this.dataIndex,a)},setLayout:function(a,i){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,a,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}function sU(e,t,a,i,n){for(var r,o=new sH(i),s=0;s<e.length;s++)o.addNode(u.retrieve(e[s].id,e[s].name,s),s);for(var l=[],d=[],c=0,s=0;s<t.length;s++){var p=t[s],g=p.source,f=p.target;o.addEdge(g,f,c)&&(d.push(p),l.push(u.retrieve((0,h.convertOptionIdName)(p.id,null),g+" > "+f)),c++)}var y=a.get("coordinateSystem");if("cartesian2d"===y||"polar"===y||"matrix"===y)r=(0,i7.default)(e,a);else{var m=ty.default.get(y),v=m&&m.dimensions||[];0>u.indexOf(v,"value")&&v.concat(["value"]);var x=(0,tu.default)(e,{coordDimensions:v,encodeDefine:a.getEncode()}).dimensions;(r=new td.default(x,a)).initData(e)}var _=new td.default(["value"],a);return _.initData(d,l),n&&n(r,_),oi({mainData:r,struct:o,structAttr:"graph",datas:{node:r,edge:_},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}u.mixin(sW,sX("hostGraph","data")),u.mixin(sY,sX("hostGraph","edgeData"));var sZ=e.i(85851),sj=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a}return(0,s.__extends)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var a=this;function i(){return a._categoriesData}this.legendVisualProvider=new ri(i,i),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),(0,h.defaultEmphasis)(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var a=e.edges||e.links||[],i=e.data||e.nodes||[],n=this;o2(this)&&(this.__curvenessList=[],this.__edgeMap={},o3(this));var r=sU(i,a,this,!0,function(e,t){e.wrapMethod("getItemModel",function(e){var t=n._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e});var a=tw.default.prototype.getModel;function i(e,t){var i=a.call(this,e,t);return i.resolveParentPath=r,i}function r(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",function(e){return e.resolveParentPath=r,e.getModel=i,e})});return u.each(r.edges,function(e){!function(e,t,a,i){if(o2(a)){var n=o5(e,t,a),r=a.__edgeMap,o=r[o4(n)];r[n]&&!o?r[n].isForward=!0:o&&r[n]&&(o.isForward=!0,r[n].isForward=!1),r[n]=r[n]||[],r[n].push(i)}}(e.node1,e.node2,this,e.dataIndex)},this),r.data},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,a){if("edge"===a){var i=this.getData(),n=this.getDataParams(e,a),r=i.graph.getEdgeByIndex(e),o=i.getName(r.node1.dataIndex),s=i.getName(r.node2.dataIndex),l=[];return null!=o&&l.push(o),null!=s&&l.push(s),(0,tg.createTooltipMarkup)("nameValue",{name:l.join(" > "),value:n.value,noValue:null==n.value})}return(0,sZ.defaultSeriesFormatTooltip)({series:this,dataIndex:e,multipleSeries:t})},t.prototype._updateCategoriesData=function(){var e=u.map(this.option.categories||[],function(e){return null!=e.value?e:u.extend({value:0},e)}),t=new td.default(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(e){return t.getItemModel(e)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:tm.default.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:tm.default.color.primary}}},t}(tp.default),sq=function(e){function t(t,a,i){var n=e.call(this)||this;(0,e0.getECData)(n).dataType="node",n.z2=2;var r=new ay.Text;return n.setTextContent(r),n.updateData(t,a,i,!0),n}return(0,s.__extends)(t,e),t.prototype.updateData=function(e,t,a,i){var n=e.graph.getNodeByIndex(t),r=e.hostModel,o=n.getModel(),s=o.getModel("emphasis"),l=e.getItemLayout(t),d=(0,u.extend)(nd(o.getModel("itemStyle"),l,!0),l);if(isNaN(d.startAngle))return void this.setShape(d);i?this.setShape(d):E.updateProps(this,{shape:d},r,t);var c=(0,u.extend)(nd(o.getModel("itemStyle"),l,!0),l);this.setShape(c),this.useStyle(e.getItemVisual(t,"style")),(0,V.setStatesStylesFromModel)(this,o),this._updateLabel(r,o,n),e.setItemGraphicEl(t,this),(0,V.setStatesStylesFromModel)(this,o,"itemStyle");var p=s.get("focus");(0,V.toggleHoverEmphasis)(this,"adjacency"===p?n.getAdjacentDataIndices():p,s.get("blurScope"),s.get("disabled"))},t.prototype._updateLabel=function(e,t,a){var i,n=this.getTextContent(),r=a.getLayout(),o=(r.startAngle+r.endAngle)/2,s=Math.cos(o),l=Math.sin(o),d=t.getModel("label");n.ignore=!d.get("show");var c=(0,eQ.getLabelStatesModels)(t),p=a.getVisual("style");(0,eQ.setLabelStyle)(n,c,{labelFetcher:{getFormattedLabel:function(a,i,n,r,o,s){return e.getFormattedLabel(a,i,"node",r,(0,u.retrieve3)(o,c.normal&&c.normal.get("formatter"),t.get("name")),s)}},labelDataIndex:a.dataIndex,defaultText:a.dataIndex+"",inheritColor:p.fill,defaultOpacity:p.opacity,defaultOutsidePosition:"startArc"});var h=d.get("position")||"outside",g=d.get("distance")||0;i="outside"===h?r.r+g:(r.r+r.r0)/2,this.textConfig={inside:"outside"!==h};var f="outside"!==h?d.get("align")||"center":s>0?"left":"right",y="outside"!==h?d.get("verticalAlign")||"middle":l>0?"top":"bottom";n.attr({x:s*i+r.cx,y:l*i+r.cy,rotation:0,style:{align:f,verticalAlign:y}})},t}(ne.Sector),sK=e.i(58862),sJ=function(e){function t(t,a,i,n){var r=e.call(this)||this;return(0,e0.getECData)(r).dataType="edge",r.updateData(t,a,i,n,!0),r}return(0,s.__extends)(t,e),t.prototype.buildPath=function(e,t){e.moveTo(t.s1[0],t.s1[1]);var a=t.clockwise;e.arc(t.cx,t.cy,t.r,t.sStartAngle,t.sEndAngle,!a),e.bezierCurveTo((t.cx-t.s2[0])*.7+t.s2[0],(t.cy-t.s2[1])*.7+t.s2[1],(t.cx-t.t1[0])*.7+t.t1[0],(t.cy-t.t1[1])*.7+t.t1[1],t.t1[0],t.t1[1]),e.arc(t.cx,t.cy,t.r,t.tStartAngle,t.tEndAngle,!a),e.bezierCurveTo((t.cx-t.t2[0])*.7+t.t2[0],(t.cy-t.t2[1])*.7+t.t2[1],(t.cx-t.s1[0])*.7+t.s1[0],(t.cy-t.s1[1])*.7+t.s1[1],t.s1[0],t.s1[1]),e.closePath()},t.prototype.updateData=function(e,t,a,i,n){var r=e.hostModel,o=t.graph.getEdgeByIndex(a),s=o.getLayout(),l=o.node1.getModel(),d=t.getItemModel(o.dataIndex),c=d.getModel("lineStyle"),p=d.getModel("emphasis"),h=p.get("focus"),g=(0,u.extend)(nd(l.getModel("itemStyle"),s,!0),s);isNaN(g.sStartAngle)||isNaN(g.tStartAngle)?this.setShape(g):(n?(this.setShape(g),s$(this,o,e,c)):((0,E.saveOldStyle)(this),s$(this,o,e,c),E.updateProps(this,{shape:g},r,a)),(0,V.toggleHoverEmphasis)(this,"adjacency"===h?o.getAdjacentDataIndices():h,p.get("blurScope"),p.get("disabled")),(0,V.setStatesStylesFromModel)(this,d,"lineStyle"),t.setItemGraphicEl(o.dataIndex,this))},t}(ni.Path);function s$(e,t,a,i){var n=t.node1,r=t.node2,o=e.style;switch(e.setStyle(i.getLineStyle()),i.get("color")){case"source":o.fill=a.getItemVisual(n.dataIndex,"style").fill,o.decal=n.getVisual("style").decal;break;case"target":o.fill=a.getItemVisual(r.dataIndex,"style").fill,o.decal=r.getVisual("style").decal;break;case"gradient":var s=a.getItemVisual(n.dataIndex,"style").fill,l=a.getItemVisual(r.dataIndex,"style").fill;if((0,u.isString)(s)&&(0,u.isString)(l)){var d=e.shape,c=(d.s1[0]+d.s2[0])/2,p=(d.s1[1]+d.s2[1])/2,h=(d.t1[0]+d.t2[0])/2,g=(d.t1[1]+d.t2[1])/2;o.fill=new sK.LinearGradient(c,p,h,g,[{offset:0,color:s},{offset:1,color:l}],!0)}}}var sQ=Math.PI/180,s0=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.init=function(e,t){},t.prototype.render=function(e,t,a){var i=e.getData(),n=this._data,r=this.group,o=-e.get("startAngle")*sQ;if(i.diff(n).add(function(e){if(i.getItemLayout(e)){var t=new sq(i,e,o);(0,e0.getECData)(t).dataIndex=e,r.add(t)}}).update(function(t,a){var s=n.getItemGraphicEl(a);if(!i.getItemLayout(t)){s&&E.removeElementWithFadeOut(s,e,a);return}s?s.updateData(i,t,o):s=new sq(i,t,o),r.add(s)}).remove(function(t){var a=n.getItemGraphicEl(t);a&&E.removeElementWithFadeOut(a,e,t)}).execute(),!n){var s=e.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=(0,tL.parsePercent)(s[0],a.getWidth()),this.group.originY=(0,tL.parsePercent)(s[1],a.getHeight()),E.initProps(this.group,{scaleX:1,scaleY:1},e)}this._data=i,this.renderEdges(e,o)},t.prototype.renderEdges=function(e,t){var a=e.getData(),i=e.getEdgeData(),n=this._edgeData,r=this.group;i.diff(n).add(function(e){var n=new sJ(a,i,e,t);(0,e0.getECData)(n).dataIndex=e,r.add(n)}).update(function(e,o){var s=n.getItemGraphicEl(o);s.updateData(a,i,e,t),r.add(s)}).remove(function(t){var a=n.getItemGraphicEl(t);a&&E.removeElementWithFadeOut(a,e,t)}).execute(),this._edgeData=i},t.prototype.dispose=function(){},t.type="chord",t}(ts.default),s1=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this.legendVisualProvider=new ri(u.bind(this.getData,this),u.bind(this.getRawData,this))},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links)},t.prototype.getInitialData=function(e,t){var a=e.edges||e.links||[];return sU(e.data||e.nodes||[],a,this,!0,function(e,t){var a=tw.default.prototype.getModel;function i(e,t){var i=a.call(this,e,t);return i.resolveParentPath=n,i}function n(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",function(e){return e.resolveParentPath=n,e.getModel=i,e})}).data},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,a){var i=this.getDataParams(e,a);if("edge"===a){var n=this.getData(),r=n.graph.getEdgeByIndex(e),o=n.getName(r.node1.dataIndex),s=n.getName(r.node2.dataIndex),l=[];return null!=o&&l.push(o),null!=s&&l.push(s),(0,tg.createTooltipMarkup)("nameValue",{name:l.join(" > "),value:i.value,noValue:null==i.value})}return(0,tg.createTooltipMarkup)("nameValue",{name:i.name,value:i.value,noValue:null==i.value})},t.prototype.getDataParams=function(t,a){var i=e.prototype.getDataParams.call(this,t,a);if("node"===a){var n=this.getData(),r=this.getGraph().getNodeByIndex(t);null==i.name&&(i.name=n.getName(t)),null==i.value&&(i.value=r.getLayout().value)}return i},t.type="series.chord",t.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},t}(tp.default),s2=Math.PI/180;function s3(e,t){e.eachSeriesByType("chord",function(e){!function(e,t){var a=e.getData(),i=a.graph,n=e.getEdgeData();if(n.count()){var r=(0,tR.getCircleLayout)(e,t),o=r.cx,s=r.cy,l=r.r,u=r.r0,d=Math.max((e.get("padAngle")||0)*s2,0),c=Math.max((e.get("minAngle")||0)*s2,0),p=-e.get("startAngle")*s2,h=p+2*Math.PI,g=e.get("clockwise"),f=g?1:-1,y=[p,h];(0,iu.normalizeArcAngles)(y,!g);var m=y[0],v=y[1]-m,x=0===a.getSum("value")&&0===n.getSum("value"),_=[],b=0;i.eachEdge(function(e){var t=x?1:e.getValue("value");x&&(t>0||c)&&(b+=2);var a=e.node1.dataIndex,i=e.node2.dataIndex;_[a]=(_[a]||0)+t,_[i]=(_[i]||0)+t});var S=0;if(i.eachNode(function(e){var t=e.getValue("value");isNaN(t)||(_[e.dataIndex]=Math.max(t,_[e.dataIndex]||0)),!x&&(_[e.dataIndex]>0||c)&&b++,S+=_[e.dataIndex]||0}),0!==b&&0!==S){d*b>=Math.abs(v)&&(d=Math.max(0,(Math.abs(v)-c*b)/b)),(d+c)*b>=Math.abs(v)&&(c=(Math.abs(v)-d*b)/b);var w=(v-d*b*f)/S,M=0,I=0,A=0,L=1/0;i.eachNode(function(e){var t=_[e.dataIndex]||0,a=w*(S?t:1)*f;Math.abs(a)<c?M+=c-Math.abs(a):(L=Math.min(L,Math.abs(a)-c),I+=Math.abs(a)-c,A+=Math.abs(a)),e.setLayout({angle:a,value:t})});var T=!1;if(M>I){var C=M/I;i.eachNode(function(e){var t=e.getLayout().angle;Math.abs(t)>=c?e.setLayout({angle:t*C,ratio:C},!0):e.setLayout({angle:c,ratio:0===c?1:t/c},!0)})}else i.eachNode(function(e){if(!T){var t=e.getLayout().angle,a=Math.min(t/A,1)*M;t-a<c&&(T=!0)}});var D=M;i.eachNode(function(e){if(!(D<=0)){var t=e.getLayout().angle;if(t>c&&c>0){var a=T?1:Math.min(t/A,1),i=Math.min(t-c,Math.min(D,M*a));D-=i,e.setLayout({angle:t-i,ratio:(t-i)/t},!0)}else c>0&&e.setLayout({angle:c,ratio:0===t?1:c/t},!0)}});var P=m,k=[];i.eachNode(function(e){var t=Math.max(e.getLayout().angle,c);e.setLayout({cx:o,cy:s,r0:u,r:l,startAngle:P,endAngle:P+t*f,clockwise:g},!0),k[e.dataIndex]=P,P+=(t+d)*f}),i.eachEdge(function(e){var t=x?1:e.getValue("value"),a=w*(S?t:1)*f,i=e.node1.dataIndex,n=k[i]||0,r=n+Math.abs((e.node1.getLayout().ratio||1)*a)*f,l=[o+u*Math.cos(n),s+u*Math.sin(n)],d=[o+u*Math.cos(r),s+u*Math.sin(r)],c=e.node2.dataIndex,p=k[c]||0,h=p+Math.abs((e.node2.getLayout().ratio||1)*a)*f,y=[o+u*Math.cos(p),s+u*Math.sin(p)],m=[o+u*Math.cos(h),s+u*Math.sin(h)];e.setLayout({s1:l,s2:d,sStartAngle:n,sEndAngle:r,t1:y,t2:m,tStartAngle:p,tEndAngle:h,cx:o,cy:s,r:u,value:t,clockwise:g}),k[i]=r,k[c]=h})}}}(e,t)})}var s5=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},s4=function(e){function t(t){var a=e.call(this,t)||this;return a.type="pointer",a}return(0,s.__extends)(t,e),t.prototype.getDefaultShape=function(){return new s5},t.prototype.buildPath=function(e,t){var a=Math.cos,i=Math.sin,n=t.r,r=t.width,o=t.angle,s=t.x-a(o)*r*(r>=n/3?1:2),l=t.y-i(o)*r*(r>=n/3?1:2);o=t.angle-Math.PI/2,e.moveTo(s,l),e.lineTo(t.x+a(o)*r,t.y+i(o)*r),e.lineTo(t.x+a(t.angle)*n,t.y+i(t.angle)*n),e.lineTo(t.x-a(o)*r,t.y-i(o)*r),e.lineTo(s,l)},t}(aK.default);function s6(e,t){var a=null==e?"":e+"";return t&&((0,u.isString)(t)?a=t.replace("{value}",a):(0,u.isFunction)(t)&&(a=t(e))),a}var s7=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){this.group.removeAll();var i,n,r=e.get(["axisLine","lineStyle","color"]),o=(i=e.get("center"),n=Math.min(a.getWidth(),a.getHeight()),{cx:(0,tL.parsePercent)(i[0],a.getWidth()),cy:(0,tL.parsePercent)(i[1],a.getHeight()),r:(0,tL.parsePercent)(e.get("radius"),n/2)});this._renderMain(e,t,a,r,o),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,t,a,i,n){var r=this.group,o=e.get("clockwise"),s=-e.get("startAngle")/180*Math.PI,l=-e.get("endAngle")/180*Math.PI,d=e.getModel("axisLine"),c=d.get("roundCap")?nr:ne.Sector,p=d.get("show"),h=d.getModel("lineStyle"),g=h.get("width"),f=[s,l];(0,iu.normalizeArcAngles)(f,!o),s=f[0];for(var y=(l=f[1])-s,m=s,v=[],x=0;p&&x<i.length;x++){var _=new c({shape:{startAngle:m,endAngle:l=s+y*Math.min(Math.max(i[x][0],0),1),cx:n.cx,cy:n.cy,clockwise:o,r0:n.r-g,r:n.r},silent:!0});_.setStyle({fill:i[x][1]}),_.setStyle(h.getLineStyle(["color","width"])),v.push(_),m=l}v.reverse(),(0,u.each)(v,function(e){return r.add(e)});var b=function(e){var t;if(e<=0)return i[0][1];for(t=0;t<i.length;t++)if(i[t][0]>=e&&(0===t?0:i[t-1][0])<e)return i[t][1];return i[t-1][1]};this._renderTicks(e,t,a,b,n,s,l,o,g),this._renderTitleAndDetail(e,t,a,b,n),this._renderAnchor(e,n),this._renderPointer(e,t,a,b,n,s,l,o,g)},t.prototype._renderTicks=function(e,t,a,i,n,r,o,s,l){for(var d,c,p=this.group,h=n.cx,g=n.cy,f=n.r,y=+e.get("min"),m=+e.get("max"),v=e.getModel("splitLine"),x=e.getModel("axisTick"),_=e.getModel("axisLabel"),b=e.get("splitNumber"),S=x.get("splitNumber"),w=(0,tL.parsePercent)(v.get("length"),f),M=(0,tL.parsePercent)(x.get("length"),f),I=r,A=(o-r)/b,L=A/S,T=v.getModel("lineStyle").getLineStyle(),C=x.getModel("lineStyle").getLineStyle(),D=v.get("distance"),P=0;P<=b;P++){if(d=Math.cos(I),c=Math.sin(I),v.get("show")){var k=D?D+l:l,E=new sh.Line({shape:{x1:d*(f-k)+h,y1:c*(f-k)+g,x2:d*(f-w-k)+h,y2:c*(f-w-k)+g},style:T,silent:!0});"auto"===T.stroke&&E.setStyle({stroke:i(P/b)}),p.add(E)}if(_.get("show")){var k=_.get("distance")+D,N=s6((0,tL.round)(P/b*(m-y)+y),_.get("formatter")),R=i(P/b),O=d*(f-w-k)+h,z=c*(f-w-k)+g,V=_.get("rotate"),G=0;"radial"===V?(G=-I+2*Math.PI)>Math.PI/2&&(G+=Math.PI):"tangential"===V?G=-I-Math.PI/2:(0,u.isNumber)(V)&&(G=V*Math.PI/180),0===G?p.add(new ay.Text({style:(0,eQ.createTextStyle)(_,{text:N,x:O,y:z,verticalAlign:c<-.8?"top":c>.8?"bottom":"middle",align:d<-.4?"left":d>.4?"right":"center"},{inheritColor:R}),silent:!0})):p.add(new ay.Text({style:(0,eQ.createTextStyle)(_,{text:N,x:O,y:z,verticalAlign:"middle",align:"center"},{inheritColor:R}),silent:!0,originX:O,originY:z,rotation:G}))}if(x.get("show")&&P!==b){var k=x.get("distance");k=k?k+l:l;for(var B=0;B<=S;B++){d=Math.cos(I),c=Math.sin(I);var F=new sh.Line({shape:{x1:d*(f-k)+h,y1:c*(f-k)+g,x2:d*(f-M-k)+h,y2:c*(f-M-k)+g},silent:!0,style:C});"auto"===C.stroke&&F.setStyle({stroke:i((P+B/S)/b)}),p.add(F),I+=L}I-=L}else I+=A}},t.prototype._renderPointer=function(e,t,a,i,n,r,o,s,l){var d=this.group,c=this._data,p=this._progressEls,h=[],g=e.get(["pointer","show"]),f=e.getModel("progress"),y=f.get("show"),m=e.getData(),v=m.mapDimension("value"),x=+e.get("min"),_=+e.get("max"),b=[x,_],S=[r,o];function w(t,a){var i,r=m.getItemModel(t).getModel("pointer"),o=(0,tL.parsePercent)(r.get("width"),n.r),s=(0,tL.parsePercent)(r.get("length"),n.r),l=e.get(["pointer","icon"]),u=r.get("offsetCenter"),d=(0,tL.parsePercent)(u[0],n.r),c=(0,tL.parsePercent)(u[1],n.r),p=r.get("keepAspect");return(i=l?(0,tf.createSymbol)(l,d-o/2,c-s,o,s,null,p):new s4({shape:{angle:-Math.PI/2,width:o,r:s,x:d,y:c}})).rotation=-(a+Math.PI/2),i.x=n.cx,i.y=n.cy,i}function M(e,t){var a=f.get("roundCap")?nr:ne.Sector,i=f.get("overlap"),o=i?f.get("width"):l/m.count(),u=i?n.r-o:n.r-(e+1)*o,d=i?n.r:n.r-e*o,c=new a({shape:{startAngle:r,endAngle:t,cx:n.cx,cy:n.cy,clockwise:s,r0:u,r:d}});return i&&(c.z2=(0,tL.linearMap)(m.get(v,e),[x,_],[100,0],!0)),c}(y||g)&&(m.diff(c).add(function(t){var a=m.get(v,t);if(g){var i=w(t,r);E.initProps(i,{rotation:-((isNaN(+a)?S[0]:(0,tL.linearMap)(a,b,S,!0))+Math.PI/2)},e),d.add(i),m.setItemGraphicEl(t,i)}if(y){var n=M(t,r),o=f.get("clip");E.initProps(n,{shape:{endAngle:(0,tL.linearMap)(a,b,S,o)}},e),d.add(n),(0,e0.setCommonECData)(e.seriesIndex,m.dataType,t,n),h[t]=n}}).update(function(t,a){var i=m.get(v,t);if(g){var n=c.getItemGraphicEl(a),o=n?n.rotation:r,s=w(t,o);s.rotation=o,E.updateProps(s,{rotation:-((isNaN(+i)?S[0]:(0,tL.linearMap)(i,b,S,!0))+Math.PI/2)},e),d.add(s),m.setItemGraphicEl(t,s)}if(y){var l=p[a],u=M(t,l?l.shape.endAngle:r),x=f.get("clip");E.updateProps(u,{shape:{endAngle:(0,tL.linearMap)(i,b,S,x)}},e),d.add(u),(0,e0.setCommonECData)(e.seriesIndex,m.dataType,t,u),h[t]=u}}).execute(),m.each(function(e){var t=m.getItemModel(e),a=t.getModel("emphasis"),n=a.get("focus"),r=a.get("blurScope"),o=a.get("disabled");if(g){var s=m.getItemGraphicEl(e),l=m.getItemVisual(e,"style"),d=l.fill;if(s instanceof B.default){var c=s.style;s.useStyle((0,u.extend)({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},l))}else s.useStyle(l),"pointer"!==s.type&&s.setColor(d);s.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===s.style.fill&&s.setStyle("fill",i((0,tL.linearMap)(m.get(v,e),b,[0,1],!0))),s.z2EmphasisLift=0,(0,V.setStatesStylesFromModel)(s,t),(0,V.toggleHoverEmphasis)(s,n,r,o)}if(y){var p=h[e];p.useStyle(m.getItemVisual(e,"style")),p.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle()),p.z2EmphasisLift=0,(0,V.setStatesStylesFromModel)(p,t),(0,V.toggleHoverEmphasis)(p,n,r,o)}}),this._progressEls=h)},t.prototype._renderAnchor=function(e,t){var a=e.getModel("anchor");if(a.get("show")){var i=a.get("size"),n=a.get("icon"),r=a.get("offsetCenter"),o=a.get("keepAspect"),s=(0,tf.createSymbol)(n,t.cx-i/2+(0,tL.parsePercent)(r[0],t.r),t.cy-i/2+(0,tL.parsePercent)(r[1],t.r),i,i,null,o);s.z2=+!!a.get("showAbove"),s.setStyle(a.getModel("itemStyle").getItemStyle()),this.group.add(s)}},t.prototype._renderTitleAndDetail=function(e,t,a,i,n){var r=this,o=e.getData(),s=o.mapDimension("value"),l=+e.get("min"),u=+e.get("max"),d=new N.Group,c=[],p=[],h=e.isAnimationEnabled(),g=e.get(["pointer","showAbove"]);o.diff(this._data).add(function(e){c[e]=new ay.Text({silent:!0}),p[e]=new ay.Text({silent:!0})}).update(function(e,t){c[e]=r._titleEls[t],p[e]=r._detailEls[t]}).execute(),o.each(function(t){var a=o.getItemModel(t),r=o.get(s,t),f=new N.Group,y=i((0,tL.linearMap)(r,[l,u],[0,1],!0)),m=a.getModel("title");if(m.get("show")){var v=m.get("offsetCenter"),x=n.cx+(0,tL.parsePercent)(v[0],n.r),_=n.cy+(0,tL.parsePercent)(v[1],n.r),b=c[t];b.attr({z2:2*!g,style:(0,eQ.createTextStyle)(m,{x:x,y:_,text:o.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:y})}),f.add(b)}var S=a.getModel("detail");if(S.get("show")){var w=S.get("offsetCenter"),M=n.cx+(0,tL.parsePercent)(w[0],n.r),I=n.cy+(0,tL.parsePercent)(w[1],n.r),A=(0,tL.parsePercent)(S.get("width"),n.r),L=(0,tL.parsePercent)(S.get("height"),n.r),T=e.get(["progress","show"])?o.getItemVisual(t,"style").fill:y,b=p[t],C=S.get("formatter");b.attr({z2:2*!g,style:(0,eQ.createTextStyle)(S,{x:M,y:I,text:s6(r,C),width:isNaN(A)?null:A,height:isNaN(L)?null:L,align:"center",verticalAlign:"middle"},{inheritColor:T})}),(0,eQ.setLabelValueAnimation)(b,{normal:S},r,function(e){return s6(e,C)}),h&&(0,eQ.animateLabelValue)(b,t,o,e,{getFormattedLabel:function(e,t,a,i,n,o){return s6(o?o.interpolatedValue:r,C)}}),f.add(b)}d.add(f)}),this.group.add(d),this._titleEls=c,this._detailEls=p},t.type="gauge",t}(ts.default),s8=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.visualStyleAccessPath="itemStyle",a}return(0,s.__extends)(t,e),t.prototype.getInitialData=function(e,t){return tc(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,tm.default.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:tm.default.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:tm.default.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:tm.default.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:tm.default.color.neutral00,borderWidth:0,borderColor:tm.default.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:tm.default.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:tm.default.color.transparent,borderWidth:0,borderColor:tm.default.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:tm.default.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(tp.default),nN=nN,s9=["itemStyle","opacity"],le=function(e){function t(t,a){var i=e.call(this)||this,n=new R.Polyline,r=new ay.Text;return i.setTextContent(r),i.setTextGuideLine(n),i.updateData(t,a,!0),i}return(0,s.__extends)(t,e),t.prototype.updateData=function(e,t,a){var i=e.hostModel,n=e.getItemModel(t),r=e.getItemLayout(t),o=n.getModel("emphasis"),s=n.get(s9);s=null==s?1:s,a||(0,E.saveOldStyle)(this),this.useStyle(e.getItemVisual(t,"style")),this.style.lineJoin="round",a?(this.setShape({points:r.points}),this.style.opacity=0,E.initProps(this,{style:{opacity:s}},i,t)):E.updateProps(this,{style:{opacity:s},shape:{points:r.points}},i,t),(0,V.setStatesStylesFromModel)(this,n),this._updateLabel(e,t),(0,V.toggleHoverEmphasis)(this,o.get("focus"),o.get("blurScope"),o.get("disabled"))},t.prototype._updateLabel=function(e,t){var a=this.getTextGuideLine(),i=this.getTextContent(),n=e.hostModel,r=e.getItemModel(t),o=e.getItemLayout(t).label,s=e.getItemVisual(t,"style"),l=s.fill;(0,eQ.setLabelStyle)(i,(0,eQ.getLabelStatesModels)(r),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:s.opacity,defaultText:e.getName(t)},{normal:{align:o.textAlign,verticalAlign:o.verticalAlign}});var u="inherit"===r.getModel("label").get("color")?l:null;this.setTextConfig({local:!0,inside:!!o.inside,insideStroke:u,outsideFill:u});var d=o.linePoints;a.setShape({points:d}),this.textGuideLineConfig={anchor:d?new nN.default(d[0][0],d[0][1]):null},E.updateProps(i,{style:{x:o.x,y:o.y}},n,t),i.attr({rotation:o.rotation,originX:o.x,originY:o.y,z2:10}),n1(this,n2(r),{stroke:l})},t}(O.Polygon),lt=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.ignoreLabelLineUpdate=!0,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){var i=e.getData(),n=this._data,r=this.group;i.diff(n).add(function(e){var t=new le(i,e);i.setItemGraphicEl(e,t),r.add(t)}).update(function(e,t){var a=n.getItemGraphicEl(t);a.updateData(i,e),r.add(a),i.setItemGraphicEl(e,a)}).remove(function(t){var a=n.getItemGraphicEl(t);E.removeElementWithFadeOut(a,e,t)}).execute(),this._data=i},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(ts.default),la=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new ri(u.bind(this.getData,this),u.bind(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.getInitialData=function(e,t){return tc(this,{coordDimensions:["value"],encodeDefaulter:u.curry(th.makeSeriesEncodeForNameBased,this)})},t.prototype._defaultLabelLine=function(e){(0,h.defaultEmphasis)(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},t.prototype.getDataParams=function(t){var a=this.getData(),i=e.prototype.getDataParams.call(this,t),n=a.mapDimension("value"),r=a.getSum(n);return i.percent=r?+(a.get(n,t)/r*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:tm.default.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:tm.default.color.primary}}},t}(tp.default);function li(e,t){e.eachSeriesByType("funnel",function(e){var a,i=e.getData(),n=i.mapDimension("value"),r=e.get("sort"),o=tR.createBoxLayoutReference(e,t),s=tR.getLayoutRect(e.getBoxLayoutParams(),o.refContainer),l=e.get("orient"),d=s.width,c=s.height,p=function(e,t){for(var a=e.mapDimension("value"),i=e.mapArray(a,function(e){return e}),n=[],r="ascending"===t,o=0,s=e.count();o<s;o++)n[o]=o;return(0,u.isFunction)(t)?n.sort(t):"none"!==t&&n.sort(function(e,t){return r?i[e]-i[t]:i[t]-i[e]}),n}(i,r),h=s.x,g=s.y,f="horizontal"===l?[(0,tL.parsePercent)(e.get("minSize"),c),(0,tL.parsePercent)(e.get("maxSize"),c)]:[(0,tL.parsePercent)(e.get("minSize"),d),(0,tL.parsePercent)(e.get("maxSize"),d)],y=i.getDataExtent(n),m=e.get("min"),v=e.get("max");null==m&&(m=Math.min(y[0],0)),null==v&&(v=y[1]);var x=e.get("funnelAlign"),_=e.get("gap"),b=(("horizontal"===l?d:c)-_*(i.count()-1))/i.count(),S=function(e,t){if("horizontal"===l){var a,r=i.get(n,e)||0,o=(0,tL.linearMap)(r,[m,v],f,!0),s=void 0;switch(x){case"top":s=g;break;case"center":s=g+(c-o)/2;break;case"bottom":s=g+(c-o)}return[[t,s],[t,s+o]]}var u=i.get(n,e)||0,p=(0,tL.linearMap)(u,[m,v],f,!0);switch(x){case"left":a=h;break;case"center":a=h+(d-p)/2;break;case"right":a=h+d-p}return[[a,t],[a+p,t]]};"ascending"===r&&(b=-b,_=-_,"horizontal"===l?h+=d:g+=c,p=p.reverse());for(var w=0;w<p.length;w++){var M=p[w],I=p[w+1],A=i.getItemModel(M);if("horizontal"===l){var L=A.get(["itemStyle","width"]);null==L?L=b:(L=(0,tL.parsePercent)(L,d),"ascending"===r&&(L=-L));var T=S(M,h),C=S(I,h+L);h+=L+_,i.setItemLayout(M,{points:T.concat(C.slice().reverse())})}else{var D=A.get(["itemStyle","height"]);null==D?D=b:(D=(0,tL.parsePercent)(D,c),"ascending"===r&&(D=-D));var T=S(M,g),C=S(I,g+D);g+=D+_,i.setItemLayout(M,{points:T.concat(C.slice().reverse())})}}a=i.hostModel.get("orient"),i.each(function(e){var t,n,r,o,s=i.getItemModel(e),l=s.getModel("label").get("position"),u=s.getModel("labelLine"),d=i.getItemLayout(e),c=d.points,p="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(p)"insideLeft"===l?(n=(c[0][0]+c[3][0])/2+5,r=(c[0][1]+c[3][1])/2,t="left"):"insideRight"===l?(n=(c[1][0]+c[2][0])/2-5,r=(c[1][1]+c[2][1])/2,t="right"):(n=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,r=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,t="center"),o=[[n,r],[n,r]];else{var h=void 0,g=void 0,f=void 0,y=void 0,m=u.get("length");"left"===l?(h=(c[3][0]+c[0][0])/2,g=(c[3][1]+c[0][1])/2,n=(f=h-m)-5,t="right"):"right"===l?(h=(c[1][0]+c[2][0])/2,g=(c[1][1]+c[2][1])/2,n=(f=h+m)+5,t="left"):"top"===l?(h=(c[3][0]+c[0][0])/2,r=(y=(g=(c[3][1]+c[0][1])/2)-m)-5,t="center"):"bottom"===l?(h=(c[1][0]+c[2][0])/2,r=(y=(g=(c[1][1]+c[2][1])/2)+m)+5,t="center"):"rightTop"===l?(h="horizontal"===a?c[3][0]:c[1][0],g="horizontal"===a?c[3][1]:c[1][1],"horizontal"===a?(r=(y=g-m)-5,t="center"):(n=(f=h+m)+5,t="top")):"rightBottom"===l?(h=c[2][0],g=c[2][1],"horizontal"===a?(r=(y=g+m)+5,t="center"):(n=(f=h+m)+5,t="bottom")):"leftTop"===l?(h=c[0][0],g="horizontal"===a?c[0][1]:c[1][1],"horizontal"===a?(r=(y=g-m)-5,t="center"):(n=(f=h-m)-5,t="right")):"leftBottom"===l?(h="horizontal"===a?c[1][0]:c[3][0],g="horizontal"===a?c[1][1]:c[2][1],"horizontal"===a?(r=(y=g+m)+5,t="center"):(n=(f=h-m)-5,t="right")):(h=(c[1][0]+c[2][0])/2,g=(c[1][1]+c[2][1])/2,"horizontal"===a?(r=(y=g+m)+5,t="center"):(n=(f=h+m)+5,t="left")),"horizontal"===a?n=f=h:r=y=g,o=[[h,g],[f,y]]}d.label={linePoints:o,x:n,y:r,verticalAlign:"middle",textAlign:t,inside:p}})})}var ln=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._dataGroup=new N.Group,a._initialized=!1,a}return(0,s.__extends)(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,t,a,i){this._progressiveEls=null;var n=this._dataGroup,r=e.getData(),o=this._data,s=e.coordinateSystem,l=s.dimensions,u=ls(e);if(r.diff(o).add(function(e){ll(lo(r,n,e,l,s),r,e,u)}).update(function(t,a){var i=o.getItemGraphicEl(a),n=lr(r,t,l,s);r.setItemGraphicEl(t,i),E.updateProps(i,{shape:{points:n}},e,t),(0,E.saveOldStyle)(i),ll(i,r,t,u)}).remove(function(e){var t=o.getItemGraphicEl(e);n.remove(t)}).execute(),!this._initialized){this._initialized=!0;var d,c,p,h,g,f,y,m=(d=s,c=e,p=function(){setTimeout(function(){n.removeClipPath()})},h=d.model,g=d.getRect(),f=new k.Rect({shape:{x:g.x,y:g.y,width:g.width,height:g.height}}),y="horizontal"===h.get("layout")?"width":"height",f.setShape(y,0),E.initProps(f,{shape:{width:g.width,height:g.height}},c,p),f);n.setClipPath(m)}this._data=r},t.prototype.incrementalPrepareRender=function(e,t,a){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,a){for(var i=t.getData(),n=t.coordinateSystem,r=n.dimensions,o=ls(t),s=this._progressiveEls=[],l=e.start;l<e.end;l++){var u=lo(i,this._dataGroup,l,r,n);u.incremental=!0,ll(u,i,l,o),s.push(u)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(ts.default);function lr(e,t,a,i){for(var n=[],r=0;r<a.length;r++){var o,s=a[r],l=e.get(e.mapDimension(s),t);o=l,("category"===i.getAxis(s).type?null==o:null==o||isNaN(o))||n.push(i.dataToPoint(l,s))}return n}function lo(e,t,a,i,n){var r=lr(e,a,i,n),o=new R.Polyline({shape:{points:r},z2:10});return t.add(o),e.setItemGraphicEl(a,o),o}function ls(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),t=(0,tL.numericToNumber)(t),(0,u.eqNaN)(t)&&(t=0),{smooth:t}}function ll(e,t,a,i){e.useStyle(t.getItemVisual(a,"style")),e.style.fill=null,e.setShape("smooth",i.smooth);var n=t.getItemModel(a),r=n.getModel("emphasis");(0,V.setStatesStylesFromModel)(e,n,"lineStyle"),(0,V.toggleHoverEmphasis)(e,r.get("focus"),r.get("blurScope"),r.get("disabled"))}var lu=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.visualStyleAccessPath="lineStyle",a.visualDrawType="stroke",a}return(0,s.__extends)(t,e),t.prototype.getInitialData=function(e,t){return(0,i7.default)(null,this,{useEncodeDefaulter:(0,u.bind)(ld,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,a=this.getData(),i=[];return t.eachActiveState(a,function(t,n){e===t&&i.push(a.getRawIndex(n))}),i},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(tp.default);function ld(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var a={};return(0,u.each)(t.dimensions,function(e){var t=+e.replace("dim","");a[e]=t}),a}}var lc=["lineStyle","opacity"];let lp={seriesType:"parallel",reset:function(e,t){var a=e.coordinateSystem,i={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){a.eachActiveState(t,function(e,a){var n=i[e];if("normal"===e&&t.hasItemOption){var r=t.getItemModel(a).get(lc,!0);null!=r&&(n=r)}t.ensureUniqueItemVisual(a,"style").opacity=n},e.start,e.end)}}}};function lh(e){var t,a;(function(e){if(!e.parallel){var t=!1;u.each(e.series,function(e){e&&"parallel"===e.type&&(t=!0)}),t&&(e.parallel=[{}])}})(e),t=e,a=h.normalizeToArray(t.parallelAxis),u.each(a,function(e){if(u.isObject(e)){var a=e.parallelIndex||0,i=h.normalizeToArray(t.parallel)[a];i&&i.parallelAxisDefault&&u.merge(e,i.parallelAxisDefault,!1)}})}var lg=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){this._model=e,this._api=a,this._handlers||(this._handlers={},(0,u.each)(lf,function(e,t){a.getZr().on(t,this._handlers[t]=(0,u.bind)(e,this))},this)),(0,nt.createOrUpdate)(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,t){(0,nt.clear)(this,"_throttledDispatchExpand"),(0,u.each)(this._handlers,function(e,a){t.getZr().off(a,e)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction((0,u.extend)({type:"parallelAxisExpand"},e))},t.type="parallel",t}(tG.default),lf={mousedown:function(e){ly(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(ly(this,"click")&&t){var a=[e.offsetX,e.offsetY];if(Math.pow(t[0]-a[0],2)+Math.pow(t[1]-a[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&ly(this,"mousemove")){var t=this._model,a=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),i=a.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:a.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function ly(e,t){var a=e._model;return a.get("axisExpandable")&&a.get("axisExpandTriggerOn")===t}var lm=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var t=this.option;e&&u.merge(t,e,!0),this._initDimensions()},t.prototype.contains=function(e,t){var a=e.get("parallelIndex");return null!=a&&t.getComponent("parallel",a)===this},t.prototype.setAxisExpand=function(e){u.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[],a=u.filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(e){return(e.get("parallelIndex")||0)===this.componentIndex},this);u.each(a,function(a){e.push("dim"+a.get("dim")),t.push(a.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(tS.default),lv=e.i(96094),lx=function(e){function t(t,a,i,n,r){var o=e.call(this,t,a,i)||this;return o.type=n||"value",o.axisIndex=r,o}return(0,s.__extends)(t,e),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(rN.default),l_=u.each,lb=Math.min,lS=Math.max,lw=Math.floor,lM=Math.ceil,lI=tL.round,lA=Math.PI,lL=function(){function e(e,t,a){this.type="parallel",this._axesMap=u.createHashMap(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,a)}return e.prototype._init=function(e,t,a){var i=e.dimensions,n=e.parallelAxisIndex;l_(i,function(e,a){var i=n[a],r=t.getComponent("parallelAxis",i),o=this._axesMap.set(e,new lx(e,lv.createScaleByModel(r),[0,0],r.get("type"),i)),s="category"===o.type;o.onBand=s&&r.get("boundaryGap"),o.inverse=r.get("inverse"),r.axis=o,o.model=r,o.coordinateSystem=r.coordinateSystem=this},this)},e.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},e.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),a=t.axisBase,i=t.layoutBase,n=t.pixelDimIndex,r=e[1-n],o=e[n];return r>=a&&r<=a+t.axisLength&&o>=i&&o<=i+t.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(a){if(e.contains(a,t)){var i=a.getData();l_(this.dimensions,function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(i,i.mapDimension(e)),lv.niceScaleExtent(t.scale,t.model)},this)}},this)},e.prototype.resize=function(e,t){var a=tR.createBoxLayoutReference(e,t).refContainer;this._rect=tR.getLayoutRect(e.getBoxLayoutParams(),a),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var e,t=this._model,a=this._rect,i=["x","y"],n=["width","height"],r=t.get("layout"),o=+("horizontal"!==r),s=a[n[o]],l=[0,s],u=this.dimensions.length,d=lT(t.get("axisExpandWidth"),l),c=lT(t.get("axisExpandCount")||0,[0,u]),p=t.get("axisExpandable")&&u>3&&u>c&&c>1&&d>0&&s>0,h=t.get("axisExpandWindow");h?(e=lT(h[1]-h[0],l),h[1]=h[0]+e):(e=lT(d*(c-1),l),(h=[d*(t.get("axisExpandCenter")||lw(u/2))-e/2])[1]=h[0]+e);var g=(s-e)/(u-c);g<3&&(g=0);var f=[lw(lI(h[0]/d,1))+1,lM(lI(h[1]/d,1))-1],y=g/d*h[0];return{layout:r,pixelDimIndex:o,layoutBase:a[i[o]],layoutLength:s,axisBase:a[i[1-o]],axisLength:a[n[1-o]],axisExpandable:p,axisExpandWidth:d,axisCollapseWidth:g,axisExpandWindow:h,axisCount:u,winInnerIndices:f,axisExpandWindow0Pos:y}},e.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,a=this.dimensions,i=this._makeLayoutInfo(),n=i.layout;t.each(function(e){var t=[0,i.axisLength],a=+!!e.inverse;e.setExtent(t[a],t[1-a])}),l_(a,function(t,a){var r=(i.axisExpandable?function(e,t){var a,i,n=t.layoutLength,r=t.axisExpandWidth,o=t.axisCount,s=t.axisCollapseWidth,l=t.winInnerIndices,u=s,d=!1;return e<l[0]?(a=e*s,i=s):e<=l[1]?(a=t.axisExpandWindow0Pos+e*r-t.axisExpandWindow[0],u=r,d=!0):(a=n-(o-1-e)*s,i=s),{position:a,axisNameAvailableWidth:u,axisLabelShow:d,nameTruncateMaxWidth:i}}:function(e,t){var a=t.layoutLength/(t.axisCount-1);return{position:a*e,axisNameAvailableWidth:a,axisLabelShow:!0}})(a,i),o={horizontal:{x:r.position,y:i.axisLength},vertical:{x:0,y:r.position}},s=[o[n].x+e.x,o[n].y+e.y],l={horizontal:lA/2,vertical:0}[n],u=Z.create();Z.rotate(u,u,l),Z.translate(u,u,s),this._axesLayout[t]={position:s,rotation:l,transform:u,axisNameAvailableWidth:r.axisNameAvailableWidth,axisLabelShow:r.axisLabelShow,nameTruncateMaxWidth:r.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},e.prototype.getAxis=function(e){return this._axesMap.get(e)},e.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},e.prototype.eachActiveState=function(e,t,a,i){null==a&&(a=0),null==i&&(i=e.count());var n=this._axesMap,r=this.dimensions,o=[],s=[];u.each(r,function(t){o.push(e.mapDimension(t)),s.push(n.get(t).model)});for(var l=this.hasAxisBrushed(),d=a;d<i;d++){var c=void 0;if(l){c="active";for(var p=e.getValues(o,d),h=0,g=r.length;h<g;h++)if("inactive"===s[h].getActiveState(p[h])){c="inactive";break}}else c="normal";t(c,d)}},e.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,a=!1,i=0,n=e.length;i<n;i++)"normal"!==t.get(e[i]).model.getActiveState()&&(a=!0);return a},e.prototype.axisCoordToPoint=function(e,t){var a=this._axesLayout[t];return g.applyTransform([e,0],a.transform)},e.prototype.getAxisLayout=function(e){return u.clone(this._axesLayout[e])},e.prototype.getSlidedAxisExpandWindow=function(e){var t,a=this._makeLayoutInfo(),i=a.pixelDimIndex,n=a.axisExpandWindow.slice(),r=n[1]-n[0],o=[0,a.axisExpandWidth*(a.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:n};var s=e[i]-a.layoutBase-a.axisExpandWindow0Pos,l="slide",u=a.axisCollapseWidth,d=this._model.get("axisExpandSlideTriggerArea"),c=null!=d[0];if(u)c&&u&&s<r*d[0]?(l="jump",t=s-r*d[2]):c&&u&&s>r*(1-d[0])?(l="jump",t=s-r*(1-d[2])):(t=s-r*d[1])>=0&&(t=s-r*(1-d[1]))<=0&&(t=0),(t*=a.axisExpandWidth/u)?(0,am.default)(t,n,o,"all"):l="none";else{var p=n[1]-n[0];(n=[lS(0,o[1]*s/p-p/2)])[1]=lb(o[1],n[0]+p),n[0]=n[1]-p}return{axisExpandWindow:n,behavior:l}},e}();function lT(e,t){return lb(lS(e,t[0]),t[1])}let lC={create:function(e,t){var a=[];return e.eachComponent("parallel",function(i,n){var r=new lL(i,e,t);r.name="parallel_"+n,r.resize(i,t),i.coordinateSystem=r,r.model=i,a.push(r)}),e.eachSeries(function(e){if("parallel"===e.get("coordinateSystem")){var t=e.getReferringComponents("parallel",h.SINGLE_REFERRING).models[0];e.coordinateSystem=t.coordinateSystem}}),a}};var lD=e.i(19614),lP=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.activeIntervals=[],a}return(0,s.__extends)(t,e),t.prototype.getAreaSelectStyle=function(){return(0,oS.default)([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var t=this.activeIntervals=u.clone(e);if(t)for(var a=t.length-1;a>=0;a--)tL.asc(t[a])},t.prototype.getActiveState=function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===t.length){var a=t[0];if(a[0]<=e&&e<=a[1])return"active"}else for(var i=0,n=t.length;i<n;i++)if(t[i][0]<=e&&e<=t[i][1])return"active";return"inactive"},t}(tS.default);u.mixin(lP,rL.AxisModelCommonMixin);var lk=e.i(10732),lE=e.i(8822),M=M,lN=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.init=function(t,a){e.prototype.init.apply(this,arguments),(this._brushController=new lk.default(a.getZr())).on("brush",u.bind(this._onBrush,this))},t.prototype.render=function(e,t,a,i){var n,r,o;if(n=e,r=t,!(o=i)||"axisAreaSelect"!==o.type||r.findComponents({mainType:"parallelAxis",query:o})[0]!==n){this.axisModel=e,this.api=a,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new N.Group,this.group.add(this._axisGroup),e.get("show")){var l,d=(l=e,t.getComponent("parallel",l.get("parallelIndex"))),c=d.coordinateSystem,p=e.getAreaSelectStyle(),h=p.width,f=e.axis.dim,y=c.getAxisLayout(f),m=u.extend({strokeContainThreshold:h},y),v=new rP.default(e,a,m);v.build(),this._axisGroup.add(v.group),this._refreshBrushController(m,p,e,d,h,a),g.groupTransition(s,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,t,a,i,n,r){var o,s,l=a.axis.getExtent(),d=l[1]-l[0],c=Math.min(30,.1*Math.abs(d)),p=M.default.create({x:l[0],y:-n/2,width:d,height:n});p.x-=c,p.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:lE.makeRectPanelClipPath(p),isTargetByCursor:lE.makeRectIsTargetByCursor(p,r,i),getLinearBrushOtherExtent:lE.makeLinearBrushOtherExtent(p,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers((s=(o=a).axis,u.map(o.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[s.dataToCoord(e[0],!0),s.dataToCoord(e[1],!0)]}})))},t.prototype._onBrush=function(e){var t=e.areas,a=this.axisModel,i=a.axis,n=u.map(t,function(e){return[i.coordToData(e.range[0],!0),i.coordToData(e.range[1],!0)]});(!a.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:a.id,intervals:n})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(tG.default),lR={type:"axisAreaSelect",event:"axisAreaSelected"},lO={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function lz(e){e.registerComponentView(lg),e.registerComponentModel(lm),e.registerCoordinateSystem("parallel",lC),e.registerPreprocessor(lh),e.registerComponentModel(lP),e.registerComponentView(lN),(0,lD.default)(e,"parallel",lP,lO),e.registerAction(lR,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(t){t.axis.model.setActiveIntervals(e.intervals)})}),e.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(t){t.setAxisExpand(e)})})}var lV=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},lG=function(e){function t(t){return e.call(this,t)||this}return(0,s.__extends)(t,e),t.prototype.getDefaultShape=function(){return new lV},t.prototype.buildPath=function(e,t){var a=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+a,t.y2),e.bezierCurveTo(t.cpx2+a,t.cpy2,t.cpx1+a,t.cpy1,t.x1+a,t.y1)):(e.lineTo(t.x2,t.y2+a),e.bezierCurveTo(t.cpx2,t.cpy2+a,t.cpx1,t.cpy1+a,t.x1,t.y1+a)),e.closePath()},t.prototype.highlight=function(){(0,V.enterEmphasis)(this)},t.prototype.downplay=function(){(0,V.leaveEmphasis)(this)},t}(ni.Path),lB=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._mainGroup=new N.Group,a._focusAdjacencyDisabled=!1,a}return(0,s.__extends)(t,e),t.prototype.init=function(e,t){this._controller=new y(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,a){var i,n,r,o,s=this,l=e.getGraph(),d=this._mainGroup,c=e.layoutInfo,p=c.width,h=c.height,g=e.getData(),f=e.getData("edge"),y=e.get("orient");this._model=e,d.removeAll(),d.x=c.x,d.y=c.y,this._updateViewCoordSys(e,a),L(e,a,d,this._controller,this._controllerHost,null),l.eachEdge(function(t){var a,i,n,r,o,s,l,c,g=new lG,m=(0,e0.getECData)(g);m.dataIndex=t.dataIndex,m.seriesIndex=e.seriesIndex,m.dataType="edge";var v=t.getModel(),x=v.getModel("lineStyle"),_=x.get("curveness"),b=t.node1.getLayout(),S=t.node1.getModel(),w=S.get("localX"),M=S.get("localY"),I=t.node2.getLayout(),A=t.node2.getModel(),L=A.get("localX"),T=A.get("localY"),C=t.getLayout();g.shape.extent=Math.max(1,C.dy),g.shape.orient=y,"vertical"===y?(a=(null!=w?w*p:b.x)+C.sy,i=(null!=M?M*h:b.y)+b.dy,n=(null!=L?L*p:I.x)+C.ty,r=null!=T?T*h:I.y,o=a,s=i*(1-_)+r*_,l=n,c=i*_+r*(1-_)):(a=(null!=w?w*p:b.x)+b.dx,i=(null!=M?M*h:b.y)+C.sy,n=null!=L?L*p:I.x,r=(null!=T?T*h:I.y)+C.ty,o=a*(1-_)+n*_,s=i,l=a*_+n*(1-_),c=r),g.setShape({x1:a,y1:i,x2:n,y2:r,cpx1:o,cpy1:s,cpx2:l,cpy2:c}),g.useStyle(x.getItemStyle()),lF(g.style,y,t);var D=""+v.get("value"),P=(0,eQ.getLabelStatesModels)(v,"edgeLabel");(0,eQ.setLabelStyle)(g,P,{labelFetcher:{getFormattedLabel:function(t,a,i,n,r,o){return e.getFormattedLabel(t,a,"edge",n,(0,u.retrieve3)(r,P.normal&&P.normal.get("formatter"),D),o)}},labelDataIndex:t.dataIndex,defaultText:D}),g.setTextConfig({position:"inside"});var k=v.getModel("emphasis");(0,V.setStatesStylesFromModel)(g,v,"lineStyle",function(e){var a=e.getItemStyle();return lF(a,y,t),a}),d.add(g),f.setItemGraphicEl(t.dataIndex,g);var E=k.get("focus");(0,V.toggleHoverEmphasis)(g,"adjacency"===E?t.getAdjacentDataIndices():"trajectory"===E?t.getTrajectoryDataIndices():E,k.get("blurScope"),k.get("disabled"))}),l.eachNode(function(t){var a=t.getLayout(),i=t.getModel(),n=i.get("localX"),r=i.get("localY"),o=i.getModel("emphasis"),s=i.get(["itemStyle","borderRadius"])||0,l=new k.Rect({shape:{x:null!=n?n*p:a.x,y:null!=r?r*h:a.y,width:a.dx,height:a.dy,r:s},style:i.getModel("itemStyle").getItemStyle(),z2:10});(0,eQ.setLabelStyle)(l,(0,eQ.getLabelStatesModels)(i),{labelFetcher:{getFormattedLabel:function(t,a){return e.getFormattedLabel(t,a,"node")}},labelDataIndex:t.dataIndex,defaultText:t.id}),l.disableLabelAnimation=!0,l.setStyle("fill",t.getVisual("color")),l.setStyle("decal",t.getVisual("style").decal),(0,V.setStatesStylesFromModel)(l,i),d.add(l),g.setItemGraphicEl(t.dataIndex,l),(0,e0.getECData)(l).dataType="node";var u=o.get("focus");(0,V.toggleHoverEmphasis)(l,"adjacency"===u?t.getAdjacentDataIndices():"trajectory"===u?t.getTrajectoryDataIndices():u,o.get("blurScope"),o.get("disabled"))}),g.eachItemGraphicEl(function(t,i){g.getItemModel(i).get("draggable")&&(t.drift=function(t,n){s._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=n,this.dirty(),a.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:g.getRawIndex(i),localX:this.shape.x/p,localY:this.shape.y/h})},t.ondragend=function(){s._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")}),!this._data&&e.isAnimationEnabled()&&d.setClipPath((i=d.getBoundingRect(),n=e,r=function(){d.removeClipPath()},o=new k.Rect({shape:{x:i.x-10,y:i.y-10,width:0,height:i.height+20}}),E.initProps(o,{shape:{width:i.width+20}},n,r),o)),this._data=e.getData()},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._updateViewCoordSys=function(e,t){var a=e.layoutInfo,i=a.width,n=a.height,r=e.coordinateSystem=new tC(null,{api:t,ecModel:e.ecModel});r.zoomLimit=e.get("scaleLimit"),r.setBoundingRect(0,0,i,n),r.setCenter(e.get("center")),r.setZoom(e.get("zoom")),this._controllerHost.target.attr({x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY})},t.type="sankey",t}(ts.default);function lF(e,t,a){switch(e.fill){case"source":e.fill=a.node1.getVisual("color"),e.decal=a.node1.getVisual("style").decal;break;case"target":e.fill=a.node2.getVisual("color"),e.decal=a.node2.getVisual("style").decal;break;case"gradient":var i=a.node1.getVisual("color"),n=a.node2.getVisual("color");(0,u.isString)(i)&&(0,u.isString)(n)&&(e.fill=new sK.LinearGradient(0,0,+("horizontal"===t),+("vertical"===t),[{color:i,offset:0},{color:n,offset:1}]))}}var lH=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.getInitialData=function(e,t){var a=e.edges||e.links||[],i=e.data||e.nodes||[],n=e.levels||[];this.levelModels=[];for(var r=this.levelModels,o=0;o<n.length;o++)null!=n[o].depth&&n[o].depth>=0&&(r[n[o].depth]=new tw.default(n[o],this,t));return sU(i,a,this,!0,function(e,t){e.wrapMethod("getItemModel",function(e,t){var a=e.parentModel,i=a.getData().getItemLayout(t);if(i){var n=i.depth,r=a.levelModels[n];r&&(e.parentModel=r)}return e}),t.wrapMethod("getItemModel",function(e,t){var a=e.parentModel,i=a.getGraph().getEdgeByIndex(t).node1.getLayout();if(i){var n=i.depth,r=a.levelModels[n];r&&(e.parentModel=r)}return e})}).data},t.prototype.setNodePosition=function(e,t){var a=(this.option.data||this.option.nodes)[e];a.localX=t[0],a.localY=t[1]},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,a){function i(e){return isNaN(e)||null==e}if("edge"===a){var n=this.getDataParams(e,a),r=n.data,o=n.value,s=r.source+" -- "+r.target;return(0,tg.createTooltipMarkup)("nameValue",{name:s,value:o,noValue:i(o)})}var l=this.getGraph().getNodeByIndex(e).getLayout().value,u=this.getDataParams(e,a).data.name;return(0,tg.createTooltipMarkup)("nameValue",{name:null!=u?u+"":null,value:l,noValue:i(l)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,a){var i=e.prototype.getDataParams.call(this,t,a);return null==i.value&&"node"===a&&(i.value=this.getGraph().getNodeByIndex(t).getLayout().value),i},t.type="series.sankey",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:tm.default.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:tm.default.color.primary}},animationEasing:"linear",animationDuration:1e3},t}(tp.default);function lW(e,t){e.eachSeriesByType("sankey",function(e){var a,i,n,r,o,s,l,d,c,p,g,f=e.get("nodeWidth"),y=e.get("nodeGap"),m=(0,tR.createBoxLayoutReference)(e,t).refContainer,v=(0,tR.getLayoutRect)(e.getBoxLayoutParams(),m);e.layoutInfo=v;var x=v.width,_=v.height,b=e.getGraph(),S=b.nodes,w=b.edges;a=S,u.each(a,function(e){var t=Math.max(l$(e.outEdges,lJ),l$(e.inEdges,lJ),e.getValue()||0);e.setLayout({value:t},!0)});var M=0!==u.filter(S,function(e){return 0===e.getLayout().value}).length?0:e.get("layoutIterations");i=S,n=w,r=f,o=y,s=x,l=_,d=M,c=e.get("orient"),function(e,t,a,i,n,r,o){for(var s,l,d,c=[],p=[],h=[],g=[],f=0,y=0;y<t.length;y++)c[y]=1;for(var y=0;y<e.length;y++)p[y]=e[y].inEdges.length,0===p[y]&&h.push(e[y]);for(var m=-1;h.length;){for(var v=0;v<h.length;v++){var x=h[v],_=x.hostGraph.data.getRawDataItem(x.dataIndex),b=null!=_.depth&&_.depth>=0;b&&_.depth>m&&(m=_.depth),x.setLayout({depth:b?_.depth:f},!0),"vertical"===r?x.setLayout({dy:a},!0):x.setLayout({dx:a},!0);for(var S=0;S<x.outEdges.length;S++){var w=x.outEdges[S];c[t.indexOf(w)]=0;var M=w.node2,I=e.indexOf(M);0==--p[I]&&0>g.indexOf(M)&&g.push(M)}}++f,h=g,g=[]}for(var y=0;y<c.length;y++)if(1===c[y])throw Error("Sankey is a DAG, the original data has cycle!");var A=m>f-1?m:f-1;o&&"left"!==o&&function(e,t,a,i){if("right"===t){for(var n,r,o=[],s=e,l=0;s.length;){for(var d=0;d<s.length;d++){var c=s[d];c.setLayout({skNodeHeight:l},!0);for(var p=0;p<c.inEdges.length;p++){var h=c.inEdges[p];0>o.indexOf(h.node1)&&o.push(h.node1)}}s=o,o=[],++l}u.each(e,function(e){lY(e)||e.setLayout({depth:Math.max(0,i-e.getLayout().skNodeHeight)},!0)})}else{"justify"===t&&(n=e,r=i,u.each(n,function(e){lY(e)||e.outEdges.length||e.setLayout({depth:r},!0)}))}}(e,o,0,A),s=e,l="vertical"===r?(n-a)/A:(i-a)/A,d=r,u.each(s,function(e){var t=e.getLayout().depth*l;"vertical"===d?e.setLayout({y:t},!0):e.setLayout({x:t},!0)})}(i,n,r,s,l,c,e.get("nodeAlign")),function(e,t,a,i,n,r,o){var s,l,d,c,p,g,f,y,m,v,x,_=(s=e,l=[],d="vertical"===o?"y":"x",(c=(0,h.groupData)(s,function(e){return e.getLayout()[d]})).keys.sort(function(e,t){return e-t}),u.each(c.keys,function(e){l.push(c.buckets.get(e))}),l);p=_,g=t,f=a,y=i,m=n,v=o,x=1/0,u.each(p,function(e){var t=e.length,a=0;u.each(e,function(e){a+=e.getLayout().value});var i="vertical"===v?(y-(t-1)*m)/a:(f-(t-1)*m)/a;i<x&&(x=i)}),u.each(p,function(e){u.each(e,function(e,t){var a=e.getLayout().value*x;"vertical"===v?(e.setLayout({x:t},!0),e.setLayout({dx:a},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:a},!0))})}),u.each(g,function(e){var t=e.getValue()*x;e.setLayout({dy:t},!0)}),lX(_,n,a,i,o);for(var b=1;r>0;r--)(function(e,t,a){u.each(e.slice().reverse(),function(e){u.each(e,function(e){if(e.outEdges.length){var i=l$(e.outEdges,lU,a)/l$(e.outEdges,lJ);if(isNaN(i)){var n=e.outEdges.length;i=n?l$(e.outEdges,lZ,a)/n:0}if("vertical"===a){var r=e.getLayout().x+(i-lK(e,a))*t;e.setLayout({x:r},!0)}else{var o=e.getLayout().y+(i-lK(e,a))*t;e.setLayout({y:o},!0)}}})})})(_,b*=.99,o),lX(_,n,a,i,o),function(e,t,a){u.each(e,function(e){u.each(e,function(e){if(e.inEdges.length){var i=l$(e.inEdges,lj,a)/l$(e.inEdges,lJ);if(isNaN(i)){var n=e.inEdges.length;i=n?l$(e.inEdges,lq,a)/n:0}if("vertical"===a){var r=e.getLayout().x+(i-lK(e,a))*t;e.setLayout({x:r},!0)}else{var o=e.getLayout().y+(i-lK(e,a))*t;e.setLayout({y:o},!0)}}})})}(_,b,o),lX(_,n,a,i,o)}(i,n,l,s,o,d,c),p=i,g="vertical"===c?"x":"y",u.each(p,function(e){e.outEdges.sort(function(e,t){return e.node2.getLayout()[g]-t.node2.getLayout()[g]}),e.inEdges.sort(function(e,t){return e.node1.getLayout()[g]-t.node1.getLayout()[g]})}),u.each(p,function(e){var t=0,a=0;u.each(e.outEdges,function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy}),u.each(e.inEdges,function(e){e.setLayout({ty:a},!0),a+=e.getLayout().dy})})})}function lY(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function lX(e,t,a,i,n){var r="vertical"===n?"x":"y";u.each(e,function(e){e.sort(function(e,t){return e.getLayout()[r]-t.getLayout()[r]});for(var o,s,l,u=0,d=e.length,c="vertical"===n?"dx":"dy",p=0;p<d;p++)(l=u-(s=e[p]).getLayout()[r])>0&&(o=s.getLayout()[r]+l,"vertical"===n?s.setLayout({x:o},!0):s.setLayout({y:o},!0)),u=s.getLayout()[r]+s.getLayout()[c]+t;if((l=u-t-("vertical"===n?i:a))>0){o=s.getLayout()[r]-l,"vertical"===n?s.setLayout({x:o},!0):s.setLayout({y:o},!0),u=o;for(var p=d-2;p>=0;--p)(l=(s=e[p]).getLayout()[r]+s.getLayout()[c]+t-u)>0&&(o=s.getLayout()[r]-l,"vertical"===n?s.setLayout({x:o},!0):s.setLayout({y:o},!0)),u=s.getLayout()[r]}})}function lU(e,t){return lK(e.node2,t)*e.getValue()}function lZ(e,t){return lK(e.node2,t)}function lj(e,t){return lK(e.node1,t)*e.getValue()}function lq(e,t){return lK(e.node1,t)}function lK(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function lJ(e){return e.getValue()}function l$(e,t,a){for(var i=0,n=e.length,r=-1;++r<n;){var o=+t(e[r],a);isNaN(o)||(i+=o)}return i}function lQ(e){e.eachSeriesByType("sankey",function(e){var t=e.getGraph(),a=t.nodes,i=t.edges;if(a.length){var n=1/0,r=-1/0;u.each(a,function(e){var t=e.getLayout().value;t<n&&(n=t),t>r&&(r=t)}),u.each(a,function(t){var a=new tQ({type:"color",mappingMethod:"linear",dataExtent:[n,r],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),i=t.getModel().get(["itemStyle","color"]);null!=i?(t.setVisual("color",i),t.setVisual("style",{fill:i})):(t.setVisual("color",a),t.setVisual("style",{fill:a}))})}i.length&&u.each(i,function(e){var t=e.getModel().get("lineStyle");e.setVisual("style",t)})})}var l0=e.i(96495),l1=function(){function e(){}return e.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&null!=t.get(e)},e.prototype.getInitialData=function(e,t){var a,i,n=t.getComponent("xAxis",this.get("xAxisIndex")),r=t.getComponent("yAxis",this.get("yAxisIndex")),o=n.get("type"),s=r.get("type");"category"===o?(e.layout="horizontal",a=n.getOrdinalMeta(),i=!this._hasEncodeRule("x")):"category"===s?(e.layout="vertical",a=r.getOrdinalMeta(),i=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var l=["x","y"],d=+("horizontal"!==e.layout),c=this._baseAxisDim=l[d],p=l[1-d],h=[n,r],g=h[d].get("type"),f=h[1-d].get("type"),y=e.data;if(y&&i){var m=[];u.each(y,function(e,t){var a;u.isArray(e)?(a=e.slice(),e.unshift(t)):u.isArray(e.value)?((a=u.extend({},e)).value=a.value.slice(),e.value.unshift(t)):a=e,m.push(a)}),e.data=m}var v=this.defaultValueDimensions,x=[{name:c,type:(0,l0.getDimensionTypeByAxis)(g),ordinalMeta:a,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:p,type:(0,l0.getDimensionTypeByAxis)(f),dimsDef:v.slice()}];return tc(this,{coordDimensions:x,dimensionsCount:v.length+1,encodeDefaulter:u.curry(th.makeSeriesEncodeForAxisCoordSys,x,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}(),l2=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],a.visualDrawType="stroke",a}return(0,s.__extends)(t,e),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:tm.default.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:tm.default.color.shadow}},animationDuration:800},t}(tp.default);(0,u.mixin)(l2,l1,!0);var l3=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){var i=e.getData(),n=this.group,r=this._data;this._data||n.removeAll();var o=+("horizontal"===e.get("layout"));i.diff(r).add(function(e){if(i.hasValue(e)){var t=l6(i.getItemLayout(e),i,e,o,!0);i.setItemGraphicEl(e,t),n.add(t)}}).update(function(e,t){var a=r.getItemGraphicEl(t);if(!i.hasValue(e))return void n.remove(a);var s=i.getItemLayout(e);a?((0,E.saveOldStyle)(a),l7(s,a,i,e)):a=l6(s,i,e,o),n.add(a),i.setItemGraphicEl(e,a)}).remove(function(e){var t=r.getItemGraphicEl(e);t&&n.remove(t)}).execute(),this._data=i},t.prototype.remove=function(e){var t=this.group,a=this._data;this._data=null,a&&a.eachItemGraphicEl(function(e){e&&t.remove(e)})},t.type="boxplot",t}(ts.default),l5=function(){},l4=function(e){function t(t){var a=e.call(this,t)||this;return a.type="boxplotBoxPath",a}return(0,s.__extends)(t,e),t.prototype.getDefaultShape=function(){return new l5},t.prototype.buildPath=function(e,t){var a=t.points,i=0;for(e.moveTo(a[i][0],a[i][1]),i++;i<4;i++)e.lineTo(a[i][0],a[i][1]);for(e.closePath();i<a.length;i++)e.moveTo(a[i][0],a[i][1]),i++,e.lineTo(a[i][0],a[i][1])},t}(aK.default);function l6(e,t,a,i,n){var r,o,s,l=e.ends,d=new l4({shape:{points:n?(r=l,o=i,s=e,u.map(r,function(e){return(e=e.slice())[o]=s.initBaseline,e})):l}});return l7(e,d,t,a,n),d}function l7(e,t,a,i,n){var r=a.hostModel;(0,rw[n?"initProps":"updateProps"])(t,{shape:{points:e.ends}},r,i),t.useStyle(a.getItemVisual(i,"style")),t.style.strokeNoScale=!0,t.z2=100;var o=a.getItemModel(i),s=o.getModel("emphasis");(0,V.setStatesStylesFromModel)(t,o),(0,V.toggleHoverEmphasis)(t,s.get("focus"),s.get("blurScope"),s.get("disabled"))}var l8=u.each;function l9(e){var t,a;l8((t=[],a=[],e.eachSeriesByType("boxplot",function(e){var i=e.getBaseAxis(),n=u.indexOf(a,i);n<0&&(n=a.length,a[n]=i,t[n]={axis:i,seriesModels:[]}),t[n].seriesModels.push(e)}),t),function(e){var t=e.seriesModels;t.length&&(function(e){var t,a=e.axis,i=e.seriesModels,n=i.length,r=e.boxWidthList=[],o=e.boxOffsetList=[],s=[];if("category"===a.type)t=a.getBandWidth();else{var l=0;l8(i,function(e){l=Math.max(l,e.getData().count())});var d=a.getExtent();t=Math.abs(d[1]-d[0])/l}l8(i,function(e){var a=e.get("boxWidth");u.isArray(a)||(a=[a,a]),s.push([(0,tL.parsePercent)(a[0],t)||0,(0,tL.parsePercent)(a[1],t)||0])});var c=.8*t-2,p=c/n*.3,h=(c-p*(n-1))/n,g=h/2-c/2;l8(i,function(e,t){o.push(g),g+=p+h,r.push(Math.min(Math.max(h,s[t][0]),s[t][1]))})}(e),l8(t,function(t,a){!function(e,t,a){var i=e.coordinateSystem,n=e.getData(),r=a/2,o=+("horizontal"!==e.get("layout")),s=1-o,l=["x","y"],u=n.mapDimension(l[o]),d=n.mapDimensionsAll(l[s]);if(null!=u&&!(d.length<5))for(var c=0;c<n.count();c++){var p=n.get(u,c),h=x(p,d[2],c),g=x(p,d[0],c),f=x(p,d[1],c),y=x(p,d[3],c),m=x(p,d[4],c),v=[];_(v,f,!1),_(v,y,!0),v.push(g,f,m,y),b(v,g),b(v,m),b(v,h),n.setItemLayout(c,{initBaseline:h[s],ends:v})}function x(e,a,r){var l,u=n.get(a,r),d=[];return d[o]=e,d[s]=u,isNaN(e)||isNaN(u)?l=[NaN,NaN]:(l=i.dataToPoint(d),l[o]+=t),l}function _(e,t,a){var i=t.slice(),n=t.slice();i[o]+=r,n[o]-=r,a?e.push(i,n):e.push(n,i)}function b(e,t){var a=t.slice(),i=t.slice();a[o]-=r,i[o]+=r,e.push(a,i)}}(t,e.boxOffsetList[a],e.boxWidthList[a])}))})}var ue=e.i(61778),ut=e.i(35682),ua={type:"echarts:boxplot",transform:function(e){var t=e.upstream;t.sourceFormat!==ut.SOURCE_FORMAT_ARRAY_ROWS&&(0,ue.throwError)("");var a=function(e,t){for(var a=[],i=[],n=(t=t||{}).boundIQR,r="none"===n||0===n,o=0;o<e.length;o++){var s=(0,tL.asc)(e[o].slice()),l=(0,tL.quantile)(s,.25),d=(0,tL.quantile)(s,.5),c=(0,tL.quantile)(s,.75),p=s[0],h=s[s.length-1],g=(null==n?1.5:n)*(c-l),f=r?p:Math.max(p,l-g),y=r?h:Math.min(h,c+g),m=t.itemNameFormatter,v=(0,u.isFunction)(m)?m({value:o}):(0,u.isString)(m)?m.replace("{value}",o+""):o+"";a.push([v,f,l,d,c,y]);for(var x=0;x<s.length;x++){var _=s[x];if(_<f||_>y){var b=[v,_];i.push(b)}}}return{boxData:a,outliers:i}}(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:a.boxData},{data:a.outliers}]}},ui=e.i(16368),un=["itemStyle","borderColor"],ur=["itemStyle","borderColor0"],uo=["itemStyle","borderColorDoji"],us=["itemStyle","color"],ul=["itemStyle","color0"];function uu(e,t){return t.get(e>0?us:ul)}function ud(e,t){return t.get(0===e?uo:e>0?un:ur)}var uc={seriesType:"candlestick",plan:(0,ui.default)(),performRawSeries:!0,reset:function(e,t){if(!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,t){for(var a;null!=(a=e.next());){var i=t.getItemModel(a),n=t.getItemLayout(a).sign,r=i.getItemStyle();r.fill=uu(n,i),r.stroke=ud(n,i)||r.fill;var o=t.ensureUniqueItemVisual(a,"style");(0,u.extend)(o,r)}}}}},up=["color","borderColor"],uh=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,t,a){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,t,a,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},t.prototype.eachRendered=function(e){g.traverseElements(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t!==this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e){var t=e.getData(),a=this._data,i=this.group,n=t.getLayout("isSimpleBox"),r=e.get("clip",!0),o=e.coordinateSystem,s=o.getArea&&o.getArea();this._data||i.removeAll(),t.diff(a).add(function(a){if(t.hasValue(a)){var o=t.getItemLayout(a);if(!(r&&um(s,o))){var l=uy(o,a,!0);E.initProps(l,{shape:{points:o.ends}},e,a),uv(l,t,a,n),i.add(l),t.setItemGraphicEl(a,l)}}}).update(function(o,l){var u=a.getItemGraphicEl(l);if(!t.hasValue(o))return void i.remove(u);var d=t.getItemLayout(o);r&&um(s,d)?i.remove(u):(u?(E.updateProps(u,{shape:{points:d.ends}},e,o),(0,E.saveOldStyle)(u)):u=uy(d,o),uv(u,t,o,n),i.add(u),t.setItemGraphicEl(o,u))}).remove(function(e){var t=a.getItemGraphicEl(e);t&&i.remove(t)}).execute(),this._data=t},t.prototype._renderLarge=function(e){this._clear(),ub(e,this.group);var t=e.get("clip",!0)?(0,na.createClipPath)(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,t){for(var a,i=t.getData(),n=i.getLayout("isSimpleBox");null!=(a=e.next());){var r=uy(i.getItemLayout(a),a);uv(r,i,a,n),r.incremental=!0,this.group.add(r),this._progressiveEls.push(r)}},t.prototype._incrementalRenderLarge=function(e,t){ub(t,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(ts.default),ug=function(){},uf=function(e){function t(t){var a=e.call(this,t)||this;return a.type="normalCandlestickBox",a}return(0,s.__extends)(t,e),t.prototype.getDefaultShape=function(){return new ug},t.prototype.buildPath=function(e,t){var a=t.points;this.__simpleBox?(e.moveTo(a[4][0],a[4][1]),e.lineTo(a[6][0],a[6][1])):(e.moveTo(a[0][0],a[0][1]),e.lineTo(a[1][0],a[1][1]),e.lineTo(a[2][0],a[2][1]),e.lineTo(a[3][0],a[3][1]),e.closePath(),e.moveTo(a[4][0],a[4][1]),e.lineTo(a[5][0],a[5][1]),e.moveTo(a[6][0],a[6][1]),e.lineTo(a[7][0],a[7][1]))},t}(aK.default);function uy(e,t,a){var i,n,r=e.ends;return new uf({shape:{points:a?(i=r,n=e,u.map(i,function(e){return(e=e.slice())[1]=n.initBaseline,e})):r},z2:100})}function um(e,t){for(var a=!0,i=0;i<t.ends.length;i++)if(e.contain(t.ends[i][0],t.ends[i][1])){a=!1;break}return a}function uv(e,t,a,i){var n=t.getItemModel(a);e.useStyle(t.getItemVisual(a,"style")),e.style.strokeNoScale=!0,e.__simpleBox=i,(0,V.setStatesStylesFromModel)(e,n);var r=t.getItemLayout(a).sign;u.each(e.states,function(e,t){var a=n.getModel(t),i=uu(r,a),o=ud(r,a)||i,s=e.style||(e.style={});i&&(s.fill=i),o&&(s.stroke=o)});var o=n.getModel("emphasis");(0,V.toggleHoverEmphasis)(e,o.get("focus"),o.get("blurScope"),o.get("disabled"))}var ux=function(){},u_=function(e){function t(t){var a=e.call(this,t)||this;return a.type="largeCandlestickBox",a}return(0,s.__extends)(t,e),t.prototype.getDefaultShape=function(){return new ux},t.prototype.buildPath=function(e,t){for(var a=t.points,i=0;i<a.length;)if(this.__sign===a[i++]){var n=a[i++];e.moveTo(n,a[i++]),e.lineTo(n,a[i++])}else i+=3},t}(aK.default);function ub(e,t,a,i){var n=e.getData(),r=n.getLayout("largePoints"),o=new u_({shape:{points:r},__sign:1,ignoreCoarsePointer:!0});t.add(o);var s=new u_({shape:{points:r},__sign:-1,ignoreCoarsePointer:!0});t.add(s);var l=new u_({shape:{points:r},__sign:0,ignoreCoarsePointer:!0});t.add(l),uS(1,o,e,n),uS(-1,s,e,n),uS(0,l,e,n),i&&(o.incremental=!0,s.incremental=!0),a&&a.push(o,s)}function uS(e,t,a,i){var n=ud(e,a)||uu(e,a),r=a.getModel("itemStyle").getItemStyle(up);t.useStyle(r),t.style.fill=null,t.style.stroke=n}var uw=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],a}return(0,s.__extends)(t,e),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,t,a){var i=t.getItemLayout(e);return i&&a.rect(i.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(tp.default);function uM(e){e&&u.isArray(e.series)&&u.each(e.series,function(e){u.isObject(e)&&"k"===e.type&&(e.type="candlestick")})}(0,u.mixin)(uw,l1,!0);var uI=e.i(93016),uA={seriesType:"candlestick",plan:(0,ui.default)(),reset:function(e){var t,a,i,n,r,o,s,l,d=e.coordinateSystem,c=e.getData(),p=(t=e,a=c,r="category"===(n=t.getBaseAxis()).type?n.getBandWidth():Math.abs((i=n.getExtent())[1]-i[0])/a.count(),o=(0,tL.parsePercent)((0,u.retrieve2)(t.get("barMaxWidth"),r),r),s=(0,tL.parsePercent)((0,u.retrieve2)(t.get("barMinWidth"),1),r),null!=(l=t.get("barWidth"))?(0,tL.parsePercent)(l,r):Math.max(Math.min(r/2,o),s)),h=c.getDimensionIndex(c.mapDimension("x")),f=(0,u.map)(c.mapDimensionsAll("y"),c.getDimensionIndex,c),y=f[0],m=f[1],v=f[2],x=f[3];if(c.setLayout({candleWidth:p,isSimpleBox:p<=1.3}),!(h<0)&&!(f.length<4))return{progress:e.pipelineContext.large?function(t,a){for(var i,n,r=(0,uI.createFloat32Array)(4*t.count),o=0,s=[],l=[],u=a.getStore(),c=!!e.get(["itemStyle","borderColorDoji"]);null!=(n=t.next());){var p=u.get(h,n),g=u.get(y,n),f=u.get(m,n),_=u.get(v,n),b=u.get(x,n);if(isNaN(p)||isNaN(_)||isNaN(b)){r[o++]=NaN,o+=3;continue}r[o++]=uL(u,n,g,f,m,c),s[0]=p,s[1]=_,i=d.dataToPoint(s,null,l),r[o++]=i?i[0]:NaN,r[o++]=i?i[1]:NaN,s[1]=b,i=d.dataToPoint(s,null,l),r[o++]=i?i[1]:NaN}a.setLayout("largePoints",r)}:function(e,t){for(var a,i=t.getStore();null!=(a=e.next());){var n=i.get(h,a),r=i.get(y,a),o=i.get(m,a),s=i.get(v,a),l=i.get(x,a),u=Math.min(r,o),c=Math.max(r,o),f=I(u,n),_=I(c,n),b=I(s,n),S=I(l,n),w=[];A(w,_,0),A(w,f,1),w.push(L(S),L(_),L(b),L(f));var M=!!t.getItemModel(a).get(["itemStyle","borderColorDoji"]);t.setItemLayout(a,{sign:uL(i,a,r,o,m,M),initBaseline:r>o?_[1]:f[1],ends:w,brushRect:function(e,t,a){var i=I(e,a),n=I(t,a);return i[0]-=p/2,n[0]-=p/2,{x:i[0],y:i[1],width:p,height:n[1]-i[1]}}(s,l,n)})}function I(e,t){var a=[];return a[0]=t,a[1]=e,isNaN(t)||isNaN(e)?[NaN,NaN]:d.dataToPoint(a)}function A(e,t,a){var i=t.slice(),n=t.slice();i[0]=(0,g.subPixelOptimize)(i[0]+p/2,1,!1),n[0]=(0,g.subPixelOptimize)(n[0]-p/2,1,!0),a?e.push(i,n):e.push(n,i)}function L(e){return e[0]=(0,g.subPixelOptimize)(e[0],1),e}}}}};function uL(e,t,a,i,n,r){return a>i?-1:a<i?1:r?0:t>0?e.get(n,t-1)<=i?1:-1:1}function uT(e,t){var a=t.rippleEffectColor||t.color;e.eachChild(function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?a:null,fill:"fill"===t.brushType?a:null}})})}var uC=function(e){function t(t,a){var i=e.call(this)||this,n=new rF.default(t,a),r=new N.Group;return i.add(n),i.add(r),i.updateData(t,a),i}return(0,s.__extends)(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,a=e.color,i=e.rippleNumber,n=this.childAt(1),r=0;r<i;r++){var o=(0,tf.createSymbol)(t,-1,-1,2,2,a);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-r/i*e.period+e.effectOffset;o.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(s).start(),o.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),n.add(o)}uT(n,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,a=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],n=0;n<i.length;n++){var r=i[n];if(t[r]!==e[r]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}uT(a,e)},t.prototype.highlight=function(){(0,V.enterEmphasis)(this)},t.prototype.downplay=function(){(0,V.leaveEmphasis)(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,t){var a=this,i=e.hostModel;this.childAt(0).updateData(e,t);var n=this.childAt(1),r=e.getItemModel(t),o=e.getItemVisual(t,"symbol"),s=(0,tf.normalizeSymbolSize)(e.getItemVisual(t,"symbolSize")),l=e.getItemVisual(t,"style"),u=l&&l.fill,d=r.getModel("emphasis");n.setScale(s),n.traverse(function(e){e.setStyle("fill",u)});var c=(0,tf.normalizeSymbolOffset)(e.getItemVisual(t,"symbolOffset"),s);c&&(n.x=c[0],n.y=c[1]),n.rotation=(e.getItemVisual(t,"symbolRotate")||0)*Math.PI/180||0;var p={};p.showEffectOn=i.get("showEffectOn"),p.rippleScale=r.get(["rippleEffect","scale"]),p.brushType=r.get(["rippleEffect","brushType"]),p.period=1e3*r.get(["rippleEffect","period"]),p.effectOffset=t/e.count(),p.z=i.getShallow("z")||0,p.zlevel=i.getShallow("zlevel")||0,p.symbolType=o,p.color=u,p.rippleEffectColor=r.get(["rippleEffect","color"]),p.rippleNumber=r.get(["rippleEffect","number"]),"render"===p.showEffectOn?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==p.showEffectOn&&a.startEffectAnimation(p):"normal"===e&&"render"!==p.showEffectOn&&a.stopEffectAnimation()}),this._effectCfg=p,(0,V.toggleHoverEmphasis)(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(N.Group),uD=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.init=function(){this._symbolDraw=new rs.default(uC)},t.prototype.render=function(e,t,a){var i=e.getData(),n=this._symbolDraw;n.updateData(i,{clipShape:this._getClipShape(e)}),this.group.add(n.group)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,a=t&&t.getArea&&t.getArea();return e.get("clip",!0)?a:null},t.prototype.updateTransform=function(e,t,a){var i=e.getData();this.group.dirty();var n=(0,rc.default)("").reset(e,t,a);n.progress&&n.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=Z.clone(t.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(ts.default),uP=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a}return(0,s.__extends)(t,e),t.prototype.getInitialData=function(e,t){return(0,i7.default)(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,t,a){return a.point(t.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(tp.default),uk=function(e){function t(t,a,i){var n=e.call(this)||this;return n.add(n.createLine(t,a,i)),n._updateEffectSymbol(t,a),n}return(0,s.__extends)(t,e),t.prototype.createLine=function(e,t,a){return new sM(e,t,a)},t.prototype._updateEffectSymbol=function(e,t){var a=e.getItemModel(t).getModel("effect"),i=a.get("symbolSize"),n=a.get("symbol");u.isArray(i)||(i=[i,i]);var r=e.getItemVisual(t,"style"),o=a.get("color")||r&&r.stroke,s=this.childAt(1);this._symbolType!==n&&(this.remove(s),(s=(0,tf.createSymbol)(n,-.5,-.5,1,1,o)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",o),s.setStyle(a.getItemStyle(["color"])),s.scaleX=i[0],s.scaleY=i[1],s.setColor(o),this._symbolType=n,this._symbolScale=i,this._updateEffectAnimation(e,a,t))},t.prototype._updateEffectAnimation=function(e,t,a){var i=this.childAt(1);if(i){var n=e.getItemLayout(a),r=1e3*t.get("period"),o=t.get("loop"),s=t.get("roundTrip"),l=t.get("constantSpeed"),d=u.retrieve(t.get("delay"),function(t){return t/e.count()*r/3});if(i.ignore=!0,this._updateAnimationPoints(i,n),l>0&&(r=this._getLineLength(i)/l*1e3),r!==this._period||o!==this._loop||s!==this._roundTrip){i.stopAnimation();var c=void 0;c=u.isFunction(d)?d(a):d,i.__t>0&&(c=-r*i.__t),this._animateSymbol(i,r,c,o,s)}this._period=r,this._loop=o,this._roundTrip=s}},t.prototype._animateSymbol=function(e,t,a,i,n){if(t>0){e.__t=0;var r=this,o=e.animate("",i).when(n?2*t:t,{__t:n?2:1}).delay(a).during(function(){r._updateSymbolPosition(e)});i||o.done(function(){r.remove(e)}),o.start()}},t.prototype._getLineLength=function(e){return eS.dist(e.__p1,e.__cp1)+eS.dist(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,a){this.childAt(0).updateData(e,t,a),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,a=e.__p2,i=e.__cp1,n=e.__t<1?e.__t:2-e.__t,r=[e.x,e.y],o=r.slice(),s=nz.quadraticAt,l=nz.quadraticDerivativeAt;r[0]=s(t[0],i[0],a[0],n),r[1]=s(t[1],i[1],a[1],n);var u=e.__t<1?l(t[0],i[0],a[0],n):l(a[0],i[0],t[0],1-n),d=e.__t<1?l(t[1],i[1],a[1],n):l(a[1],i[1],t[1],1-n);e.rotation=-Math.atan2(d,u)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*eS.dist(o,r),1===n&&(r[0]=o[0]+(r[0]-o[0])/2,r[1]=o[1]+(r[1]-o[1])/2)):1===e.__lastT?e.scaleY=2*eS.dist(t,r):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=r[0],e.y=r[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var a=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,a,t)},t}(N.Group),uE=function(e){function t(t,a,i){var n=e.call(this)||this;return n._createPolyline(t,a,i),n}return(0,s.__extends)(t,e),t.prototype._createPolyline=function(e,t,a){var i=e.getItemLayout(t),n=new R.Polyline({shape:{points:i}});this.add(n),this._updateCommonStl(e,t,a)},t.prototype.updateData=function(e,t,a){var i=e.hostModel,n=this.childAt(0),r={shape:{points:e.getItemLayout(t)}};E.updateProps(n,r,i,t),this._updateCommonStl(e,t,a)},t.prototype._updateCommonStl=function(e,t,a){var i=this.childAt(0),n=e.getItemModel(t),r=a&&a.emphasisLineStyle,o=a&&a.focus,s=a&&a.blurScope,l=a&&a.emphasisDisabled;if(!a||e.hasItemOption){var u=n.getModel("emphasis");r=u.getModel("lineStyle").getLineStyle(),l=u.get("disabled"),o=u.get("focus"),s=u.get("blurScope")}i.useStyle(e.getItemVisual(t,"style")),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=r,(0,V.toggleHoverEmphasis)(this,o,s,l)},t.prototype.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},t}(N.Group),uN=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return(0,s.__extends)(t,e),t.prototype.createLine=function(e,t,a){return new uE(e,t,a)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var a=[0],i=0,n=1;n<t.length;n++){var r=t[n-1],o=t[n];i+=eS.dist(r,o),a.push(i)}if(0===i){this._length=0;return}for(var n=0;n<a.length;n++)a[n]/=i;this._offsets=a,this._length=i},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t,a=e.__t<1?e.__t:2-e.__t,i=this._points,n=this._offsets,r=i.length;if(n){var o=this._lastFrame;if(a<this._lastFramePercent){for(t=Math.min(o+1,r-1);t>=0&&!(n[t]<=a);t--);t=Math.min(t,r-2)}else{for(t=o;t<r&&!(n[t]>a);t++);t=Math.min(t-1,r-2)}var s=(a-n[t])/(n[t+1]-n[t]),l=i[t],u=i[t+1];e.x=l[0]*(1-s)+s*u[0],e.y=l[1]*(1-s)+s*u[1];var d=e.__t<1?u[0]-l[0]:l[0]-u[0],c=e.__t<1?u[1]-l[1]:l[1]-u[1];e.rotation=-Math.atan2(c,d)-Math.PI/2,this._lastFrame=t,this._lastFramePercent=a,e.ignore=!1}},t}(uk),M=M,uR=e.i(23116),uO=e.i(49630),uz=function(){this.polyline=!1,this.curveness=0,this.segs=[]},uV=function(e){function t(t){var a=e.call(this,t)||this;return a._off=0,a.hoverDataIdx=-1,a}return(0,s.__extends)(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:tm.default.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new uz},t.prototype.buildPath=function(e,t){var a,i=t.segs,n=t.curveness;if(t.polyline)for(a=this._off;a<i.length;){var r=i[a++];if(r>0){e.moveTo(i[a++],i[a++]);for(var o=1;o<r;o++)e.lineTo(i[a++],i[a++])}}else for(a=this._off;a<i.length;){var s=i[a++],l=i[a++],u=i[a++],d=i[a++];if(e.moveTo(s,l),n>0){var c=(s+u)/2-(l-d)*n,p=(l+d)/2-(u-s)*n;e.quadraticCurveTo(c,p,u,d)}else e.lineTo(u,d)}this.incremental&&(this._off=a,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var a=this.shape,i=a.segs,n=a.curveness,r=this.style.lineWidth;if(a.polyline)for(var o=0,s=0;s<i.length;){var l=i[s++];if(l>0)for(var u=i[s++],d=i[s++],c=1;c<l;c++){var p=i[s++],h=i[s++];if(uR.containStroke(u,d,p,h,r,e,t))return o}o++}else for(var o=0,s=0;s<i.length;){var u=i[s++],d=i[s++],p=i[s++],h=i[s++];if(n>0){var g=(u+p)/2-(d-h)*n,f=(d+h)/2-(p-u)*n;if(uO.containStroke(u,d,g,f,p,h,r,e,t))return o}else if(uR.containStroke(u,d,p,h,r,e,t))return o;o++}return -1},t.prototype.contain=function(e,t){var a=this.transformCoordToLocal(e,t),i=this.getBoundingRect();return(e=a[0],t=a[1],i.contain(e,t))?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape.segs,a=1/0,i=1/0,n=-1/0,r=-1/0,o=0;o<t.length;){var s=t[o++],l=t[o++];a=Math.min(s,a),n=Math.max(s,n),i=Math.min(l,i),r=Math.max(l,r)}e=this._rect=new M.default(a,i,n,r)}return e},t}(ni.Path),uG=function(){function e(){this.group=new N.Group}return e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(e,t){var a=this._newAdded[0],i=t.getLayout("linesPoints"),n=a&&a.shape.segs;if(n&&n.length<2e4){var r=n.length,o=new Float32Array(r+i.length);o.set(n),o.set(i,r),a.setShape({segs:o})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:i}),this._setCommon(s,t),s.__startIndex=e.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new uV({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,t,a){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var n=t.getVisual("style");n&&n.stroke&&e.setStyle("stroke",n.stroke),e.setStyle("fill",null);var r=(0,e0.getECData)(e);r.seriesIndex=i.seriesIndex,e.on("mousemove",function(t){r.dataIndex=null;var a=e.hoverDataIdx;a>0&&(r.dataIndex=a+e.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),uB={seriesType:"lines",plan:(0,ui.default)(),reset:function(e){var t=e.coordinateSystem;if(t){var a=e.get("polyline"),i=e.pipelineContext.large;return{progress:function(n,r){var o=[];if(i){var s=void 0,l=n.end-n.start;if(a){for(var u=0,d=n.start;d<n.end;d++)u+=e.getLineCoordsCount(d);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);for(var c=0,p=[],d=n.start;d<n.end;d++){var h=e.getLineCoords(d,o);a&&(s[c++]=h);for(var g=0;g<h;g++)p=t.dataToPoint(o[g],!1,p),s[c++]=p[0],s[c++]=p[1]}r.setLayout("linesPoints",s)}else for(var d=n.start;d<n.end;d++){var f=r.getItemModel(d),h=e.getLineCoords(d,o),y=[];if(a)for(var m=0;m<h;m++)y.push(t.dataToPoint(o[m]));else{y[0]=t.dataToPoint(o[0]),y[1]=t.dataToPoint(o[1]);var v=f.get(["lineStyle","curveness"]);+v&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*v,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*v])}r.setItemLayout(d,y)}}}}}},uF=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){var i=e.getData(),n=this._updateLineDraw(i,e),r=e.get("zlevel"),o=e.get(["effect","trailLength"]),s=a.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(r).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&o>0&&(l||s.configLayer(r,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})),n.updateData(i);var u=e.get("clip",!0)&&(0,na.createClipPath)(e.coordinateSystem,!1,e);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=r,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,a){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(a),this._finished=!1},t.prototype.incrementalRender=function(e,t,a){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,t,a){var i=e.getData(),n=e.pipelineContext;if(!this._finished||n.large||n.progressiveRender)return{update:!0};var r=uB.reset(e,t,a);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(a)},t.prototype._updateLineDraw=function(e,t){var a=this._lineDraw,i=this._showEffect(t),n=!!t.get("polyline"),r=t.pipelineContext.large;return a&&i===this._hasEffet&&n===this._isPolyline&&r===this._isLargeDraw||(a&&a.remove(),a=this._lineDraw=r?new uG:new sI(n?i?uN:uE:i?uk:sM),this._hasEffet=i,this._isPolyline=n,this._isLargeDraw=r),this.group.add(a.group),a},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var t=e.getZr();"svg"!==t.painter.getType()&&null!=this._lastZlevel&&t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.type="lines",t}(ts.default),uH="u"<typeof Uint32Array?Array:Uint32Array,uW="u"<typeof Float64Array?Array:Float64Array;function uY(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=(0,u.map)(t,function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),(0,u.mergeAll)([t,e[0],e[1]])}))}var uX=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.visualStyleAccessPath="lineStyle",a.visualDrawType="stroke",a}return(0,s.__extends)(t,e),t.prototype.init=function(t){t.data=t.data||[],uY(t);var a=this._processFlatCoordsArray(t.data);this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset,a.flatCoords&&(t.data=new Float32Array(a.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if(uY(t),t.data){var a=this._processFlatCoordsArray(t.data);this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset,a.flatCoords&&(t.data=new Float32Array(a.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=(0,u.concatArray)(this._flatCoords,t.flatCoords),this._flatCoordsOffset=(0,u.concatArray)(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var a=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],n=0;n<i;n++)t[n]=t[n]||[],t[n][0]=this._flatCoords[a+2*n],t[n][1]=this._flatCoords[a+2*n+1];return i}for(var r=this._getCoordsFromItemModel(e),n=0;n<r.length;n++)t[n]=t[n]||[],t[n][0]=r[n][0],t[n][1]=r[n][1];return r.length},t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),(0,u.isNumber)(e[0])){for(var a=e.length,i=new uH(a),n=new uW(a),r=0,o=0,s=0,l=0;l<a;){s++;var d=e[l++];i[o++]=r+t,i[o++]=d;for(var c=0;c<d;c++){var p=e[l++],h=e[l++];n[r++]=p,n[r++]=h}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,o),flatCoords:n,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var a=new td.default(["value"],this);return a.hasItemOption=!1,a.initData(e.data,[],function(e,t,i,n){if(e instanceof Array)return NaN;a.hasItemOption=!0;var r=e.value;if(null!=r)return r instanceof Array?r[n]:r}),a},t.prototype.formatTooltip=function(e,t,a){var i=this.getData().getItemModel(e),n=i.get("name");if(n)return n;var r=i.get("fromName"),o=i.get("toName"),s=[];return null!=r&&s.push(r),null!=o&&s.push(o),(0,tg.createTooltipMarkup)("nameValue",{name:s.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&t>0?t+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(tp.default);function uU(e){return e instanceof Array||(e=[e,e]),e}let uZ={seriesType:"lines",reset:function(e){var t=uU(e.get("symbol")),a=uU(e.get("symbolSize")),i=e.getData();return i.setVisual("fromSymbol",t&&t[0]),i.setVisual("toSymbol",t&&t[1]),i.setVisual("fromSymbolSize",a&&a[0]),i.setVisual("toSymbolSize",a&&a[1]),{dataEach:i.hasItemOption?function(e,t){var a=e.getItemModel(t),i=uU(a.getShallow("symbol",!0)),n=uU(a.getShallow("symbolSize",!0));i[0]&&e.setItemVisual(t,"fromSymbol",i[0]),i[1]&&e.setItemVisual(t,"toSymbol",i[1]),n[0]&&e.setItemVisual(t,"fromSymbolSize",n[0]),n[1]&&e.setItemVisual(t,"toSymbolSize",n[1])}:null}}};var uj=e.i(26912),uq=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=ib.platformApi.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,a,i,n,r){var o=this._getBrush(),s=this._getGradient(n,"inRange"),l=this._getGradient(n,"outOfRange"),u=this.pointSize+this.blurSize,d=this.canvas,c=d.getContext("2d"),p=e.length;d.width=t,d.height=a;for(var h=0;h<p;++h){var g=e[h],f=g[0],y=g[1],m=i(g[2]);c.globalAlpha=m,c.drawImage(o,f-u,y-u)}if(!d.width||!d.height)return d;for(var v=c.getImageData(0,0,d.width,d.height),x=v.data,_=0,b=x.length,S=this.minOpacity,w=this.maxOpacity-S;_<b;){var m=x[_+3]/256,M=4*Math.floor(255*m);if(m>0){var I=r(m)?s:l;m>0&&(m=m*w+S),x[_++]=I[M],x[_++]=I[M+1],x[_++]=I[M+2],x[_++]=I[M+3]*m*256}else _+=4}return c.putImageData(v,0,0),d},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=ib.platformApi.createCanvas()),t=this.pointSize+this.blurSize,a=2*t;e.width=a,e.height=a;var i=e.getContext("2d");return i.clearRect(0,0,a,a),i.shadowOffsetX=a,i.shadowBlur=this.blurSize,i.shadowColor=tm.default.color.neutral99,i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},e.prototype._getGradient=function(e,t){for(var a=this._gradientPixels,i=a[t]||(a[t]=new Uint8ClampedArray(1024)),n=[0,0,0,0],r=0,o=0;o<256;o++)e[t](o/255,!0,n),i[r++]=n[0],i[r++]=n[1],i[r++]=n[2],i[r++]=n[3];return i},e}();function uK(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var uJ=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(a){a===e&&(i=t)})}),this._progressiveEls=null,this.group.removeAll();var i,n=e.coordinateSystem;"cartesian2d"===n.type||"calendar"===n.type||"matrix"===n.type?this._renderOnGridLike(e,a,0,e.getData().count()):uK(n)&&this._renderOnGeo(n,e,i,a)},t.prototype.incrementalPrepareRender=function(e,t,a){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,a,i){var n=t.coordinateSystem;n&&(uK(n)?this.render(t,a,i):(this._progressiveEls=[],this._renderOnGridLike(t,i,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){g.traverseElements(this._progressiveEls||this.group,e)},t.prototype._renderOnGridLike=function(e,t,a,i,n){var r,o,s,l,d=e.coordinateSystem,c=(0,no.isCoordinateSystemType)(d,"cartesian2d"),p=(0,no.isCoordinateSystemType)(d,"matrix");if(c){var h=d.getAxis("x"),g=d.getAxis("y");r=h.getBandWidth()+.5,o=g.getBandWidth()+.5,s=h.scale.getExtent(),l=g.scale.getExtent()}for(var f=this.group,y=e.getData(),m=e.getModel(["emphasis","itemStyle"]).getItemStyle(),v=e.getModel(["blur","itemStyle"]).getItemStyle(),x=e.getModel(["select","itemStyle"]).getItemStyle(),_=e.get(["itemStyle","borderRadius"]),b=(0,eQ.getLabelStatesModels)(e),S=e.getModel("emphasis"),w=S.get("focus"),M=S.get("blurScope"),I=S.get("disabled"),A=c||p?[y.mapDimension("x"),y.mapDimension("y"),y.mapDimension("value")]:[y.mapDimension("time"),y.mapDimension("value")],L=a;L<i;L++){var T=void 0,C=y.getItemVisual(L,"style");if(c){var D=y.get(A[0],L),P=y.get(A[1],L);if(isNaN(y.get(A[2],L))||isNaN(D)||isNaN(P)||D<s[0]||D>s[1]||P<l[0]||P>l[1])continue;var E=d.dataToPoint([D,P]);T=new k.Rect({shape:{x:E[0]-r/2,y:E[1]-o/2,width:r,height:o},style:C})}else if(p){var N=d.dataToLayout([y.get(A[0],L),y.get(A[1],L)]).rect;if(u.eqNaN(N.x))continue;T=new k.Rect({z2:1,shape:N,style:C})}else{if(isNaN(y.get(A[1],L)))continue;var R=d.dataToLayout([y.get(A[0],L)]),N=R.contentRect||R.rect;if(u.eqNaN(N.x)||u.eqNaN(N.y))continue;T=new k.Rect({z2:1,shape:N,style:C})}if(y.hasItemOption){var O=y.getItemModel(L),z=O.getModel("emphasis");m=z.getModel("itemStyle").getItemStyle(),v=O.getModel(["blur","itemStyle"]).getItemStyle(),x=O.getModel(["select","itemStyle"]).getItemStyle(),_=O.get(["itemStyle","borderRadius"]),w=z.get("focus"),M=z.get("blurScope"),I=z.get("disabled"),b=(0,eQ.getLabelStatesModels)(O)}T.shape.r=_;var G=e.getRawValue(L),B="-";G&&null!=G[2]&&(B=G[2]+""),(0,eQ.setLabelStyle)(T,b,{labelFetcher:e,labelDataIndex:L,defaultOpacity:C.opacity,defaultText:B}),T.ensureState("emphasis").style=m,T.ensureState("blur").style=v,T.ensureState("select").style=x,(0,V.toggleHoverEmphasis)(T,w,M,I),T.incremental=n,n&&(T.states.emphasis.hoverLayer=!0),f.add(T),y.setItemGraphicEl(L,T),this._progressiveEls&&this._progressiveEls.push(T)}},t.prototype._renderOnGeo=function(e,t,a,i){var n,r,o,s,l,d,c,p=a.targetVisuals.inRange,h=a.targetVisuals.outOfRange,g=t.getData(),f=this._hmLayer||this._hmLayer||new uq;f.blurSize=t.get("blurSize"),f.pointSize=t.get("pointSize"),f.minOpacity=t.get("minOpacity"),f.maxOpacity=t.get("maxOpacity");var y=e.getViewRect().clone(),m=e.getRoamTransform();y.applyTransform(m);var v=Math.max(y.x,0),x=Math.max(y.y,0),_=Math.min(y.width+y.x,i.getWidth()),b=Math.min(y.height+y.y,i.getHeight()),S=_-v,w=b-x,M=[g.mapDimension("lng"),g.mapDimension("lat"),g.mapDimension("value")],I=g.mapArray(M,function(t,a,i){var n=e.dataToPoint([t,a]);return n[0]-=v,n[1]-=x,n.push(i),n}),A=a.getExtent(),L="visualMap.continuous"===a.type?(n=a.option.range,r=A[1]-A[0],n=[(n[0]-A[0])/r,(n[1]-A[0])/r],function(e){return e>=n[0]&&e<=n[1]}):(o=a.getPieceList(),s=a.option.selected,l=A[1]-A[0],d=(o=u.map(o,function(e){return{interval:[(e.interval[0]-A[0])/l,(e.interval[1]-A[0])/l]}})).length,c=0,function(e){var t;for(t=c;t<d;t++){var a=o[t].interval;if(a[0]<=e&&e<=a[1]){c=t;break}}if(t===d)for(t=c-1;t>=0;t--){var a=o[t].interval;if(a[0]<=e&&e<=a[1]){c=t;break}}return t>=0&&t<d&&s[t]});f.update(I,S,w,p.color.getNormalizer(),{inRange:p.color.getColorMapper(),outOfRange:h.color.getColorMapper()},L);var T=new uj.Image({style:{width:S,height:w,x:v,y:x,image:f.canvas},silent:!0});this.group.add(T)},t.type="heatmap",t}(ts.default),u$=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.getInitialData=function(e,t){return(0,i7.default)(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=ty.default.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:tm.default.color.primary}}},t}(tp.default),uQ=["itemStyle","borderWidth"],u0=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],u1=new rw.Circle,u2=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){var i=this.group,n=e.getData(),r=this._data,o=e.coordinateSystem,s=o.getBaseAxis().isHorizontal(),l=o.master.getRect(),u={ecSize:{width:a.getWidth(),height:a.getHeight()},seriesModel:e,coordSys:o,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:u0[+s],categoryDim:u0[1-s]};n.diff(r).add(function(e){if(n.hasValue(e)){var t=de(n,e),a=u3(n,e,t,u),r=di(n,u,a);n.setItemGraphicEl(e,r),i.add(r),du(r,u,a)}}).update(function(e,t){var a,o,s,l,d,c,p=r.getItemGraphicEl(t);if(!n.hasValue(e))return void i.remove(p);var h=de(n,e),g=u3(n,e,h,u),f=dr(n,g);p&&f!==p.__pictorialShapeStr&&(i.remove(p),n.setItemGraphicEl(e,null),p=null),p?(a=p,o=u,l=(s=g).animationModel,d=s.dataIndex,c=a.__pictorialBundle,rw.updateProps(c,{x:s.bundlePosition[0],y:s.bundlePosition[1]},l,d),s.symbolRepeat?u6(a,o,s,!0):u7(a,o,s,!0),u8(a,s,!0),u9(a,o,s,!0)):p=di(n,u,g,!0),n.setItemGraphicEl(e,p),p.__pictorialSymbolMeta=g,i.add(p),du(p,u,g)}).remove(function(e){var t=r.getItemGraphicEl(e);t&&dn(r,e,t.__pictorialSymbolMeta.animationModel,t)}).execute();var d=e.get("clip",!0)?(0,na.createClipPath)(e.coordinateSystem,!1,e):null;return d?i.setClipPath(d):i.removeClipPath(),this._data=n,this.group},t.prototype.remove=function(e,t){var a=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(t){dn(i,(0,e0.getECData)(t).dataIndex,e,t)}):a.removeAll()},t.type="pictorialBar",t}(ts.default);function u3(e,t,a,i){var n,r,o,s,l,d,c,p,h,g,f,y,m,v,x,_,b,S,w,M,I,A=e.getItemLayout(t),L=a.get("symbolRepeat"),T=a.get("symbolClip"),C=a.get("symbolPosition")||"start",D=(a.get("symbolRotate")||0)*Math.PI/180||0,P=a.get("symbolPatternSize")||2,k=a.isAnimationEnabled(),E={dataIndex:t,layout:A,itemModel:a,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:T,symbolRepeat:L,symbolRepeatDirection:a.get("symbolRepeatDirection"),symbolPatternSize:P,rotation:D,animationModel:k?a:null,hoverScale:k&&a.get(["emphasis","scale"]),z2:a.getShallow("z",!0)||0};(function(e,t,a,i,n){var r,o=i.valueDim,s=e.get("symbolBoundingData"),l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),d=l.toGlobalCoord(l.dataToCoord(0)),c=1-(a[o.wh]<=0);if(u.isArray(s)){var p=[u5(l,s[0])-d,u5(l,s[1])-d];p[1]<p[0]&&p.reverse(),r=p[c]}else r=null!=s?u5(l,s)-d:t?i.coordSysExtent[o.index][c]-d:a[o.wh];n.boundingLength=r,t&&(n.repeatCutLength=a[o.wh]);var h="x"===o.xy,g=l.inverse;n.pxSign=h&&!g||!h&&g?r>=0?1:-1:r>0?1:-1})(a,L,A,i,E),n=e,r=t,o=A,s=L,l=E.boundingLength,d=E.pxSign,c=P,p=i,h=E,f=p.valueDim,m=Math.abs(o[(y=p.categoryDim).wh]),v=n.getItemVisual(r,"symbolSize"),(g=u.isArray(v)?v.slice():null==v?["100%","100%"]:[v,v])[y.index]=(0,tL.parsePercent)(g[y.index],m),g[f.index]=(0,tL.parsePercent)(g[f.index],s?m:Math.abs(l)),h.symbolSize=g,x=h.symbolScale=[g[0]/c,g[1]/c],x[f.index]*=(p.isHorizontal?-1:1)*d,_=a,b=E.symbolScale,S=D,w=i,M=E,(I=_.get(uQ)||0)&&(u1.attr({scaleX:b[0],scaleY:b[1],rotation:S}),u1.updateTransform(),I/=u1.getLineScale(),I*=b[w.valueDim.index]),M.valueLineWidth=I||0;var N=E.symbolSize,R=(0,tf.normalizeSymbolOffset)(a.get("symbolOffset"),N);return function(e,t,a,i,n,r,o,s,l,d,c,p){var h=c.categoryDim,g=c.valueDim,f=p.pxSign,y=Math.max(t[g.index]+s,0),m=y;if(i){var v=Math.abs(l),x=u.retrieve(e.get("symbolMargin"),"15%")+"",_=!1;x.lastIndexOf("!")===x.length-1&&(_=!0,x=x.slice(0,x.length-1));var b=(0,tL.parsePercent)(x,t[g.index]),S=Math.max(y+2*b,0),w=_?0:2*b,M=(0,tL.isNumeric)(i),I=M?i:dd((v+w)/S);b=(v-I*y)/2/(_?I:Math.max(I-1,1)),S=y+2*b,w=_?0:2*b,M||"fixed"===i||(I=d?dd((Math.abs(d)+w)/S):0),m=I*S-w,p.repeatTimes=I,p.symbolMargin=b}var A=m/2*f,L=p.pathPosition=[];L[h.index]=a[h.wh]/2,L[g.index]="start"===o?A:"end"===o?l-A:l/2,r&&(L[0]+=r[0],L[1]+=r[1]);var T=p.bundlePosition=[];T[h.index]=a[h.xy],T[g.index]=a[g.xy];var C=p.barRectShape=u.extend({},a);C[g.wh]=f*Math.max(Math.abs(a[g.wh]),Math.abs(L[g.index]+A)),C[h.wh]=a[h.wh];var D=p.clipShape={};D[h.xy]=-a[h.xy],D[h.wh]=c.ecSize[h.wh],D[g.xy]=0,D[g.wh]=a[g.wh]}(a,N,A,L,0,R,C,E.valueLineWidth,E.boundingLength,E.repeatCutLength,i,E),E}function u5(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function u4(e){var t=e.symbolPatternSize,a=(0,tf.createSymbol)(e.symbolType,-t/2,-t/2,t,t);return a.attr({culling:!0}),"image"!==a.type&&a.setStyle({strokeNoScale:!0}),a}function u6(e,t,a,i){var n=e.__pictorialBundle,r=a.symbolSize,o=a.valueLineWidth,s=a.pathPosition,l=t.valueDim,u=a.repeatTimes||0,d=0,c=r[t.valueDim.index]+o+2*a.symbolMargin;for(ds(e,function(e){e.__pictorialAnimationIndex=d,e.__pictorialRepeatTimes=u,d<u?dl(e,null,g(d),a,i):dl(e,null,{scaleX:0,scaleY:0},a,i,function(){n.remove(e)}),d++});d<u;d++){var p=u4(a);p.__pictorialAnimationIndex=d,p.__pictorialRepeatTimes=u,n.add(p);var h=g(d);dl(p,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},a,i)}function g(e){var t=s.slice(),i=a.pxSign,n=e;return("start"===a.symbolRepeatDirection?i>0:i<0)&&(n=u-1-e),t[l.index]=c*(n-u/2+.5)+s[l.index],{x:t[0],y:t[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation}}}function u7(e,t,a,i){var n=e.__pictorialBundle,r=e.__pictorialMainPath;r?dl(r,null,{x:a.pathPosition[0],y:a.pathPosition[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation},a,i):(r=e.__pictorialMainPath=u4(a),n.add(r),dl(r,{x:a.pathPosition[0],y:a.pathPosition[1],scaleX:0,scaleY:0,rotation:a.rotation},{scaleX:a.symbolScale[0],scaleY:a.symbolScale[1]},a,i))}function u8(e,t,a){var i=u.extend({},t.barRectShape),n=e.__pictorialBarRect;n?dl(n,null,{shape:i},t,a):((n=e.__pictorialBarRect=new rw.Rect({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,e.add(n))}function u9(e,t,a,i){if(a.symbolClip){var n=e.__pictorialClipPath,r=u.extend({},a.clipShape),o=t.valueDim,s=a.animationModel,l=a.dataIndex;if(n)rw.updateProps(n,{shape:r},s,l);else{r[o.wh]=0,n=new rw.Rect({shape:r}),e.__pictorialBundle.setClipPath(n),e.__pictorialClipPath=n;var d={};d[o.wh]=a.clipShape[o.wh],rw[i?"updateProps":"initProps"](n,{shape:d},s,l)}}}function de(e,t){var a=e.getItemModel(t);return a.getAnimationDelayParams=dt,a.isAnimationEnabled=da,a}function dt(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function da(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function di(e,t,a,i){var n=new rw.Group,r=new rw.Group;return n.add(r),n.__pictorialBundle=r,r.x=a.bundlePosition[0],r.y=a.bundlePosition[1],a.symbolRepeat?u6(n,t,a):u7(n,t,a),u8(n,a,i),u9(n,t,a,i),n.__pictorialShapeStr=dr(e,a),n.__pictorialSymbolMeta=a,n}function dn(e,t,a,i){var n=i.__pictorialBarRect;n&&n.removeTextContent();var r=[];ds(i,function(e){r.push(e)}),i.__pictorialMainPath&&r.push(i.__pictorialMainPath),i.__pictorialClipPath&&(a=null),u.each(r,function(e){rw.removeElement(e,{scaleX:0,scaleY:0},a,t,function(){i.parent&&i.parent.remove(i)})}),e.setItemGraphicEl(t,null)}function dr(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function ds(e,t,a){u.each(e.__pictorialBundle.children(),function(i){i!==e.__pictorialBarRect&&t.call(a,i)})}function dl(e,t,a,i,n,r){t&&e.attr(t),i.symbolClip&&!n?a&&e.attr(a):a&&rw[n?"updateProps":"initProps"](e,a,i.animationModel,i.dataIndex,r)}function du(e,t,a){var i=a.dataIndex,n=a.itemModel,r=n.getModel("emphasis"),o=r.getModel("itemStyle").getItemStyle(),s=n.getModel(["blur","itemStyle"]).getItemStyle(),l=n.getModel(["select","itemStyle"]).getItemStyle(),d=n.getShallow("cursor"),c=r.get("focus"),p=r.get("blurScope"),h=r.get("scale");ds(e,function(e){if(e instanceof B.default){var t=e.style;e.useStyle(u.extend({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},a.style))}else e.useStyle(a.style);var i=e.ensureState("emphasis");i.style=o,h&&(i.scaleX=1.1*e.scaleX,i.scaleY=1.1*e.scaleY),e.ensureState("blur").style=s,e.ensureState("select").style=l,d&&(e.cursor=d),e.z2=a.z2});var g=t.valueDim.posDesc[+(a.boundingLength>0)],f=e.__pictorialBarRect;f.ignoreClip=!0,(0,eQ.setLabelStyle)(f,(0,eQ.getLabelStatesModels)(n),{labelFetcher:t.seriesModel,labelDataIndex:i,defaultText:(0,ns.getDefaultLabel)(t.seriesModel.getData(),i),inheritColor:a.style.fill,defaultOpacity:a.style.opacity,defaultOutsidePosition:g}),(0,V.toggleHoverEmphasis)(e,c,p,r.get("disabled"))}function dd(e){var t=Math.round(e);return 1e-4>Math.abs(e-t)?t:Math.ceil(e)}var dc=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a.defaultSymbol="roundRect",a}return(0,s.__extends)(t,e),t.prototype.getInitialData=function(t){return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=(0,e$.inheritDefaultOption)(i8.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:tm.default.color.primary}}}),t}(i8),dp=e.i(27375),dh=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._layers=[],a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){var i=e.getData(),n=this,r=this.group,o=e.getLayerSeries(),s=i.getLayout("layoutInfo"),l=s.rect,d=s.boundaryGap;function c(e){return e.name}r.x=0,r.y=l.y+d[0];var p=new ov.default(this._layersSeries||[],o,c,c),h=[];function g(t,a,s){var l,u,d=n._layers;if("remove"===t)return void r.remove(d[a]);for(var c=[],p=[],g=o[a].indices,f=0;f<g.length;f++){var y=i.getItemLayout(g[f]),m=y.x,v=y.y0,x=y.y;c.push(m,v),p.push(m,v+x),l=i.getItemVisual(g[f],"style")}var _=i.getItemLayout(g[0]),b=e.getModel("label").get("margin"),S=e.getModel("emphasis");if("add"===t){var w,M,I,A,L=h[a]=new N.Group;u=new dp.ECPolygon({shape:{points:c,stackedOnPoints:p,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),L.add(u),r.add(L),e.isAnimationEnabled()&&u.setClipPath((w=u.getBoundingRect(),M=e,I=function(){u.removeClipPath()},A=new k.Rect({shape:{x:w.x-10,y:w.y-10,width:0,height:w.height+20}}),E.initProps(A,{shape:{x:w.x-50,width:w.width+100,height:w.height+20}},M,I),A))}else{var L=d[s];u=L.childAt(0),r.add(L),h[a]=L,E.updateProps(u,{shape:{points:c,stackedOnPoints:p}},e),(0,E.saveOldStyle)(u)}(0,eQ.setLabelStyle)(u,(0,eQ.getLabelStatesModels)(e),{labelDataIndex:g[f-1],defaultText:i.getName(g[f-1]),inheritColor:l.fill},{normal:{verticalAlign:"middle"}}),u.setTextConfig({position:null,local:!0});var T=u.getTextContent();T&&(T.x=_.x-b,T.y=_.y0+_.y/2),u.useStyle(l),i.setItemGraphicEl(a,u),(0,V.setStatesStylesFromModel)(u,e),(0,V.toggleHoverEmphasis)(u,S.get("focus"),S.get("blurScope"),S.get("disabled"))}p.add((0,u.bind)(g,this,"add")).update((0,u.bind)(g,this,"update")).remove((0,u.bind)(g,this,"remove")).execute(),this._layersSeries=o,this._layers=h},t.type="themeRiver",t}(ts.default),dg=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new ri(u.bind(this.getData,this),u.bind(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,a={},i=(0,h.groupData)(e,function(e){return a.hasOwnProperty(e[0]+"")||(a[e[0]+""]=-1),e[2]}),n=[];i.buckets.each(function(e,t){n.push({name:t,dataList:e})});for(var r=n.length,o=0;o<r;++o){for(var s=n[o].name,l=0;l<n[o].dataList.length;++l){var u=n[o].dataList[l][0]+"";a[u]=o}for(var u in a)a.hasOwnProperty(u)&&a[u]!==o&&(a[u]=o,e[t]=[u,0,s],t++)}return e},t.prototype.getInitialData=function(e,t){for(var a=this.getReferringComponents("singleAxis",h.SINGLE_REFERRING).models[0].get("type"),i=u.filter(e.data,function(e){return void 0!==e[2]}),n=this.fixData(i||[]),r=[],o=this.nameMap=u.createHashMap(),s=0,l=0;l<n.length;++l)r.push(n[l][2]),!o.get(n[l][2])&&(o.set(n[l][2],s),s++);var d=(0,tu.default)(n,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:(0,l0.getDimensionTypeByAxis)(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,c=new td.default(d,this);return c.initData(n),c},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),a=[],i=0;i<t;++i)a[i]=i;var n=e.mapDimension("single"),r=(0,h.groupData)(a,function(t){return e.get("name",t)}),o=[];return r.buckets.each(function(t,a){t.sort(function(t,a){return e.get(n,t)-e.get(n,a)}),o.push({name:a,indices:t})}),o},t.prototype.getAxisTooltipData=function(e,t,a){u.isArray(e)||(e=e?[e]:[]);for(var i,n=this.getData(),r=this.getLayerSeries(),o=[],s=r.length,l=0;l<s;++l){for(var d=Number.MAX_VALUE,c=-1,p=r[l].indices.length,h=0;h<p;++h){var g=n.get(e[0],r[l].indices[h]),f=Math.abs(g-t);f<=d&&(i=g,d=f,c=r[l].indices[h])}o.push(c)}return{dataIndices:o,nestestValue:i}},t.prototype.formatTooltip=function(e,t,a){var i=this.getData(),n=i.getName(e),r=i.get(i.mapDimension("value"),e);return(0,tg.createTooltipMarkup)("nameValue",{name:n,value:r})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(tp.default);function df(e,t){e.eachSeriesByType("themeRiver",function(e){var t=e.getData(),a=e.coordinateSystem,i={},n=a.getRect();i.rect=n;var r=e.get("boundaryGap"),o=a.getAxis();i.boundaryGap=r,"horizontal"===o.orient?(r[0]=tL.parsePercent(r[0],n.height),r[1]=tL.parsePercent(r[1],n.height),dy(t,e,n.height-r[0]-r[1])):(r[0]=tL.parsePercent(r[0],n.width),r[1]=tL.parsePercent(r[1],n.width),dy(t,e,n.width-r[0]-r[1])),t.setLayout("layoutInfo",i)})}function dy(e,t,a){if(e.count())for(var i,n=t.coordinateSystem,r=t.getLayerSeries(),o=e.mapDimension("single"),s=e.mapDimension("value"),l=u.map(r,function(t){return u.map(t.indices,function(t){var a=n.dataToPoint(e.get(o,t));return a[1]=e.get(s,t),a})}),d=function(e){for(var t=e.length,a=e[0].length,i=[],n=[],r=0,o=0;o<a;++o){for(var s=0,l=0;l<t;++l)s+=e[l][o][1];s>r&&(r=s),i.push(s)}for(var u=0;u<a;++u)n[u]=(r-i[u])/2;r=0;for(var d=0;d<a;++d){var c=i[d]+n[d];c>r&&(r=c)}return{y0:n,max:r}}(l),c=d.y0,p=a/d.max,h=r.length,g=r[0].indices.length,f=0;f<g;++f){i=c[f]*p,e.setItemLayout(r[0].indices[f],{layerIndex:0,x:l[0][f][0],y0:i,y:l[0][f][1]*p});for(var y=1;y<h;++y)i+=l[y-1][f][1]*p,e.setItemLayout(r[y].indices[f],{layerIndex:y,x:l[y][f][0],y0:i,y:l[y][f][1]*p})}}var dm=function(e){function t(t,a,i,n){var r=e.call(this)||this;r.z2=2,r.textConfig={inside:!0},(0,e0.getECData)(r).seriesIndex=a.seriesIndex;var o=new ay.Text({z2:4,silent:t.getModel().get(["label","silent"])});return r.setTextContent(o),r.updateData(!0,t,a,i,n),r}return(0,s.__extends)(t,e),t.prototype.updateData=function(e,t,a,i,n){this.node=t,t.piece=this,a=a||this._seriesModel,i=i||this._ecModel;var r=this;(0,e0.getECData)(r).dataIndex=t.dataIndex;var o=t.getModel(),s=o.getModel("emphasis"),l=t.getLayout(),d=u.extend({},l);d.label=null;var c=t.getVisual("style");c.lineJoin="bevel";var p=t.getVisual("decal");p&&(c.decal=(0,e1.createOrUpdatePatternFromDecal)(p,n));var h=nd(o.getModel("itemStyle"),d,!0);u.extend(d,h),u.each(V.SPECIAL_STATES,function(e){var t=r.ensureState(e),a=o.getModel([e,"itemStyle"]);t.style=a.getItemStyle();var i=nd(a,d);i&&(t.shape=i)}),e?(r.setShape(d),r.shape.r=l.r0,E.initProps(r,{shape:{r:l.r}},a,t.dataIndex)):(E.updateProps(r,{shape:d},a),(0,E.saveOldStyle)(r)),r.useStyle(c),this._updateLabel(a);var g=o.getShallow("cursor");g&&r.attr("cursor",g),this._seriesModel=a||this._seriesModel,this._ecModel=i||this._ecModel;var f=s.get("focus"),y="relative"===f?u.concatArray(t.getAncestorsIndices(),t.getDescendantIndices()):"ancestor"===f?t.getAncestorsIndices():"descendant"===f?t.getDescendantIndices():f;(0,V.toggleHoverEmphasis)(this,y,s.get("blurScope"),s.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,a=this.node.getModel(),i=a.getModel("label"),n=this.node.getLayout(),r=n.endAngle-n.startAngle,o=(n.startAngle+n.endAngle)/2,s=Math.cos(o),l=Math.sin(o),d=this,c=d.getTextContent(),p=this.node.dataIndex,h=i.get("minAngle")/180*Math.PI;function g(e,t){var a=e.get(t);return null==a?i.get(t):a}c.ignore=!(i.get("show")&&!(null!=h&&Math.abs(r)<h)),u.each(V.DISPLAY_STATES,function(i){var h,f="normal"===i?a.getModel("label"):a.getModel([i,"label"]),y="normal"===i,m=y?c:c.ensureState(i),v=e.getFormattedLabel(p,i);y&&(v=v||t.node.name),m.style=(0,eQ.createTextStyle)(f,{},null,"normal"!==i,!0),v&&(m.style.text=v);var x=f.get("show");null==x||y||(m.ignore=!x);var _=g(f,"position"),b=y?d:d.states[i],S=b.style.fill;b.textConfig={outsideFill:"inherit"===f.get("color")?S:null,inside:"outside"!==_};var w=g(f,"distance")||0,M=g(f,"align"),I=g(f,"rotate"),A=.5*Math.PI,L=1.5*Math.PI,T=(0,nO.normalizeRadian)("tangential"===I?Math.PI/2-o:o),C=T>A&&!(0,tL.isRadianAroundZero)(T-A)&&T<L;"outside"===_?(h=n.r+w,M=C?"right":"left"):M&&"center"!==M?"left"===M?(h=n.r0+w,M=C?"right":"left"):"right"===M&&(h=n.r-w,M=C?"left":"right"):(h=r===2*Math.PI&&0===n.r0?0:(n.r+n.r0)/2,M="center"),m.style.align=M,m.style.verticalAlign=g(f,"verticalAlign")||"middle",m.x=h*s+n.cx,m.y=h*l+n.cy;var D=0;"radial"===I?D=(0,nO.normalizeRadian)(-o)+(C?Math.PI:0):"tangential"===I?D=(0,nO.normalizeRadian)(Math.PI/2-o)+(C?Math.PI:0):u.isNumber(I)&&(D=I*Math.PI/180),m.rotation=(0,nO.normalizeRadian)(D)}),c.dirtyStyle()},t}(ne.Sector),dv="sunburstRootToNode",dx="sunburstHighlight",d_=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a,i){var n,r,o=this;this.seriesModel=e,this.api=a,this.ecModel=t;var s=e.getData(),l=s.tree.root,d=e.getViewRoot(),c=this.group,p=e.get("renderLabelForZeroData"),h=[];d.eachNode(function(e){h.push(e)}),function(i,n){function r(e){return e.getId()}function o(r,o){!function(i,n){if(p||!i||i.getValue()||(i=null),i!==l&&n!==l){if(n&&n.piece){var r;i?(n.piece.updateData(!1,i,e,t,a),s.setItemGraphicEl(i.dataIndex,n.piece)):(r=n)&&r.piece&&(c.remove(r.piece),r.piece=null)}else if(i){var o=new dm(i,e,t,a);c.add(o),s.setItemGraphicEl(i.dataIndex,o)}}}(null==r?null:i[r],null==o?null:n[o])}(0!==i.length||0!==n.length)&&new ov.default(n,i,r,r).add(o).update(o).remove(u.curry(o,null)).execute()}(h,this._oldChildren||[]),n=l,(r=d).depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,n,e,t,a):(o.virtualPiece=new dm(n,e,t,a),c.add(o.virtualPiece)),r.piece.off("click"),o.virtualPiece.on("click",function(e){o._rootToNode(r.parentNode)})):o.virtualPiece&&(c.remove(o.virtualPiece),o.virtualPiece=null),this._initEvents(),this._oldChildren=h},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(t){var a=!1;e.seriesModel.getViewRoot().eachNode(function(i){if(!a&&i.piece&&i.piece===t.target){var n=i.getModel().get("nodeClick");if("rootToNode"===n)e._rootToNode(i);else if("link"===n){var r=i.getModel(),o=r.get("link");if(o){var s=r.get("target",!0)||"_blank";(0,ag.windowOpen)(o,s)}}a=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:dv,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var a=t.getData().getItemLayout(0);if(a){var i=e[0]-a.cx,n=e[1]-a.cy,r=Math.sqrt(i*i+n*n);return r<=a.r&&r>=a.r0}},t.type="sunburst",t}(ts.default),db=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.ignoreStyleOnData=!0,a}return(0,s.__extends)(t,e),t.prototype.getInitialData=function(e,t){var a={name:e.name,children:e.data};!function e(t){var a=0;u.each(t.children,function(t){e(t);var i=t.value;u.isArray(i)&&(i=i[0]),a+=i});var i=t.value;u.isArray(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=a),i<0&&(i=0),u.isArray(t.value)?t.value[0]=i:t.value=i}(a);var i=this._levelModels=u.map(e.levels||[],function(e){return new tw.default(e,this,t)},this),n=or.createTree(a,this,function(e){e.wrapMethod("getItemModel",function(e,t){var a=i[n.getNodeByDataIndex(t).depth];return a&&(e.parentModel=a),e})});return n.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var a=e.prototype.getDataParams.apply(this,arguments);return a.treePathInfo=ou(this.getData().tree.getNodeByDataIndex(t),this),a},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){oy(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(tp.default),dS=Math.PI/180;function dw(e,t,a){t.eachSeriesByType(e,function(e){var t=e.get("center"),i=e.get("radius");u.isArray(i)||(i=[0,i]),u.isArray(t)||(t=[t,t]);var n=a.getWidth(),r=a.getHeight(),o=Math.min(n,r),s=(0,tL.parsePercent)(t[0],n),l=(0,tL.parsePercent)(t[1],r),d=(0,tL.parsePercent)(i[0],o/2),c=(0,tL.parsePercent)(i[1],o/2),p=-e.get("startAngle")*dS,h=e.get("minAngle")*dS,g=e.getData().tree.root,f=e.getViewRoot(),y=f.depth,m=e.get("sort");null!=m&&function e(t,a){var i=t.children||[];t.children=function(e,t){if(u.isFunction(t)){var a=u.map(e,function(e,t){var a=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return a}},index:t}});return a.sort(function(e,a){return t(e.params,a.params)}),u.map(a,function(t){return e[t.index]})}var i="asc"===t;return e.sort(function(e,t){var a=(e.getValue()-t.getValue())*(i?1:-1);return 0===a?(e.dataIndex-t.dataIndex)*(i?-1:1):a})}(i,a),i.length&&u.each(t.children,function(t){e(t,a)})}(f,m);var v=0;u.each(f.children,function(e){!isNaN(e.getValue())&&v++});var x=f.getValue(),_=Math.PI/(x||v)*2,b=f.depth>0,S=(c-d)/(f.height-(b?-1:1)||1),w=e.get("clockwise"),M=e.get("stillShowZeroSum"),I=w?1:-1,A=function(t,a){if(t){var i=a;if(t!==g){var n=t.getValue(),r=0===x&&M?_:n*_;r<h&&(r=h),i=a+I*r;var c=t.depth-y-(b?-1:1),p=d+S*c,f=d+S*(c+1),m=e.getLevelModel(t);if(m){var v=m.get("r0",!0),L=m.get("r",!0),T=m.get("radius",!0);null!=T&&(v=T[0],L=T[1]),null!=v&&(p=(0,tL.parsePercent)(v,o/2)),null!=L&&(f=(0,tL.parsePercent)(L,o/2))}t.setLayout({angle:r,startAngle:a,endAngle:i,clockwise:w,cx:s,cy:l,r0:p,r:f})}if(t.children&&t.children.length){var C=0;u.each(t.children,function(e){C+=A(e,a+C)})}return i-a}};if(b){var L=2*Math.PI;g.setLayout({angle:L,startAngle:p,endAngle:p+L,clockwise:w,cx:s,cy:l,r0:d,r:d+S})}A(f,p)})}function dM(e){var t={};e.eachSeriesByType("sunburst",function(e){var a=e.getData(),i=a.tree;i.eachNode(function(n){var r=n.getModel().getModel("itemStyle").getItemStyle();r.fill||(r.fill=function(e,a,i){if(0===e.depth)return tm.default.color.neutral50;for(var n=e;n&&n.depth>1;)n=n.parentNode;var r=a.getColorFromPalette(n.name||n.dataIndex+"",t);return e.depth>1&&(0,u.isString)(r)&&(r=(0,Q.lift)(r,(e.depth-1)/(i-1)*.5)),r}(n,e,i.root.height));var o=a.ensureUniqueItemVisual(n.dataIndex,"style");(0,u.extend)(o,r)})})}var dI={color:"fill",borderColor:"stroke"},dA={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},dL=(0,h.makeInner)(),dT=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,t){return(0,i7.default)(null,this)},t.prototype.getDataParams=function(t,a,i){var n=e.prototype.getDataParams.call(this,t,a);return i&&(n.info=dL(i).info),n},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(tp.default),z=z;function dC(e,t){return t=t||[0,0],u.map(["x","y"],function(a,i){var n=this.getAxis(a),r=t[i],o=e[i]/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(r-o)-n.dataToCoord(r+o))},this)}function dD(e,t){return t=t||[0,0],u.map([0,1],function(a){var i=t[a],n=e[a]/2,r=[],o=[];return r[a]=i-n,o[a]=i+n,r[1-a]=o[1-a]=t[1-a],Math.abs(this.dataToPoint(r)[a]-this.dataToPoint(o)[a])},this)}function dP(e,t){var a=this.getAxis(),i=t instanceof Array?t[0]:t,n=(e instanceof Array?e[0]:e)/2;return"category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(i-n)-a.dataToCoord(i+n))}function dk(e,t){return t=t||[0,0],u.map(["Radius","Angle"],function(a,i){var n=this["get"+a+"Axis"](),r=t[i],o=e[i]/2,s="category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(r-o)-n.dataToCoord(r+o));return"Angle"===a&&(s=s*Math.PI/180),s},this)}var dE=e.i(86891),dN=e.i(2968),dR=e.i(99899),dO=e.i(31681),dz="emphasis",dV="normal",dG="blur",dB="select",dF=[dV,dz,dG,dB],dH={normal:["itemStyle"],emphasis:[dz,"itemStyle"],blur:[dG,"itemStyle"],select:[dB,"itemStyle"]},dW={normal:["label"],emphasis:[dz,"label"],blur:[dG,"label"],select:[dB,"label"]},dY=["x","y"],dX={normal:{},emphasis:{},blur:{},select:{}},dU={cartesian2d:function(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:u.bind(dC,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:u.bind(dD,e)}}},single:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:(0,u.bind)(dP,e)}}},polar:function(e){var t=e.getRadiusAxis(),a=e.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:function(i){var n=t.dataToRadius(i[0]),r=a.dataToAngle(i[1]),o=e.coordToPoint([n,r]);return o.push(n,r*Math.PI/180),o},size:u.bind(dk,e)}}},calendar:function(e){var t=e.getRect(),a=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:function(t,a){return e.dataToPoint(t,a)},layout:function(t,a){return e.dataToLayout(t,a)}}}},matrix:function(e){var t=e.getRect();return{coordSys:{type:"matrix",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t,a){return e.dataToPoint(t,a)},layout:function(t,a){return e.dataToLayout(t,a)}}}}};function dZ(e){return e instanceof ni.Path}function dj(e){return e instanceof e2.default}var dq=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a,i){this._progressiveEls=null;var n=this._data,r=e.getData(),o=this.group,s=dQ(e,r,t,a);n||o.removeAll(),r.diff(n).add(function(t){d0(a,null,t,s(t,i),e,o,r)}).remove(function(t){var a=n.getItemGraphicEl(t);a&&(0,dN.applyLeaveTransition)(a,dL(a).option,e)}).update(function(t,l){d0(a,n.getItemGraphicEl(l),t,s(t,i),e,o,r)}).execute();var l=e.get("clip",!0)?(0,na.createClipPath)(e.coordinateSystem,!1,e):null;l?o.setClipPath(l):o.removeClipPath(),this._data=r},t.prototype.incrementalPrepareRender=function(e,t,a){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,t,a,i,n){var r=t.getData(),o=dQ(t,r,a,i),s=this._progressiveEls=[];function l(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var u=e.start;u<e.end;u++){var d=d0(null,null,u,o(u,n),t,this.group,r);d&&(d.traverse(l),s.push(d))}},t.prototype.eachRendered=function(e){g.traverseElements(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,t,a,i){var n=t.element;if(null==n||a.name===n)return!0;for(;(a=a.__hostTarget||a.parent)&&a!==this.group;)if(a.name===n)return!0;return!1},t.type="custom",t}(ts.default);function dK(e){var t,a=e.type;if("path"===a){var i=e.shape,n=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,r=d9(i);dL(t=g.makePath(r,null,n,i.layout||"center")).customPathData=r}else if("image"===a)dL(t=new uj.Image({})).customImagePath=e.style.image;else if("text"===a)t=new ay.Text({});else if("group"===a)t=new N.Group;else if("compoundPath"===a){var i=e.shape;if(!i||!i.paths){var o="";(0,ue.throwError)(o)}var s=(0,u.map)(i.paths,function(e){if("path"===e.type)return g.makePath(e.shape.pathData,e,null);var t=g.getShapeClass(e.type);return t||(0,ue.throwError)(""),new t});t=new z.default({shape:{paths:s}})}else{var l=g.getShapeClass(a);if(!l){var o="";(0,ue.throwError)(o)}t=new l}return dL(t).customGraphicType=a,t.name=e.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function dJ(e,t,a,i,n,r,o){(0,dR.stopPreviousKeyframeAnimationAndRestore)(t);var s=n&&n.normal.cfg;s&&t.setTextConfig(s),i&&null==i.transition&&(i.transition=dY);var l=i&&i.style;if(l){"text"===t.type&&((0,u.hasOwn)(l,"textFill")&&(l.fill=l.textFill),(0,u.hasOwn)(l,"textStroke")&&(l.stroke=l.textStroke));var d=void 0,c=dZ(t)?l.decal:null;e&&c&&(c.dirty=!0,d=(0,e1.createOrUpdatePatternFromDecal)(c,e)),l.__decalPattern=d}if(dj(t)&&l){var d=l.__decalPattern;d&&(l.decal=d)}(0,dN.applyUpdateTransition)(t,i,r,{dataIndex:a,isInit:o,clearStyle:!0}),(0,dR.applyKeyframeAnimation)(t,i.keyframeAnimation,r)}function d$(e,t,a,i,n){var r=t.isGroup?null:t,o=n&&n[e].cfg;if(r){var s=r.ensureState(e);if(!1===i){var l=r.getState(e);l&&(l.style=null)}else s.style=i||null;o&&(s.textConfig=o),(0,V.setDefaultStateProxy)(r)}}function dQ(e,t,a,i){var n,r,o,s,l=e.get("renderItem");if("string"==typeof l){var d=(0,dO.getCustomSeries)(l);d&&(l=d)}var c=e.coordinateSystem,p={};c&&(p=c.prepareCustoms?c.prepareCustoms(c):dU[c.type](c));for(var h=(0,u.defaults)({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(e,a){return null==a&&(a=o),t.getStore().get(t.getDimensionIndex(e||0),a)},style:function(a,i){null==i&&(i=o);var n=t.getItemVisual(i,"style"),r=n&&n.fill,s=n&&n.opacity,l=S(i,dV).getItemStyle();null!=r&&(l.fill=r),null!=s&&(l.opacity=s);var d={inheritColor:(0,u.isString)(r)?r:tm.default.color.neutral99},c=w(i,dV),p=eQ.createTextStyle(c,null,d,!1,!0);p.text=c.getShallow("show")?(0,u.retrieve2)(e.getFormattedLabel(i,dV),(0,ns.getDefaultLabel)(t,i)):null;var h=eQ.createTextConfig(c,d,!1);return I(a,l),l=(0,dE.convertToEC4StyleForCustomSerise)(l,p,h),a&&M(l,a),l.legacy=!0,l},ordinalRawValue:function(e,a){null==a&&(a=o),e=e||0;var i=t.getDimensionInfo(e);if(!i){var n=t.getDimensionIndex(e);return n>=0?t.getStore().get(n,a):void 0}var r=t.get(i.name,a),s=i&&i.ordinalMeta;return s?s.categories[r]:r},styleEmphasis:function(a,i){null==i&&(i=o);var n=S(i,dz).getItemStyle(),r=w(i,dz),s=eQ.createTextStyle(r,null,null,!0,!0);s.text=r.getShallow("show")?(0,u.retrieve3)(e.getFormattedLabel(i,dz),e.getFormattedLabel(i,dV),(0,ns.getDefaultLabel)(t,i)):null;var l=eQ.createTextConfig(r,null,!0);return I(a,n),n=(0,dE.convertToEC4StyleForCustomSerise)(n,s,l),a&&M(n,a),n.legacy=!0,n},visual:function(e,a){if(null==a&&(a=o),(0,u.hasOwn)(dI,e)){var i=t.getItemVisual(a,"style");return i?i[dI[e]]:null}if((0,u.hasOwn)(dA,e))return t.getItemVisual(a,e)},barLayout:function(e){if("cartesian2d"===c.type){var t=c.getBaseAxis();return(0,i4.getLayoutOnAxis)((0,u.defaults)({axis:t},e))}},currentSeriesIndices:function(){return a.getCurrentSeriesIndices()},font:function(e){return eQ.getFont(e,a)}},p.api||{}),g={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:p.coordSys,dataInsideLength:t.count(),encode:(n=e.getData(),r={},(0,u.each)(n.dimensions,function(e){var t=n.getDimensionInfo(e);if(!t.isExtraCoord){var a=t.coordDim;(r[a]=r[a]||[])[t.coordDimIndex]=n.getDimensionIndex(e)}}),r),itemPayload:e.get("itemPayload")||{}},f={},y={},m={},v={},x=0;x<dF.length;x++){var _=dF[x];m[_]=e.getModel(dH[_]),v[_]=e.getModel(dW[_])}function b(e){return e===o?s||(s=t.getItemModel(e)):t.getItemModel(e)}function S(e,a){return t.hasItemOption?e===o?f[a]||(f[a]=b(e).getModel(dH[a])):b(e).getModel(dH[a]):m[a]}function w(e,a){return t.hasItemOption?e===o?y[a]||(y[a]=b(e).getModel(dW[a])):b(e).getModel(dW[a]):v[a]}return function(e,a){return o=e,s=null,f={},y={},l&&l((0,u.defaults)({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:a?a.type:null},g),h)};function M(e,t){for(var a in t)(0,u.hasOwn)(t,a)&&(e[a]=t[a])}function I(e,t){e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}}function d0(e,t,a,i,n,r,o){if(!i)return void r.remove(t);var s=d1(e,t,a,i,n,r);return s&&o.setItemGraphicEl(a,s),s&&(0,V.toggleHoverEmphasis)(s,i.focus,i.blurScope,i.emphasisDisabled),s}function d1(e,t,a,i,n,r){var o,s=-1,l=t;t&&d2(t,i,n)&&(s=(0,u.indexOf)(r.childrenRef(),t),t=null);var d=!t,c=t;c?c.clearStates():(c=dK(i),l&&((o=c).copyTransform(l),dj(o)&&dj(l)&&(o.setStyle(l.style),o.z=l.z,o.z2=l.z2,o.zlevel=l.zlevel,o.invisible=l.invisible,o.ignore=l.ignore,dZ(o)&&dZ(l)&&o.setShape(l.shape)))),!1===i.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),i.tooltipDisabled&&(c.tooltipDisabled=!0),dX.normal.cfg=dX.normal.conOpt=dX.emphasis.cfg=dX.emphasis.conOpt=dX.blur.cfg=dX.blur.conOpt=dX.select.cfg=dX.select.conOpt=null,dX.isLegacy=!1,function(e,t,a,i,n,r){if(!e.isGroup&&"compoundPath"!==e.type){d3(a,null,r),d3(a,dz,r);var o=r.normal.conOpt,s=r.emphasis.conOpt,l=r.blur.conOpt,u=r.select.conOpt;if(null!=o||null!=s||null!=u||null!=l){var d=e.getTextContent();if(!1===o)d&&e.removeTextContent();else{o=r.normal.conOpt=o||{type:"text"},d?d.clearStates():(d=dK(o),e.setTextContent(d)),dJ(null,d,t,o,null,i,n);for(var c=o&&o.style,p=0;p<dF.length;p++){var h=dF[p];if(h!==dV){var g=r[h].conOpt;d$(h,d,g,d4(o,g,h),null)}}c?d.dirty():d.markRedraw()}}}}(c,a,i,n,d,dX),function(e,t,a,i,n){var r=a.clipPath;if(!1===r)e&&e.getClipPath()&&e.removeClipPath();else if(r){var o=e.getClipPath();o&&d2(o,r,i)&&(o=null),o||(o=dK(r),e.setClipPath(o)),dJ(null,o,t,r,null,i,n)}}(c,a,i,n,d),dJ(e,c,a,i,dX,n,d),(0,u.hasOwn)(i,"info")&&(dL(c).info=i.info);for(var p=0;p<dF.length;p++){var h=dF[p];if(h!==dV){var g=d5(i,h),f=d4(i,g,h);d$(h,c,g,f,dX)}}var y=c;if(!y.isGroup){var m=n.currentZ,v=n.currentZLevel;y.z=m,y.zlevel=v;var x=i.z2;null!=x&&(y.z2=x||0);for(var _=0;_<dF.length;_++)!function(e,t,a){var i=a===dV,n=i?t:d5(t,a),r=n?n.z2:null;null!=r&&((i?e:e.ensureState(a)).z2=r||0)}(y,i,dF[_])}return"group"===i.type&&function(e,t,a,i,n){var r=i.children,o=r?r.length:0,s=i.$mergeChildren,l="byName"===s||i.diffChildrenByName,u=!1===s;if(o||l||u){if(l){return g={api:e,oldChildren:t.children()||[],newChildren:r||[],dataIndex:a,seriesModel:n,group:t},new ov.default(g.oldChildren,g.newChildren,d6,d6,g).add(d7).update(d7).remove(d8).execute()}u&&t.removeAll();for(var d=0;d<o;d++){var c=r[d],p=t.childAt(d);c?(null==c.ignore&&(c.ignore=!1),d1(e,p,a,c,n,t)):p.ignore=!0}for(var h=t.childCount()-1;h>=d;h--){var g,f,y,m,v=t.childAt(h);f=t,y=v,m=n,y&&(0,dN.applyLeaveTransition)(y,dL(f).option,m)}}}(e,c,a,i,n),s>=0?r.replaceAt(c,s):r.add(c),c}function d2(e,t,a){var i,n=dL(e),r=t.type,o=t.shape,s=t.style;return a.isUniversalTransitionEnabled()||null!=r&&r!==n.customGraphicType||"path"===r&&(i=o)&&((0,u.hasOwn)(i,"pathData")||(0,u.hasOwn)(i,"d"))&&d9(o)!==n.customPathData||"image"===r&&(0,u.hasOwn)(s,"image")&&s.image!==n.customImagePath}function d3(e,t,a){var i=t?d5(e,t):e,n=t?d4(e,i,dz):e.style,r=e.type,o=i?i.textConfig:null,s=e.textContent,l=s?t?d5(s,t):s:null;if(n&&(a.isLegacy||(0,dE.isEC4CompatibleStyle)(n,r,!!o,!!l))){a.isLegacy=!0;var u=(0,dE.convertFromEC4CompatibleStyle)(n,r,!t);!o&&u.textConfig&&(o=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var d=l;d.type||(d.type="text")}var c=t?a[t]:a.normal;c.cfg=o,c.conOpt=l}function d5(e,t){return t?e?e[t]:null:e}function d4(e,t,a){var i=t&&t.style;return null==i&&a===dz&&e&&(i=e.styleEmphasis),i}function d6(e,t){var a=e&&e.name;return null!=a?a:"e\0\0"+t}function d7(e,t){var a=this.context,i=null!=e?a.newChildren[e]:null,n=null!=t?a.oldChildren[t]:null;d1(a.api,n,a.dataIndex,i,a.seriesModel,a.group)}function d8(e){var t=this.context,a=t.oldChildren[e];a&&(0,dN.applyLeaveTransition)(a,dL(a).option,t.seriesModel)}function d9(e){return e&&(e.pathData||e.d)}var ce=e.i(74972),ct=e.i(65698),ca=e.i(18328),ci=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,s.__extends)(t,e),t.prototype.makeElOption=function(e,t,a,i,n){var r=a.axis;"angle"===r.dim&&(this.animationThreshold=Math.PI/18);var o=r.polar,s=o.getOtherAxis(r).getExtent(),l=r.dataToCoord(t),u=i.get("type");if(u&&"none"!==u){var d=ca.buildElStyle(i),c=cn[u](r,o,l,s);c.style=d,e.graphicKey=c.type,e.pointer=c}var p=function(e,t,a,i,n){var r,o,s,l=t.axis,u=l.dataToCoord(e),d=i.getAngleAxis().getExtent()[0];d=d/180*Math.PI;var c=i.getRadiusAxis().getExtent();if("radius"===l.dim){var p=Z.create();Z.rotate(p,p,d),Z.translate(p,p,[i.cx,i.cy]),r=g.applyTransform([u,-n],p);var h=t.getModel("axisLabel").get("rotate")||0,f=rP.default.innerTextLayout(d,h*Math.PI/180,-1);o=f.textAlign,s=f.textVerticalAlign}else{var y=c[1];r=i.coordToPoint([y+n,u]);var m=i.cx,v=i.cy;o=Math.abs(r[0]-m)/y<.3?"center":r[0]>m?"left":"right",s=Math.abs(r[1]-v)/y<.3?"middle":r[1]>v?"top":"bottom"}return{position:r,align:o,verticalAlign:s}}(t,a,0,o,i.get(["label","margin"]));ca.buildLabelElOption(e,a,i,n,p)},t}(ct.default),cn={line:function(e,t,a,i){return"angle"===e.dim?{type:"Line",shape:ca.makeLineShape(t.coordToPoint([i[0],a]),t.coordToPoint([i[1],a]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:a}}},shadow:function(e,t,a,i){var n=Math.max(1,e.getBandWidth()),r=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:ca.makeSectorShape(t.cx,t.cy,i[0],i[1],(-a-n/2)*r,(-a+n/2)*r)}:{type:"Sector",shape:ca.makeSectorShape(t.cx,t.cy,a-n/2,a+n/2,0,2*Math.PI)}}},cr=e.i(90617),co=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.findAxisModel=function(e){var t;return this.ecModel.eachComponent(e,function(e){e.getCoordSysModel()===this&&(t=e)},this),t},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(tS.default),cs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,s.__extends)(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",h.SINGLE_REFERRING).models[0]},t.type="polarAxis",t}(tS.default);u.mixin(cs,rL.AxisModelCommonMixin);var cl=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.type="angleAxis",t}(cs),cu=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.type="radiusAxis",t}(cs),cd=function(e){function t(t,a){return e.call(this,"radius",t,a)||this}return(0,s.__extends)(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)[+("radius"!==this.dim)]},t}(rN.default);cd.prototype.dataToRadius=rN.default.prototype.dataToCoord,cd.prototype.radiusToData=rN.default.prototype.coordToData;var cc=(0,h.makeInner)(),cp=function(e){function t(t,a){return e.call(this,"angle",t,a||[0,360])||this}return(0,s.__extends)(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)[+("radius"!==this.dim)]},t.prototype.calculateCategoryInterval=function(){var e=this.getLabelModel(),t=this.scale,a=t.getExtent(),i=t.count();if(a[1]-a[0]<1)return 0;var n=a[0],r=Math.abs(this.dataToCoord(n+1)-this.dataToCoord(n)),o=Math.max(ab.getBoundingRect(null==n?"":n+"",e.getFont(),"center","top").height,7)/r;isNaN(o)&&(o=1/0);var s=Math.max(0,Math.floor(o)),l=cc(this.model),u=l.lastAutoInterval,d=l.lastTickCount;return null!=u&&null!=d&&1>=Math.abs(u-s)&&1>=Math.abs(d-i)&&u>s?s=u:(l.lastTickCount=i,l.lastAutoInterval=s),s},t}(rN.default);cp.prototype.dataToAngle=rN.default.prototype.dataToCoord,cp.prototype.angleToData=rN.default.prototype.coordToData;var ch=["radius","angle"],cg=function(){function e(e){this.dimensions=ch,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new cd,this._angleAxis=new cp,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},e.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},e.prototype.getAxis=function(e){return this["_"+e+"Axis"]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(e){var t=[],a=this._angleAxis,i=this._radiusAxis;return a.scale.type===e&&t.push(a),i.scale.type===e&&t.push(i),t},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},e.prototype.dataToPoint=function(e,t,a){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)],a)},e.prototype.pointToData=function(e,t,a){a=a||[];var i=this.pointToCoord(e);return a[0]=this._radiusAxis.radiusToData(i[0],t),a[1]=this._angleAxis.angleToData(i[1],t),a},e.prototype.pointToCoord=function(e){var t=e[0]-this.cx,a=e[1]-this.cy,i=this.getAngleAxis(),n=i.getExtent(),r=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);i.inverse?r=o-360:o=r+360;var s=Math.sqrt(t*t+a*a);t/=s;for(var l=Math.atan2(-(a/=s),t)/Math.PI*180,u=l<r?1:-1;l<r||l>o;)l+=360*u;return[s,l]},e.prototype.coordToPoint=function(e,t){t=t||[];var a=e[0],i=e[1]/180*Math.PI;return t[0]=Math.cos(i)*a+this.cx,t[1]=-Math.sin(i)*a+this.cy,t},e.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var a=e.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-a[0]*i,endAngle:-a[1]*i,clockwise:e.inverse,contain:function(e,t){var a=e-this.cx,i=t-this.cy,n=a*a+i*i,r=this.r,o=this.r0;return r!==o&&n-1e-4<=r*r&&n+1e-4>=o*o},x:this.cx-t[1],y:this.cy-t[1],width:2*t[1],height:2*t[1]}},e.prototype.convertToPixel=function(e,t,a){return cf(t)===this?this.dataToPoint(a):null},e.prototype.convertFromPixel=function(e,t,a){return cf(t)===this?this.pointToData(a):null},e}();function cf(e){var t=e.seriesModel,a=e.polarModel;return a&&a.coordinateSystem||t&&t.coordinateSystem}function cy(e,t){var a=this,i=a.getAngleAxis(),n=a.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),n.scale.setExtent(1/0,-1/0),e.eachSeries(function(e){if(e.coordinateSystem===a){var t=e.getData();u.each((0,lv.getDataDimensionsOnAxis)(t,"radius"),function(e){n.scale.unionExtentFromData(t,e)}),u.each((0,lv.getDataDimensionsOnAxis)(t,"angle"),function(e){i.scale.unionExtentFromData(t,e)})}}),(0,lv.niceScaleExtent)(i.scale,i.model),(0,lv.niceScaleExtent)(n.scale,n.model),"category"===i.type&&!i.onBand){var r=i.getExtent(),o=360/i.scale.count();i.inverse?r[1]+=o:r[1]-=o,i.setExtent(r[0],r[1])}}function cm(e,t){var a;if(e.type=t.get("type"),e.scale=(0,lv.createScaleByModel)(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType){e.inverse=e.inverse!==t.get("clockwise");var i=t.get("startAngle"),n=null!=(a=t.get("endAngle"))?a:i+(e.inverse?-360:360);e.setExtent(i,n)}t.axis=e,e.model=t}let cv={dimensions:ch,create:function(e,t){var a=[];return e.eachComponent("polar",function(e,i){var n,r,o,s,l,d,c=new cg(i+"");c.update=cy;var p=c.getRadiusAxis(),h=c.getAngleAxis(),g=e.findAxisModel("radiusAxis"),f=e.findAxisModel("angleAxis");cm(p,g),cm(h,f),n=e.get("center"),r=(0,tR.createBoxLayoutReference)(e,t).refContainer,c.cx=(0,tL.parsePercent)(n[0],r.width)+r.x,c.cy=(0,tL.parsePercent)(n[1],r.height)+r.y,o=c.getRadiusAxis(),s=Math.min(r.width,r.height)/2,null==(l=e.get("radius"))?l=[0,"100%"]:u.isArray(l)||(l=[0,l]),d=[(0,tL.parsePercent)(l[0],s),(0,tL.parsePercent)(l[1],s)],o.inverse?o.setExtent(d[1],d[0]):o.setExtent(d[0],d[1]),a.push(c),e.coordinateSystem=c,c.model=e}),e.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var t=e.getReferringComponents("polar",h.SINGLE_REFERRING).models[0];e.coordinateSystem=t.coordinateSystem}}),a}};var cx=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function c_(e,t,a){t[1]>t[0]&&(t=t.slice().reverse());var i=e.coordToPoint([t[0],a]),n=e.coordToPoint([t[1],a]);return{x1:i[0],y1:i[1],x2:n[0],y2:n[1]}}function cb(e){return+!e.getRadiusAxis().inverse}function cS(e){var t=e[0],a=e[e.length-1];t&&a&&1e-4>Math.abs(Math.abs(t.coord-a.coord)-360)&&e.pop()}var cw=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.axisPointerClass="PolarAxisPointer",a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var a=e.axis,i=a.polar,n=i.getRadiusAxis().getExtent(),r=a.getTicksCoords({breakTicks:"none"}),o=a.getMinorTicksCoords(),s=u.map(a.getViewLabels(),function(e){e=u.clone(e);var t=a.scale,i="ordinal"===t.type?t.getRawOrdinalNumber(e.tickValue):e.tickValue;return e.coord=a.dataToCoord(i),e});cS(s),cS(r),u.each(cx,function(t){e.get([t,"show"])&&(!a.scale.isBlank()||"axisLine"===t)&&cM[t](this.group,e,i,r,o,n,s)},this)}},t.type="angleAxis",t}(ce.default),cM={axisLine:function(e,t,a,i,n,r){var o,s=t.getModel(["axisLine","lineStyle"]),l=a.getAngleAxis(),u=Math.PI/180,d=l.getExtent(),c=cb(a),p=+!c,h=360===Math.abs(d[1]-d[0])?"Circle":"Arc";(o=0===r[p]?new rw[h]({shape:{cx:a.cx,cy:a.cy,r:r[c],startAngle:-d[0]*u,endAngle:-d[1]*u,clockwise:l.inverse},style:s.getLineStyle(),z2:1,silent:!0}):new rw.Ring({shape:{cx:a.cx,cy:a.cy,r:r[c],r0:r[p]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,e.add(o)},axisTick:function(e,t,a,i,n,r){var o=t.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=r[cb(a)],d=u.map(i,function(e){return new rw.Line({shape:c_(a,[l,l+s],e.coord)})});e.add(rw.mergePath(d,{style:u.defaults(o.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,a,i,n,r){if(n.length){for(var o=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),d=r[cb(a)],c=[],p=0;p<n.length;p++)for(var h=0;h<n[p].length;h++)c.push(new rw.Line({shape:c_(a,[d,d+l],n[p][h].coord)}));e.add(rw.mergePath(c,{style:u.defaults(s.getModel("lineStyle").getLineStyle(),u.defaults(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,a,i,n,r,o){var s=t.getCategories(!0),l=t.getModel("axisLabel"),d=l.get("margin"),c=t.get("triggerEvent");u.each(o,function(i,n){var o=l,p=i.tickValue,h=r[cb(a)],g=a.coordToPoint([h+d,i.coord]),f=a.cx,y=a.cy,m=Math.abs(g[0]-f)/h<.3?"center":g[0]>f?"left":"right",v=Math.abs(g[1]-y)/h<.3?"middle":g[1]>y?"top":"bottom";if(s&&s[p]){var x=s[p];u.isObject(x)&&x.textStyle&&(o=new tw.default(x.textStyle,l,l.ecModel))}var _=new rw.Text({silent:rP.default.isLabelSilent(t),style:(0,eQ.createTextStyle)(o,{x:g[0],y:g[1],fill:o.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:i.formattedLabel,align:m,verticalAlign:v})});if(e.add(_),rw.setTooltipConfig({el:_,componentModel:t,itemName:i.formattedLabel,formatterParamsExtra:{isTruncated:function(){return _.isTruncated},value:i.rawLabel,tickIndex:n}}),c){var b=rP.default.makeAxisEventDataBase(t);b.targetType="axisLabel",b.value=i.rawLabel,(0,e0.getECData)(_).eventData=b}},this)},splitLine:function(e,t,a,i,n,r){var o=t.getModel("splitLine").getModel("lineStyle"),s=o.get("color"),l=0;s=s instanceof Array?s:[s];for(var d=[],c=0;c<i.length;c++){var p=l++%s.length;d[p]=d[p]||[],d[p].push(new rw.Line({shape:c_(a,r,i[c].coord)}))}for(var c=0;c<d.length;c++)e.add(rw.mergePath(d[c],{style:u.defaults({stroke:s[c%s.length]},o.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,a,i,n,r){if(n.length){for(var o=t.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<n.length;l++)for(var u=0;u<n[l].length;u++)s.push(new rw.Line({shape:c_(a,r,n[l][u].coord)}));e.add(rw.mergePath(s,{style:o.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,a,i,n,r){if(i.length){var o=t.getModel("splitArea").getModel("areaStyle"),s=o.get("color"),l=0;s=s instanceof Array?s:[s];for(var d=[],c=Math.PI/180,p=-i[0].coord*c,h=Math.min(r[0],r[1]),g=Math.max(r[0],r[1]),f=t.get("clockwise"),y=1,m=i.length;y<=m;y++){var v=y===m?i[0].coord:i[y].coord,x=l++%s.length;d[x]=d[x]||[],d[x].push(new rw.Sector({shape:{cx:a.cx,cy:a.cy,r0:h,r:g,startAngle:p,endAngle:-v*c,clockwise:f},silent:!0})),p=-v*c}for(var y=0;y<d.length;y++)e.add(rw.mergePath(d[y],{style:u.defaults({fill:s[y%s.length]},o.getAreaStyle()),silent:!0}))}}},cI=["splitLine","splitArea","minorSplitLine"],cA=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.axisPointerClass="PolarAxisPointer",a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){if(this.group.removeAll(),e.get("show")){var i,n,r,o=this._axisGroup,s=this._axisGroup=new rw.Group;this.group.add(s);var l=e.axis,d=l.polar,c=d.getAngleAxis(),p=l.getTicksCoords(),h=l.getMinorTicksCoords(),g=c.getExtent()[0],f=l.getExtent(),y=(i=d,n=e,r=g,{position:[i.cx,i.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}),m=new rP.default(e,a,y);m.build(),s.add(m.group),rw.groupTransition(o,s,e),u.each(cI,function(t){e.get([t,"show"])&&!l.scale.isBlank()&&cL[t](this.group,e,d,g,f,p,h)},this)}},t.type="radiusAxis",t}(ce.default),cL={splitLine:function(e,t,a,i,n,r){var o=t.getModel("splitLine").getModel("lineStyle"),s=o.get("color"),l=0,d=a.getAngleAxis(),c=Math.PI/180,p=d.getExtent(),h=360===Math.abs(p[1]-p[0])?"Circle":"Arc";s=s instanceof Array?s:[s];for(var g=[],f=0;f<r.length;f++){var y=l++%s.length;g[y]=g[y]||[],g[y].push(new rw[h]({shape:{cx:a.cx,cy:a.cy,r:Math.max(r[f].coord,0),startAngle:-p[0]*c,endAngle:-p[1]*c,clockwise:d.inverse}}))}for(var f=0;f<g.length;f++)e.add(rw.mergePath(g[f],{style:u.defaults({stroke:s[f%s.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,a,i,n,r,o){if(o.length){for(var s=t.getModel("minorSplitLine").getModel("lineStyle"),l=[],d=0;d<o.length;d++)for(var c=0;c<o[d].length;c++)l.push(new rw.Circle({shape:{cx:a.cx,cy:a.cy,r:o[d][c].coord}}));e.add(rw.mergePath(l,{style:u.defaults({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(e,t,a,i,n,r){if(r.length){var o=t.getModel("splitArea").getModel("areaStyle"),s=o.get("color"),l=0;s=s instanceof Array?s:[s];for(var d=[],c=r[0].coord,p=1;p<r.length;p++){var h=l++%s.length;d[h]=d[h]||[],d[h].push(new rw.Sector({shape:{cx:a.cx,cy:a.cy,r0:c,r:r[p].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=r[p].coord}for(var p=0;p<d.length;p++)e.add(rw.mergePath(d[p],{style:u.defaults({fill:s[p%s.length]},o.getAreaStyle()),silent:!0}))}}},cT=e.i(50285);function cC(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function cD(e,t){return t.dim+e.model.componentIndex}let cP=function(e,t,a){var i,n,r,o={},s=(i=u.filter(t.getSeriesByType(e),function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type}),n={},u.each(i,function(e,t){var a=e.getData(),i=e.coordinateSystem,r=i.getBaseAxis(),o=cD(i,r),s=r.getExtent(),l="category"===r.type?r.getBandWidth():Math.abs(s[1]-s[0])/a.count(),u=n[o]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=u.stacks;n[o]=u;var c=cC(e);!d[c]&&u.autoWidthCount++,d[c]=d[c]||{width:0,maxWidth:0};var p=(0,tL.parsePercent)(e.get("barWidth"),l),h=(0,tL.parsePercent)(e.get("barMaxWidth"),l),g=e.get("barGap"),f=e.get("barCategoryGap");p&&!d[c].width&&(p=Math.min(u.remainedWidth,p),d[c].width=p,u.remainedWidth-=p),h&&(d[c].maxWidth=h),null!=g&&(u.gap=g),null!=f&&(u.categoryGap=f)}),r={},u.each(n,function(e,t){r[t]={};var a,i=e.stacks,n=e.bandWidth,o=(0,tL.parsePercent)(e.categoryGap,n),s=(0,tL.parsePercent)(e.gap,1),l=e.remainedWidth,d=e.autoWidthCount,c=(l-o)/(d+(d-1)*s);c=Math.max(c,0),u.each(i,function(e,t){var a=e.maxWidth;a&&a<c&&(a=Math.min(a,l),e.width&&(a=Math.min(a,e.width)),l-=a,e.width=a,d--)}),c=Math.max(c=(l-o)/(d+(d-1)*s),0);var p=0;u.each(i,function(e,t){e.width||(e.width=c),a=e,p+=e.width*(1+s)}),a&&(p-=a.width*s);var h=-p/2;u.each(i,function(e,a){r[t][a]=r[t][a]||{offset:h,width:e.width},h+=e.width*(1+s)})}),r);t.eachSeriesByType(e,function(e){if("polar"===e.coordinateSystem.type){var t=e.getData(),a=e.coordinateSystem,i=a.getBaseAxis(),n=cD(a,i),r=cC(e),l=s[n][r],u=l.offset,d=l.width,c=a.getOtherAxis(i),p=e.coordinateSystem.cx,h=e.coordinateSystem.cy,g=e.get("barMinHeight")||0,f=e.get("barMinAngle")||0;o[r]=o[r]||[];for(var y=t.mapDimension(c.dim),m=t.mapDimension(i.dim),v=(0,cT.isDimensionStacked)(t,y),x="radius"!==i.dim||!e.get("roundCap",!0),_=c.model.get("startValue"),b=c.dataToCoord(_||0),S=0,w=t.count();S<w;S++){var M=t.get(y,S),I=t.get(m,S),A=M>=0?"p":"n",L=b;v&&(o[r][I]||(o[r][I]={p:b,n:b}),L=o[r][I][A]);var T=void 0,C=void 0,D=void 0,P=void 0;if("radius"===c.dim){var k=c.dataToCoord(M)-b,E=i.dataToCoord(I);Math.abs(k)<g&&(k=(k<0?-1:1)*g),T=L,C=L+k,P=(D=E-u)-d,v&&(o[r][I][A]=C)}else{var N=c.dataToCoord(M,x)-b,R=i.dataToCoord(I);Math.abs(N)<f&&(N=(N<0?-1:1)*f),C=(T=R+u)+d,D=L,P=L+N,v&&(o[r][I][A]=P)}t.setItemLayout(S,{cx:p,cy:h,r0:T,r:C,startAngle:-D*Math.PI/180,endAngle:-P*Math.PI/180,clockwise:D>=P})}}})};var ck={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},cE={splitNumber:5},cN=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.type="polar",t}(tG.default);function cR(e,t){t=t||{};var a=e.coordinateSystem,i=e.axis,n={},r=i.position,o=i.orient,s=a.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],d={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};n.position=["vertical"===o?d.vertical[r]:l[0],"horizontal"===o?d.horizontal[r]:l[3]],n.rotation=Math.PI/2*({horizontal:0,vertical:1})[o],n.labelDirection=n.tickDirection=n.nameDirection=({top:-1,bottom:1,right:1,left:-1})[r],e.get(["axisTick","inside"])&&(n.tickDirection=-n.tickDirection),u.retrieve(t.labelInside,e.get(["axisLabel","inside"]))&&(n.labelDirection=-n.labelDirection);var c=e.get(["axisLabel","rotate"]);return n.labelRotate="top"===r?-c:c,n.z2=1,n}var cO=e.i(44871),cz=e.i(49716),cV=["splitArea","splitLine","breakArea"],cG=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.axisPointerClass="SingleAxisPointer",a}return(0,s.__extends)(t,e),t.prototype.render=function(t,a,i,n){var r=this.group;r.removeAll();var o=this._axisGroup;this._axisGroup=new N.Group;var s=cR(t),l=new rP.default(t,i,s);l.build(),r.add(this._axisGroup),r.add(l.group),u.each(cV,function(e){t.get([e,"show"])&&cB[e](this,this.group,this._axisGroup,t,i)},this),g.groupTransition(o,this._axisGroup,t),e.prototype.render.call(this,t,a,i,n)},t.prototype.remove=function(){(0,cO.rectCoordAxisHandleRemove)(this)},t.type="singleAxis",t}(ce.default),cB={splitLine:function(e,t,a,i,n){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color");l=l instanceof Array?l:[l];for(var d=s.get("width"),c=i.coordinateSystem.getRect(),p=r.isHorizontal(),h=[],f=0,y=r.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),m=[],v=[],x=0;x<y.length;++x){var _=r.toGlobalCoord(y[x].coord);p?(m[0]=_,m[1]=c.y,v[0]=_,v[1]=c.y+c.height):(m[0]=c.x,m[1]=_,v[0]=c.x+c.width,v[1]=_);var b=new sh.Line({shape:{x1:m[0],y1:m[1],x2:v[0],y2:v[1]},silent:!0});g.subPixelOptimizeLine(b.shape,d);var S=f++%l.length;h[S]=h[S]||[],h[S].push(b)}for(var w=s.getLineStyle(["color"]),x=0;x<h.length;++x)t.add(g.mergePath(h[x],{style:u.defaults({stroke:l[x%l.length]},w),silent:!0}))}},splitArea:function(e,t,a,i,n){(0,cO.rectCoordAxisBuildSplitArea)(e,a,i,i)},breakArea:function(e,t,a,i,n){var r=(0,cz.getAxisBreakHelper)(),o=i.axis.scale;r&&"ordinal"!==o.type&&r.rectCoordBuildBreakAxis(t,e,i,i.coordinateSystem.getRect(),n)}},cF=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},t}(tS.default);(0,u.mixin)(cF,rL.AxisModelCommonMixin.prototype);var cH=function(e){function t(t,a,i,n,r){var o=e.call(this,t,a,i)||this;return o.type=n||"value",o.position=r||"bottom",o}return(0,s.__extends)(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,t){return this.coordinateSystem.pointToData(e)[0]},t}(rN.default),cW=["single"],cY=function(){function e(e,t,a){this.type="single",this.dimension="single",this.dimensions=cW,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,a)}return e.prototype._init=function(e,t,a){var i=new cH(this.dimension,lv.createScaleByModel(e),[0,0],e.get("type"),e.get("position")),n="category"===i.type;i.onBand=n&&e.get("boundaryGap"),i.inverse=e.get("inverse"),i.orient=e.get("orient"),e.axis=i,i.model=e,i.coordinateSystem=this,this._axis=i},e.prototype.update=function(e,t){e.eachSeries(function(e){if(e.coordinateSystem===this){var t=e.getData();(0,u.each)(t.mapDimensionsAll(this.dimension),function(e){this._axis.scale.unionExtentFromData(t,e)},this),lv.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},e.prototype.resize=function(e,t){var a=(0,tR.createBoxLayoutReference)(e,t).refContainer;this._rect=(0,tR.getLayoutRect)(e.getBoxLayoutParams(),a),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,a=t.isHorizontal(),i=a?[0,e.width]:[0,e.height],n=+!!t.inverse;t.setExtent(i[n],i[1-n]),this._updateAxisTransform(t,a?e.x:e.y)},e.prototype._updateAxisTransform=function(e,t){var a=e.getExtent(),i=a[0]+a[1],n=e.isHorizontal();e.toGlobalCoord=n?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord=n?function(e){return e-t}:function(e){return i-e+t}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(e){var t=this.getRect(),a=this.getAxis();return"horizontal"===a.orient?a.contain(a.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:a.contain(a.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},e.prototype.pointToData=function(e,t,a){a=a||[];var i=this.getAxis();return a[0]=i.coordToData(i.toLocalCoord(e[+("horizontal"!==i.orient)])),a},e.prototype.dataToPoint=function(e,t,a){var i=this.getAxis(),n=this.getRect();a=a||[];var r=+("horizontal"!==i.orient);return e instanceof Array&&(e=e[0]),a[r]=i.toGlobalCoord(i.dataToCoord(+e)),a[1-r]=0===r?n.y+n.height/2:n.x+n.width/2,a},e.prototype.convertToPixel=function(e,t,a){return cX(t)===this?this.dataToPoint(a):null},e.prototype.convertFromPixel=function(e,t,a){return cX(t)===this?this.pointToData(a):null},e}();function cX(e){var t=e.seriesModel,a=e.singleAxisModel;return a&&a.coordinateSystem||t&&t.coordinateSystem}let cU={create:function(e,t){var a=[];return e.eachComponent("singleAxis",function(i,n){var r=new cY(i,e,t);r.name="single_"+n,r.resize(i,t),i.coordinateSystem=r,a.push(r)}),e.eachSeries(function(e){if("singleAxis"===e.get("coordinateSystem")){var t=e.getReferringComponents("singleAxis",h.SINGLE_REFERRING).models[0];e.coordinateSystem=t&&t.coordinateSystem}}),a},dimensions:cW};var cZ=["x","y"],cj=["width","height"],cq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,s.__extends)(t,e),t.prototype.makeElOption=function(e,t,a,i,n){var r=a.axis,o=r.coordinateSystem,s=c$(o,1-cJ(r)),l=o.dataToPoint(t)[0],u=i.get("type");if(u&&"none"!==u){var d=ca.buildElStyle(i),c=cK[u](r,l,s);c.style=d,e.graphicKey=c.type,e.pointer=c}var p=cR(a);ca.buildCartesianSingleLabelElOption(t,e,p,a,i,n)},t.prototype.getHandleTransform=function(e,t,a){var i=cR(t,{labelInside:!1});i.labelMargin=a.get(["handle","margin"]);var n=ca.getTransformedPosition(t.axis,e,i);return{x:n[0],y:n[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,a,i){var n=a.axis,r=n.coordinateSystem,o=cJ(n),s=c$(r,o),l=[e.x,e.y];l[o]+=t[o],l[o]=Math.min(s[1],l[o]),l[o]=Math.max(s[0],l[o]);var u=c$(r,1-o),d=(u[1]+u[0])/2,c=[d,d];return c[o]=l[o],{x:l[0],y:l[1],rotation:e.rotation,cursorPoint:c,tooltipOption:{verticalAlign:"middle"}}},t}(ct.default),cK={line:function(e,t,a){return{type:"Line",subPixelOptimize:!0,shape:ca.makeLineShape([t,a[0]],[t,a[1]],cJ(e))}},shadow:function(e,t,a){var i=e.getBandWidth(),n=a[1]-a[0];return{type:"Rect",shape:ca.makeRectShape([t-i/2,a[0]],[i,n],cJ(e))}}};function cJ(e){return+!e.isHorizontal()}function c$(e,t){var a=e.getRect();return[a[cZ[t]],a[cZ[t]]+a[cj[t]]]}var cQ=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.type="single",t}(tG.default),c0=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.init=function(t,a,i){var n=(0,tR.getLayoutParams)(t);e.prototype.init.apply(this,arguments),c1(t,n)},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),c1(this.option,t)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.layoutMode="box",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:tm.default.color.axisLine,width:1,type:"solid"}},itemStyle:{color:tm.default.color.neutral00,borderWidth:1,borderColor:tm.default.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:tm.default.size.s,color:tm.default.color.secondary},monthLabel:{show:!0,position:"start",margin:tm.default.size.s,align:"center",formatter:null,color:tm.default.color.secondary},yearLabel:{show:!0,position:null,margin:tm.default.size.xl,formatter:null,color:tm.default.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(tS.default);function c1(e,t){var a,i=e.cellSize;1===(a=u.isArray(i)?i:e.cellSize=[i,i]).length&&(a[1]=a[0]);var n=u.map([0,1],function(e){return(0,tR.sizeCalculable)(t,e)&&(a[e]="auto"),null!=a[e]&&"auto"!==a[e]});(0,tR.mergeLayoutParam)(e,t,{type:"box",ignoreSize:n})}var c2=e.i(90696),c3=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){var i=this.group;i.removeAll();var n=e.coordinateSystem,r=n.getRangeInfo(),o=n.getOrient(),s=t.getLocaleModel();this._renderDayRect(e,r,i),this._renderLines(e,r,o,i),this._renderYearText(e,r,o,i),this._renderMonthText(e,s,o,i),this._renderWeekText(e,s,r,o,i)},t.prototype._renderDayRect=function(e,t,a){for(var i=e.coordinateSystem,n=e.getModel("itemStyle").getItemStyle(),r=i.getCellWidth(),o=i.getCellHeight(),s=t.start.time;s<=t.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToCalendarLayout([s],!1).tl,u=new k.Rect({shape:{x:l[0],y:l[1],width:r,height:o},cursor:"default",style:n});a.add(u)}},t.prototype._renderLines=function(e,t,a,i){var n=this,r=e.coordinateSystem,o=e.getModel(["splitLine","lineStyle"]).getLineStyle(),s=e.get(["splitLine","show"]),l=o.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=t.start,d=0;u.time<=t.end.time;d++){p(u.formatedDate),0===d&&(u=r.getDateInfo(t.start.y+"-"+t.start.m));var c=u.date;c.setMonth(c.getMonth()+1),u=r.getDateInfo(c)}function p(t){n._firstDayOfMonth.push(r.getDateInfo(t)),n._firstDayPoints.push(r.dataToCalendarLayout([t],!1).tl);var l=n._getLinePointsOfOneWeek(e,t,a);n._tlpoints.push(l[0]),n._blpoints.push(l[l.length-1]),s&&n._drawSplitline(l,o,i)}p(r.getNextNDay(t.end.time,1).formatedDate),s&&this._drawSplitline(n._getEdgesPoints(n._tlpoints,l,a),o,i),s&&this._drawSplitline(n._getEdgesPoints(n._blpoints,l,a),o,i)},t.prototype._getEdgesPoints=function(e,t,a){var i=[e[0].slice(),e[e.length-1].slice()],n=+("horizontal"!==a);return i[0][n]=i[0][n]-t/2,i[1][n]=i[1][n]+t/2,i},t.prototype._drawSplitline=function(e,t,a){var i=new R.Polyline({z2:20,shape:{points:e},style:t});a.add(i)},t.prototype._getLinePointsOfOneWeek=function(e,t,a){for(var i=e.coordinateSystem,n=i.getDateInfo(t),r=[],o=0;o<7;o++){var s=i.getNextNDay(n.time,o),l=i.dataToCalendarLayout([s.time],!1);r[2*s.day]=l.tl,r[2*s.day+1]=l["horizontal"===a?"bl":"tr"]}return r},t.prototype._formatterLabel=function(e,t){return(0,u.isString)(e)&&e?(0,ag.formatTplSimple)(e,t):(0,u.isFunction)(e)?e(t):t.nameMap},t.prototype._yearTextPositionControl=function(e,t,a,i,n){var r=t[0],o=t[1],s=["center","bottom"];"bottom"===i?(o+=n,s=["center","top"]):"left"===i?r-=n:"right"===i?(r+=n,s=["center","top"]):o-=n;var l=0;return("left"===i||"right"===i)&&(l=Math.PI/2),{rotation:l,x:r,y:o,style:{align:s[0],verticalAlign:s[1]}}},t.prototype._renderYearText=function(e,t,a,i){var n=e.getModel("yearLabel");if(n.get("show")){var r=n.get("margin"),o=n.get("position");o||(o="horizontal"!==a?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,d=+("horizontal"!==a),c={top:[l,s[d][1]],bottom:[l,s[1-d][1]],left:[s[1-d][0],u],right:[s[d][0],u]},p=t.start.y;+t.end.y>+t.start.y&&(p=p+"-"+t.end.y);var h=n.get("formatter"),g={start:t.start.y,end:t.end.y,nameMap:p},f=this._formatterLabel(h,g),y=new ay.Text({z2:30,style:(0,eQ.createTextStyle)(n,{text:f}),silent:n.get("silent")});y.attr(this._yearTextPositionControl(y,c[o],a,o,r)),i.add(y)}},t.prototype._monthTextPositionControl=function(e,t,a,i,n){var r="left",o="top",s=e[0],l=e[1];return"horizontal"===a?(l+=n,t&&(r="center"),"start"===i&&(o="bottom")):(s+=n,t&&(o="middle"),"start"===i&&(r="right")),{x:s,y:l,align:r,verticalAlign:o}},t.prototype._renderMonthText=function(e,t,a,i){var n=e.getModel("monthLabel");if(n.get("show")){var r=n.get("nameMap"),o=n.get("margin"),s=n.get("position"),l=n.get("align"),d=[this._tlpoints,this._blpoints];(!r||(0,u.isString)(r))&&(r&&(t=(0,c2.getLocaleModel)(r)||t),r=t.get(["time","monthAbbr"])||[]);var c=+("start"!==s),p=+("horizontal"!==a);o="start"===s?-o:o;for(var h="center"===l,g=n.get("silent"),f=0;f<d[c].length-1;f++){var y=d[c][f].slice(),m=this._firstDayOfMonth[f];if(h){var v=this._firstDayPoints[f];y[p]=(v[p]+d[0][f+1][p])/2}var x=n.get("formatter"),_=r[m.m-1],b={yyyy:m.y,yy:(m.y+"").slice(2),MM:m.m,M:+m.m,nameMap:_},S=this._formatterLabel(x,b),w=new ay.Text({z2:30,style:(0,u.extend)((0,eQ.createTextStyle)(n,{text:S}),this._monthTextPositionControl(y,h,a,s,o)),silent:g});i.add(w)}}},t.prototype._weekTextPositionControl=function(e,t,a,i,n){var r="center",o="middle",s=e[0],l=e[1],u="start"===a;return"horizontal"===t?(s=s+i+(u?1:-1)*n[0]/2,r=u?"right":"left"):(l=l+i+(u?1:-1)*n[1]/2,o=u?"bottom":"top"),{x:s,y:l,align:r,verticalAlign:o}},t.prototype._renderWeekText=function(e,t,a,i,n){var r=e.getModel("dayLabel");if(r.get("show")){var o=e.coordinateSystem,s=r.get("position"),l=r.get("nameMap"),d=r.get("margin"),c=o.getFirstDayOfWeek();(!l||(0,u.isString)(l))&&(l&&(t=(0,c2.getLocaleModel)(l)||t),l=t.get(["time","dayOfWeekShort"])||(0,u.map)(t.get(["time","dayOfWeekAbbr"]),function(e){return e[0]}));var p=o.getNextNDay(a.end.time,7-a.lweek).time,h=[o.getCellWidth(),o.getCellHeight()];d=(0,tL.parsePercent)(d,Math.min(h[1],h[0])),"start"===s&&(p=o.getNextNDay(a.start.time,-(7+a.fweek)).time,d=-d);for(var g=r.get("silent"),f=0;f<7;f++){var y=o.getNextNDay(p,f),m=o.dataToCalendarLayout([y.time],!1).center,v=f;v=Math.abs((f+c)%7);var x=new ay.Text({z2:30,style:(0,u.extend)((0,eQ.createTextStyle)(r,{text:l[v]}),this._weekTextPositionControl(m,i,s,d,h)),silent:g});n.add(x)}}},t.type="calendar",t}(tG.default),c5=M,c4=function(){function e(t,a,i){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t,this._update(a,i)}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(e){var t=(e=tL.parseDate(e)).getFullYear(),a=e.getMonth()+1,i=a<10?"0"+a:""+a,n=e.getDate(),r=n<10?"0"+n:""+n,o=e.getDay();return{y:t+"",m:i,d:r,day:o=Math.abs((o+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+i+"-"+r,date:e}},e.prototype.getNextNDay=function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},e.prototype._update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var a=this._rangeInfo.weeks||1,i=["width","height"],n=this._model.getCellSize().slice(),r=this._model.getBoxLayoutParams(),o="horizontal"===this._orient?[a,7]:[7,a];u.each([0,1],function(e){d(n,e)&&(r[i[e]]=n[e]*o[e])});var s={width:t.getWidth(),height:t.getHeight()},l=this._rect=tR.getLayoutRect(r,s);function d(e,t){return null!=e[t]&&"auto"!==e[t]}u.each([0,1],function(e){d(n,e)||(n[e]=l[i[e]]/o[e])}),this._sw=n[0],this._sh=n[1]},e.prototype.dataToPoint=function(e,t,a){a=a||[],u.isArray(e)&&(e=e[0]),null==t&&(t=!0);var i=this.getDateInfo(e),n=this._rangeInfo,r=i.formatedDate;if(t&&!(i.time>=n.start.time&&i.time<n.end.time+864e5))return a[0]=a[1]=NaN,a;var o=i.day,s=this._getRangeInfo([n.start.time,r]).nthWeek;return"vertical"===this._orient?(a[0]=this._rect.x+o*this._sw+this._sw/2,a[1]=this._rect.y+s*this._sh+this._sh/2):(a[0]=this._rect.x+s*this._sw+this._sw/2,a[1]=this._rect.y+o*this._sh+this._sh/2),a},e.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},e.prototype.dataToLayout=function(e,t,a){var i=(a=a||{}).rect=a.rect||{},n=a.contentRect=a.contentRect||{},r=this.dataToPoint(e,t);return i.x=r[0]-this._sw/2,i.y=r[1]-this._sh/2,i.width=this._sw,i.height=this._sh,c5.default.copy(n,i),(0,g.expandOrShrinkRect)(n,this._lineWidth/2,!0,!0),a},e.prototype.dataToCalendarLayout=function(e,t){var a=this.dataToPoint(e,t);return{center:a,tl:[a[0]-this._sw/2,a[1]-this._sh/2],tr:[a[0]+this._sw/2,a[1]-this._sh/2],br:[a[0]+this._sw/2,a[1]+this._sh/2],bl:[a[0]-this._sw/2,a[1]+this._sh/2]}},e.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,a=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(a,t-1,i):this._getDateByWeeksAndDay(t,a-1,i)},e.prototype.convertToPixel=function(e,t,a){var i=c6(t);return i===this?i.dataToPoint(a):null},e.prototype.convertToLayout=function(e,t,a){var i=c6(t);return i===this?i.dataToLayout(a):null},e.prototype.convertFromPixel=function(e,t,a){var i=c6(t);return i===this?i.pointToData(a):null},e.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(u.isArray(t)&&1===t.length&&(t=t[0]),u.isArray(t))e=t;else{var a=t.toString();if(/^\d{4}$/.test(a)&&(e=[a+"-01-01",a+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(a)){var i=this.getDateInfo(a),n=i.date;n.setMonth(n.getMonth()+1);var r=this.getNextNDay(n,-1);e=[i.formatedDate,r.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(a)&&(e=[a,a])}if(!e)return t;var o=this._getRangeInfo(e);return o.start.time>o.end.time&&e.reverse(),e},e.prototype._getRangeInfo=function(e){var t,a=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];a[0].time>a[1].time&&(t=!0,a.reverse());var i=Math.floor(a[1].time/864e5)-Math.floor(a[0].time/864e5)+1,n=new Date(a[0].time),r=n.getDate(),o=a[1].date.getDate();n.setDate(r+i-1);var s=n.getDate();if(s!==o)for(var l=n.getTime()-a[1].time>0?1:-1;(s=n.getDate())!==o&&(n.getTime()-a[1].time)*l>0;)i-=l,n.setDate(s-l);var u=Math.floor((i+a[0].day+6)/7),d=t?-u+1:u-1;return t&&a.reverse(),{range:[a[0].formatedDate,a[1].formatedDate],start:a[0],end:a[1],allDay:i,weeks:u,nthWeek:d,fweek:a[0].day,lweek:a[1].day}},e.prototype._getDateByWeeksAndDay=function(e,t,a){var i=this._getRangeInfo(a);if(e>i.weeks||0===e&&t<i.fweek||e===i.weeks&&t>i.lweek)return null;var n=(e-1)*7-i.fweek+t,r=new Date(i.start.time);return r.setDate(+i.start.d+n),this.getDateInfo(r)},e.create=function(t,a){var i=[];return t.eachComponent("calendar",function(n){var r=new e(n,t,a);i.push(r),n.coordinateSystem=r}),t.eachComponent(function(e,t){(0,ty.injectCoordSysByOption)({targetModel:t,coordSysType:"calendar",coordSysProvider:ty.simpleCoordSysInjectionProvider})}),i},e.dimensions=["time","value"],e}();function c6(e){var t=e.calendarModel,a=e.seriesModel;return t?t.coordinateSystem:a?a.coordinateSystem:null}var c7=nN,c8=e.i(57867),c9=e.i(65883),pe={none:0,all:1,body:2,corner:3};function pt(e,t,a){var i=t[g.XY[a]].getCell(e);return!i&&(0,u.isNumber)(e)&&e<0&&(i=t[g.XY[1-a]].getUnitLayoutInfo(a,Math.round(e))),i}function pa(e){var t=e||[];return t[0]=t[0]||[],t[1]=t[1]||[],t[0][0]=t[0][1]=t[1][0]=t[1][1]=NaN,t}function pi(e,t,a,i,n){pn(e[0],t,n,a,i,0),pn(e[1],t,n,a,i,1)}function pn(e,t,a,i,n,r){e[0]=1/0,e[1]=-1/0;var o=i[r],s=(0,u.isArray)(o)?o:[o],l=s.length,d=!!a;if(l>=1?(pr(e,t,s,d,n,r,0),l>1&&pr(e,t,s,d,n,r,l-1)):e[0]=e[1]=NaN,d){var c=-n[g.XY[1-r]].getLocatorCount(r),p=n[g.XY[r]].getLocatorCount(r)-1;a===pe.body?c=(0,tL.mathMax)(0,c):a===pe.corner&&(p=(0,tL.mathMin)(-1,p)),p<c&&(c=p=NaN),(0,u.eqNaN)(e[0])&&(e[0]=c),(0,u.eqNaN)(e[1])&&(e[1]=p),e[0]=(0,tL.mathMax)((0,tL.mathMin)(e[0],p),c),e[1]=(0,tL.mathMax)((0,tL.mathMin)(e[1],p),c)}}function pr(e,t,a,i,n,r,o){var s,l=pt(a[o],n,r);if(!l){e[0]=e[1]=NaN;return}var u=l.id[g.XY[r]],d=u,c=(s=l)&&(2===s.type||3===s.type)?s:null;c&&(d+=c.span[g.XY[r]]-1),e[0]=(0,tL.mathMin)(e[0],u,d),e[1]=(0,tL.mathMax)(e[1],u,d)}function po(e,t){return(0,u.eqNaN)(e[t][0])||(0,u.eqNaN)(e[t][1])}function ps(e,t,a,i){t=t||pl;for(var n=0;n<i;n++)t[n]=!1;for(;;){for(var r=!1,n=0;n<i;n++){var o,s,l=a[n];!t[n]&&l.cellMergeOwner&&(o=e,s=l.locatorRange,pu(o[0],s[0])&&pu(o[1],s[1])&&(o[0][0]=(0,tL.mathMin)(o[0][0],s[0][0]),o[0][1]=(0,tL.mathMax)(o[0][1],s[0][1]),o[1][0]=(0,tL.mathMin)(o[1][0],s[1][0]),o[1][1]=(0,tL.mathMax)(o[1][1],s[1][1]),1))&&(t[n]=!0,r=!0)}if(!r)break}}var pl=[];function pu(e,t){return e[1]>=t[0]&&e[0]<=t[1]}function pd(e,t){e.id.set(t[0][0],t[1][0]),e.span.set(t[0][1]-e.id.x+1,t[1][1]-e.id.y+1)}function pc(e,t,a,i){var n=pt(t[i][0],a,i),r=pt(t[i][1],a,i);e[g.XY[i]]=e[g.WH[i]]=NaN,n&&r&&(e[g.XY[i]]=n.xy,e[g.WH[i]]=r.xy+r.wh-n.xy)}function pp(e,t,a,i){return e[g.XY[t]]=a,e[g.XY[1-t]]=i,e}function ph(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var pg=function(){function e(e,t){this._cells=[],this._levels=[],this.dim=e,this.dimIdx=+("x"!==e),this._model=t,this._uniqueValueGen=(i=RegExp("^"+(a=e.toUpperCase())+"([0-9]+)$"),n=0,{calcDupBase:function(e){var t;null!=e&&(t=e.match(i))&&(n=(0,tL.mathMax)(n,+t[1]+1))},ensureValueUnique:function(e,t){for(var i=(0,u.createHashMap)(),r=0;r<e.length;r++){var o=e[r];(null==o||null!=i.get(o))&&(e[r]=o=""+a+n++,t[r].option=(0,u.defaults)({value:o},t[r].option)),i.set(o,!0)}}});var a,i,n,r=t.get("data",!0);null==r||(0,u.isArray)(r)||(r=[]),r?this._initByDimModelData(r):this._initBySeriesData()}return e.prototype._initByDimModelData=function(e){var t=this,a=t._cells,i=t._levels,n=[],r=0;t._leavesCount=function e(a,o,s){var l=0;return a&&(0,u.each)(a,function(a,d){(0,u.isString)(a)?c={value:a}:(0,u.isObject)(a)?(c=a,null==a.value||(0,u.isString)(a.value)||(c={value:null})):c={value:null};var c,p={type:3,ordinal:NaN,level:s,firstLeafLocator:o,id:new c7.default,span:pp(new c7.default,t.dimIdx,1,1),option:c,xy:NaN,wh:NaN,dim:t,rect:ph()};r++,(n[o]||(n[o]=[])).push(p),i[s]||(i[s]={type:1,xy:NaN,wh:NaN,option:null,id:new c7.default,dim:t});var h=Math.max(1,e(c.children,o,s+1));p.span[g.XY[t.dimIdx]]=h,l+=h,o+=h}),l}(e,0,0),function(){for(var e=[];a.length<r;)for(var i=0;i<n.length;i++){var o=n[i].pop();if(o){o.ordinal=e.length;var s=o.option.value;e.push(s),a.push(o),t._uniqueValueGen.calcDupBase(s)}}t._uniqueValueGen.ensureValueUnique(e,a);var l=t._ordinalMeta=new c8.default({categories:e,needCollect:!1,deduplication:!1});t._scale=new c9.default({ordinalMeta:l});for(var u=0;u<t._leavesCount;u++){var d=t._cells[u];d.type=2,d.span[g.XY[1-t.dimIdx]]=t._levels.length-d.level}t._initCellsId(),t._initLevelIdOptions()}()},e.prototype._initBySeriesData=function(){var e=this;e._leavesCount=0,e._levels=[{type:1,xy:NaN,wh:NaN,option:null,id:new c7.default,dim:e}],e._initLevelIdOptions();var t=e._ordinalMeta=new c8.default({needCollect:!0,deduplication:!0,onCollect:function(t,a){var i=e._cells[a]={type:2,ordinal:a,level:0,firstLeafLocator:a,id:new c7.default,span:pp(new c7.default,e.dimIdx,1,1),option:{value:t+""},xy:NaN,wh:NaN,dim:e,rect:ph()};e._leavesCount++,e._setCellId(i)}});e._scale=new c9.default({ordinalMeta:t})},e.prototype._setCellId=function(e){var t=this._levels.length,a=this.dimIdx;pp(e.id,a,e.firstLeafLocator,e.level-t)},e.prototype._initCellsId=function(){var e=this._levels.length,t=this.dimIdx;(0,u.each)(this._cells,function(a){pp(a.id,t,a.firstLeafLocator,a.level-e)})},e.prototype._initLevelIdOptions=function(){var e=this._levels.length,t=this.dimIdx,a=this._model.get("levels",!0);a=(0,u.isArray)(a)?a:[],(0,u.each)(this._levels,function(i,n){pp(i.id,t,0,n-e),i.option=a[n]})},e.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},e.prototype.resetLayoutIterator=function(e,t,a,i){if(e=e||new h.ListIterator,t===this.dimIdx){var n=this._leavesCount,r=null!=a?Math.max(0,a):0;i=null!=i?Math.min(i,n):n,e.reset(this._cells,r,r+i)}else{var n=this._levels.length,r=null!=a?Math.max(0,a+n):0;i=null!=i?Math.min(i,n):n,e.reset(this._levels,r,r+i)}return e},e.prototype.resetCellIterator=function(e){return(e||new h.ListIterator).reset(this._cells,0)},e.prototype.resetLevelIterator=function(e){return(e||new h.ListIterator).reset(this._levels,0)},e.prototype.getLayout=function(e,t,a){var i=this.getUnitLayoutInfo(t,a);e[g.XY[t]]=i?i.xy:NaN,e[g.WH[t]]=i?i.wh:NaN},e.prototype.getUnitLayoutInfo=function(e,t){return e===this.dimIdx?t<this._leavesCount?this._cells[t]:void 0:this._levels[t+this._levels.length]},e.prototype.getCell=function(e){var t=this._scale.parse(e);return(0,u.eqNaN)(t)?void 0:this._cells[t]},e.prototype.getLocatorCount=function(e){return e===this.dimIdx?this._leavesCount:this._levels.length},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e}(),pf=nN,py=function(){function e(e,t,a){this._model=t,this._dims=a,this._kind=e,this._cellMergeOwnerList=[]}return e.prototype._ensureCellMap=function(){var e=this,t=e._cellMap;return t||(t=e._cellMap=(0,u.createHashMap)(),function(){var t=[],i=e._model.getShallow("data");i&&!(0,u.isArray)(i)&&(i=null),(0,u.each)(i,function(a,i){if((0,u.isObject)(a)&&(0,u.isArray)(a.coord)){var n=pa([]);if(pi(n,null,a.coord,e._dims,a.coordClamp?pe[e._kind]:pe.none),!(po(n,0)||po(n,1))){var r=a&&a.mergeCells,o={id:new pf.default,span:new pf.default,locatorRange:n,option:a,cellMergeOwner:r};pd(o,n),t.push(o)}}});for(var n=[],r=0;r<t.length;r++){var o=t[r];if(o.cellMergeOwner){var s=o.locatorRange;ps(s,n,t,r);for(var l=0;l<r;l++)n[l]&&(t[l].cellMergeOwner=!1);if(s[0][0]!==o.id.x||s[1][0]!==o.id.y){o.cellMergeOwner=!1;var d=(0,u.extend)({},o.option);d.coord=null;var c={id:new pf.default,span:new pf.default,locatorRange:s,option:d,cellMergeOwner:!0};pd(c,s),t.push(c)}}}(0,u.each)(t,function(t){var i=a(t.id.x,t.id.y);if(t.cellMergeOwner&&(i.cellMergeOwner=!0,i.span=t.span,i.locatorRange=t.locatorRange,i.spanRect=ph(),e._cellMergeOwnerList.push(i)),t.cellMergeOwner||t.option)for(var n=0;n<t.span.y;n++)for(var r=0;r<t.span.x;r++){var o=a(t.id.x+r,t.id.y+n);o.option=t.option,t.cellMergeOwner&&(o.inSpanOf=i)}})}()),t;function a(e,a){var i=e+"|"+a,n=t.get(i);return n||(n=t.set(i,{id:new pf.default(e,a),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),n}},e.prototype.getCell=function(e){var t;return this._ensureCellMap().get((t=e[0],t+"|"+e[1]))},e.prototype.travelExistingCells=function(e){this._ensureCellMap().each(e)},e.prototype.expandRangeByCellMerge=function(e){if(!po(e,0)&&!po(e,1)&&e[0][0]===e[0][1]&&e[1][0]===e[1][1]){pm[0]=e[0][0],pm[1]=e[1][0];var t,a=this.getCell(pm),i=a&&a.inSpanOf;if(i)return void(t=i.locatorRange,e[0][0]=t[0][0],e[0][1]=t[0][1],e[1][0]=t[1][0],e[1][1]=t[1][1])}var n=this._cellMergeOwnerList;ps(e,null,n,n.length)},e}(),pm=[],pv={show:!0,color:tm.default.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function px(e){return{color:"none",borderWidth:1,borderColor:e?"none":tm.default.color.borderTint}}var p_={show:!0,label:pv,itemStyle:px(!1),silent:void 0,dividerLineStyle:{width:1,color:tm.default.color.border}},pb={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:p_,y:p_,body:{label:pv,itemStyle:px(!1),silent:void 0},corner:{label:pv,itemStyle:px(!0),silent:void 0},backgroundStyle:{color:"none",borderColor:tm.default.color.axisLine,borderWidth:1}},pS=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.optionUpdated=function(){var e=this._dimModels={x:new pw(this.get("x",!0)||{}),y:new pw(this.get("y",!0)||{})};e.x.option.type=e.y.option.type="category";var t={x:e.x.dim=new pg("x",e.x),y:e.y.dim=new pg("y",e.y)};this._body=new py("body",new tw.default(this.getShallow("body")),t),this._corner=new py("corner",new tw.default(this.getShallow("corner")),t)},t.prototype.getDimensionModel=function(e){return this._dimModels[e]},t.prototype.getBody=function(){return this._body},t.prototype.getCorner=function(){return this._corner},t.type="matrix",t.layoutMode="box",t.defaultOption=pb,t}(tS.default),pw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,s.__extends)(t,e),t.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},t}(tw.default),pM=M,pI=e.i(25194),pA=Math.round,pL={normal:25,special:100},pT={normal:50,special:125},pC=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t){this.group.removeAll();var a=this.group,i=e.coordinateSystem.getRect(),n=e.getDimensionModel("x"),r=e.getDimensionModel("y"),o=n.dim,s=r.dim;(function(e,t,a){function i(i){var n=t.getDimensionModel(g.XY[i]),r=n.dim;if(r.shouldShow())for(var o=n.getModel("itemStyle"),s=n.getModel("label"),l=t.getShallow("tooltip",!0),u=[],d=r.resetCellIterator();d.next();){var c=d.item,p={};pM.default.copy(p,c.rect),eS.set(u,c.id.x,c.id.y),pD(u,t,e,a,c.option,o,s,n,p,c.option.value,pT,l)}}i(0),i(1)})(a,e,t),function(e,t,a,i,n){function r(a,i,r,o){var s=new tw.default(t.getShallow(a,!0)),l=s.getModel("itemStyle"),u=s.getModel("label"),d=new h.ListIterator,c=new h.ListIterator,p=[],g=t.getShallow("tooltip",!0);for(o.resetLayoutIterator(c,1);c.next();)for(r.resetLayoutIterator(d,0);d.next();){var f=d.item,y=c.item;eS.set(p,f.id.x,y.id.y);var m=i.getCell(p);if(!m||!m.inSpanOf||m.inSpanOf===m){var v={};m&&m.span?pM.default.copy(v,m.spanRect):(f.dim.getLayout(v,0,p[0]),y.dim.getLayout(v,1,p[1]));var x=m?m.option:null;pD(p,t,e,n,x,l,u,s,v,x?x.value:null,pL,g)}}}r("body",t.getBody(),a,i),a.shouldShow()&&i.shouldShow()&&r("corner",t.getCorner(),i,a)}(a,e,o,s,t);var l=e.getShallow("borderZ2",!0),d=(0,u.retrieve2)(l,99),c=d-1,p=e.getModel("backgroundStyle").getItemStyle(["borderWidth"]);p.lineWidth=0;var f=e.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);f.fill="none";var y=pR(i.clone(),p,0),m=pR(i.clone(),f,d);y.silent=!0,m.silent=!0,a.add(y),a.add(m);var v=o.getUnitLayoutInfo(0,0),x=s.getUnitLayoutInfo(1,0);v&&x&&(o.shouldShow()&&a.add(pO({x1:i.x,y1:x.xy,x2:i.x+i.width,y2:x.xy},n.getModel("dividerLineStyle").getLineStyle(),c)),s.shouldShow()&&a.add(pO({x1:v.xy,y1:i.y,x2:v.xy,y2:i.y+i.height},r.getModel("dividerLineStyle").getLineStyle(),c)))},t.type="matrix",t}(tG.default);function pD(e,t,a,i,n,r,o,s,l,d,c,p){pk.option=n?n.itemStyle:null,pk.parentModel=r,pP.option=n,pP.parentModel=s;var f,y,m=(0,u.retrieve2)(pP.getShallow("z2"),n&&n.itemStyle?c.special:c.normal),v=p&&p.show,x=pR(l,pk.getItemStyle(),m);a.add(x);var _=pP.get("cursor");if(null!=_&&x.attr("cursor",_),null!=d){var b=d+"";if(pE.option=n?n.label:null,pE.parentModel=o,pE.ecModel=i,(0,eQ.setLabelStyle)(x,{normal:pE},{defaultText:b,autoOverflowArea:!0,layoutRect:(0,u.clone)(x.shape)}),y=x.getTextContent()){y.z2=m+1;var S=y.style;if(S&&S.overflow&&"none"!==S.overflow&&S.lineOverflow){var w={};pM.default.copy(w,l),(0,g.expandOrShrinkRect)(w,((null==(f=x.style)?void 0:f.lineWidth)||0)/2,!0,!0),x.updateInnerText(),y.getLocalTransform(pN),(0,Z.invert)(pN,pN),pM.default.applyTransform(w,w,pN),y.setClipPath(new k.Rect({shape:w}))}}(0,g.setTooltipConfig)({el:x,componentModel:t,itemName:b,itemTooltipOption:p,formatterParamsExtra:{xyLocator:e.slice()}})}if(y){var M=pE.get("silent");null==M&&(M=!v),y.silent=M,y.ignoreHostSilent=!0}var I=pP.get("silent");null==I&&(I=!x.style||"none"===x.style.fill||!x.style.fill),x.silent=I,(0,h.clearTmpModel)(pP),(0,h.clearTmpModel)(pk),(0,h.clearTmpModel)(pE)}var pP=new tw.default,pk=new tw.default,pE=new tw.default,pN=[];function pR(e,t,a){var i=t.lineWidth;if(i){var n=e.x+e.width,r=e.y+e.height;e.x=(0,pI.subPixelOptimize)(e.x,i,!0),e.y=(0,pI.subPixelOptimize)(e.y,i,!0),e.width=(0,pI.subPixelOptimize)(n,i,!0)-e.x,e.height=(0,pI.subPixelOptimize)(r,i,!0)-e.y}return new k.Rect({shape:e,style:t,z2:a})}function pO(e,t,a){var i=t.lineWidth;return i&&(pA(2*e.x1)===pA(2*e.x2)&&(e.x1=e.x2=(0,pI.subPixelOptimize)(e.x1,i,!0)),pA(2*e.y1)===pA(2*e.y2)&&(e.y1=e.y2=(0,pI.subPixelOptimize)(e.y1,i,!0))),new sh.Line({shape:e,style:t,silent:!0,z2:a})}var pz=function(){function e(t,a,i){this.dimensions=e.dimensions,this.type="matrix",this._model=t;var n=this._dimModels={x:t.getDimensionModel("x"),y:t.getDimensionModel("y")};this._dims={x:n.x.dim,y:n.y.dim},this._resize(t,i)}return e.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},e.create=function(t,a){var i=[];return t.eachComponent("matrix",function(n){var r=new e(n,t,a);i.push(r),n.coordinateSystem=r}),t.eachComponent(function(e,t){(0,ty.injectCoordSysByOption)({targetModel:t,coordSysType:"matrix",coordSysProvider:ty.simpleCoordSysInjectionProvider})}),i},e.prototype.getRect=function(){return this._rect},e.prototype._resize=function(e,t){var a=this._dims,i=this._dimModels,n=this._rect=(0,tR.getLayoutRect)(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});pF(i,a,n,0),pF(i,a,n,1),pH(0,a),pH(1,a),pW(this._model.getBody(),a),pW(this._model.getCorner(),a)},e.prototype.dataToPoint=function(e,t,a){return a=a||[],this.dataToLayout(e,t,pV),a[0]=pV.rect.x+pV.rect.width/2,a[1]=pV.rect.y+pV.rect.height/2,a},e.prototype.dataToLayout=function(e,t,a){var i=this._dims,n=(a=a||{}).rect=a.rect||{};n.x=n.y=n.width=n.height=NaN;var r=a.matrixXYLocatorRange=pa(a.matrixXYLocatorRange);return(0,u.isArray)(e)&&(pi(r,null,e,i,(0,u.retrieve2)(t&&t.clamp,pe.none)),t&&t.ignoreMergeCells||(t&&t.clamp===pe.corner||this._model.getBody().expandRangeByCellMerge(r),t&&t.clamp===pe.body||this._model.getCorner().expandRangeByCellMerge(r)),pc(n,r,i,0),pc(n,r,i,1)),a},e.prototype.pointToData=function(e,t,a){var i=this._dims;return pq(pj,0,i,e,t&&t.clamp),pq(pj,1,i,e,t&&t.clamp),(a=a||[])[0]=a[1]=NaN,pj.y===pZ.inCorner&&pj.x===pZ.inBody?pK(pj,a,0,i):pj.x===pZ.inCorner&&pj.y===pZ.inBody?pK(pj,a,1,i):(pJ(pj,a,0,i),pJ(pj,a,1,i)),a},e.prototype.convertToPixel=function(e,t,a,i){var n=pU(t);return n===this?n.dataToPoint(a,i):void 0},e.prototype.convertToLayout=function(e,t,a,i){var n=pU(t);return n===this?n.dataToLayout(a,i):void 0},e.prototype.convertFromPixel=function(e,t,a,i){var n=pU(t);return n===this?n.pointToData(a,i):void 0},e.prototype.containPoint=function(e){return this._rect.contain(e[0],e[1])},e.dimensions=["x","y","value"],e}(),pV={rect:ph()},pG=new h.ListIterator,pB=new h.ListIterator;function pF(e,t,a,i){for(var n=1-i,r=t[g.XY[i]],o=t[g.XY[n]],s=o.shouldShow(),l=r.resetCellIterator();l.next();)l.item.wh=l.item.xy=NaN;for(var d=o.resetLayoutIterator(null,i);d.next();)d.item.wh=d.item.xy=NaN;for(var c=a[g.WH[i]],p=r.getLocatorCount(i)+o.getLocatorCount(i),f=new tw.default,y=o.resetLevelIterator();y.next();)f.option=y.item.option,f.parentModel=e[g.XY[n]],x(y.item,s?f.get("levelSize"):0);for(var m=new tw.default,v=r.resetCellIterator();v.next();)2===v.item.type&&(m.option=v.item.option,m.parentModel=void 0,x(v.item,m.get("size")));function x(e,t){var n,r,o,s=(n=t,r=i,o=a,pX((0,tL.parsePositionSizeOption)(n,o[g.WH[r]]),o[g.WH[r]]));!(0,u.eqNaN)(s)&&(e.wh=pX(s,c),c=pX(c-e.wh),p--)}var _=p?c/p:0,b=!p&&c>=1,S=a[g.XY[i]],w=r.getLocatorCount(i)-1,M=new h.ListIterator;for(o.resetLayoutIterator(M,i);M.next();)I(M.item);for(r.resetLayoutIterator(M,i);M.next();)I(M.item);function I(e){(0,u.eqNaN)(e.wh)&&(e.wh=_),e.xy=S,e.id[g.XY[i]]!==w||b||(e.wh=a[g.XY[i]]+a[g.WH[i]]-e.xy),S+=e.wh}}function pH(e,t){for(var a=t[g.XY[e]].resetCellIterator();a.next();){var i=a.item;pY(i.rect,e,i.id,i.span,t),pY(i.rect,1-e,i.id,i.span,t),3===i.type&&(i.xy=i.rect[g.XY[e]],i.wh=i.rect[g.WH[e]])}}function pW(e,t){e.travelExistingCells(function(e){var a=e.span;if(a){var i=e.spanRect,n=e.id;pY(i,0,n,a,t),pY(i,1,n,a,t)}})}function pY(e,t,a,i,n){e[g.WH[t]]=0;var r=a[g.XY[t]]<0?n[g.XY[1-t]]:n[g.XY[t]],o=r.getUnitLayoutInfo(t,a[g.XY[t]]);if(e[g.XY[t]]=o.xy,e[g.WH[t]]=o.wh,i[g.XY[t]]>1){var s=r.getUnitLayoutInfo(t,a[g.XY[t]]+i[g.XY[t]]-1);e[g.WH[t]]=s.xy+s.wh-o.xy}}function pX(e,t){return Math.max(Math.min(e,(0,u.retrieve2)(t,1/0)),0)}function pU(e){var t=e.matrixModel,a=e.seriesModel;return t?t.coordinateSystem:a?a.coordinateSystem:null}var pZ={inBody:1,inCorner:2,outside:3},pj={x:null,y:null,point:[]};function pq(e,t,a,i,n){var r=a[g.XY[t]],o=a[g.XY[1-t]],s=r.getUnitLayoutInfo(t,r.getLocatorCount(t)-1),l=r.getUnitLayoutInfo(t,0),u=o.getUnitLayoutInfo(t,-o.getLocatorCount(t)),d=o.shouldShow()?o.getUnitLayoutInfo(t,-1):null,c=e.point[t]=i[t];if(!l&&!d){e[g.XY[t]]=pZ.outside;return}if(n===pe.body)return void(l?(e[g.XY[t]]=pZ.inBody,c=(0,tL.mathMin)(s.xy+s.wh,(0,tL.mathMax)(l.xy,c)),e.point[t]=c):e[g.XY[t]]=pZ.outside);if(n===pe.corner)return void(d?(e[g.XY[t]]=pZ.inCorner,c=(0,tL.mathMin)(d.xy+d.wh,(0,tL.mathMax)(u.xy,c)),e.point[t]=c):e[g.XY[t]]=pZ.outside);var p=l?l.xy:d?d.xy+d.wh:NaN,h=u?u.xy:p,f=s?s.xy+s.wh:p;if(c<h){if(!n){e[g.XY[t]]=pZ.outside;return}c=h}else if(c>f){if(!n){e[g.XY[t]]=pZ.outside;return}c=f}e.point[t]=c,e[g.XY[t]]=p<=c&&c<=f?pZ.inBody:h<=c&&c<=p?pZ.inCorner:pZ.outside}function pK(e,t,a,i){var n=1-a;if(e[g.XY[a]]!==pZ.outside)for(i[g.XY[a]].resetCellIterator(pB);pB.next();){var r=pB.item;if(p$(e.point[a],r.rect,a)&&p$(e.point[n],r.rect,n)){t[a]=r.ordinal,t[n]=r.id[g.XY[n]];return}}}function pJ(e,t,a,i){if(e[g.XY[a]]!==pZ.outside)for((e[g.XY[a]]===pZ.inCorner?i[g.XY[1-a]]:i[g.XY[a]]).resetLayoutIterator(pG,a);pG.next();){var n,r;if(n=e.point[a],(r=pG.item).xy<=n&&n<=r.xy+r.wh){t[a]=pG.item.id[g.XY[a]];return}}}function p$(e,t,a){return t[g.XY[a]]<=e&&e<=t[g.XY[a]]+t[g.WH[a]]}var pQ=e.i(16508),p0=["rect","polygon","keep","clear"];function p1(e,t){var a=(0,h.normalizeToArray)(e?e.brush:[]);if(a.length){var i,n,r=[];u.each(a,function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];t instanceof Array&&(r=r.concat(t))});var o=e&&e.toolbox;u.isArray(o)&&(o=o[0]),o||(e.toolbox=[o={feature:{}}]);var s=o.feature||(o.feature={}),l=s.brush||(s.brush={}),d=l.type||(l.type=[]);d.push.apply(d,r),i=d,n={},u.each(i,function(e){n[e]=1}),i.length=0,u.each(n,function(e,t){i.push(t)}),t&&!d.length&&d.push.apply(d,p0)}}var p2=M,p3=M,p5={lineX:p4(0),lineY:p4(1),rect:{point:function(e,t,a){return e&&a.boundingRect.contain(e[0],e[1])},rect:function(e,t,a){return e&&a.boundingRect.intersect(e)}},polygon:{point:function(e,t,a){return e&&a.boundingRect.contain(e[0],e[1])&&eI(a.range,e[0],e[1])},rect:function(e,t,a){var i=a.range;if(!e||i.length<=1)return!1;var n=e.x,r=e.y,o=e.width,s=e.height,l=i[0];if(eI(i,n,r)||eI(i,n+o,r)||eI(i,n,r+s)||eI(i,n+o,r+s)||p3.default.create(e).contain(l[0],l[1])||(0,g.linePolygonIntersect)(n,r,n+o,r,i)||(0,g.linePolygonIntersect)(n,r,n,r+s,i)||(0,g.linePolygonIntersect)(n+o,r,n+o,r+s,i)||(0,g.linePolygonIntersect)(n,r+s,n+o,r+s,i))return!0}}};function p4(e){var t=["x","y"],a=["width","height"];return{point:function(t,a,i){if(t){var n=i.range;return p6(t[e],n)}},rect:function(i,n,r){if(i){var o=r.range,s=[i[t[e]],i[t[e]]+i[a[e]]];return s[1]<s[0]&&s.reverse(),p6(s[0],o)||p6(s[1],o)||p6(o[0],s)||p6(o[1],s)}}}}function p6(e,t){return t[0]<=e&&e<=t[1]}var p7=e.i(72998),p8=["inBrush","outOfBrush"],p9="__ecBrushSelect",he="__ecInBrushSelectEvent";function ht(e){e.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new p7.default(t.option,e)).setInputRanges(t.areas,e)})}function ha(e,t,a){var i,n,r=[];e.eachComponent({mainType:"brush"},function(e){a&&"takeGlobalCursor"===a.type&&e.setBrushOption("brush"===a.key?a.brushOption:{brushType:!1})}),ht(e),e.eachComponent({mainType:"brush"},function(t,a){var o={brushId:t.id,brushIndex:a,brushName:t.name,areas:u.clone(t.areas),selected:[]};r.push(o);var s=t.option,l=s.brushLink,d=[],c=[],p=[],h=!1;a||(i=s.throttleType,n=s.throttleDelay);var g=u.map(t.areas,function(e){var t,a,i=hr[e.brushType],n=u.defaults({boundingRect:i?i(e):void 0},e);return t=n.brushType,n.selectors=a={point:function(e){return p5[t].point(e,a,n)},rect:function(e){return p5[t].rect(e,a,n)}},n}),f=ai(t.option,p8,function(e){e.mappingMethod="fixed"});function y(e){return"all"===l||!!d[e]}function m(e){return!!e.length}u.isArray(l)&&u.each(l,function(e){d[e]=1}),e.eachSeries(function(a,i){var n,r,o,s=p[i]=[];"parallel"===a.subType?(n=a,r=i,o=n.coordinateSystem,h=h||o.hasAxisBrushed(),y(r)&&o.eachActiveState(n.getData(),function(e,t){"active"===e&&(c[t]=1)})):function(a,i,n){if(!(!a.brushSelector||(r=t,o=i,null!=(s=r.option.seriesIndex)&&"all"!==s&&(u.isArray(s)?0>u.indexOf(s,o):o!==s)))&&(u.each(g,function(i){t.brushTargetManager.controlSeries(i,a,e)&&n.push(i),h=h||m(n)}),y(i)&&m(n))){var r,o,s,l=a.getData();l.each(function(e){hn(a,n,l,e)&&(c[e]=1)})}}(a,i,s)}),e.eachSeries(function(e,t){var a={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};o.selected.push(a);var i=p[t],n=e.getData(),r=y(t)?function(e){return c[e]?(a.dataIndex.push(n.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(t){return hn(e,i,n,t)?(a.dataIndex.push(n.getRawIndex(t)),"inBrush"):"outOfBrush"};(y(t)?h:m(i))&&function(e,t,a,i,n,r){var o,s={};function l(e){return(0,ae.getItemVisualFromData)(a,o,e)}function d(e,t){(0,ae.setItemVisualFromData)(a,o,e,t)}u.each(e,function(e){var a=tQ.prepareVisualTypes(t[e]);s[e]=a}),a.each(function(e,n){o=e;var r=a.getRawDataItem(o);if(!r||!1!==r.visualMap)for(var u=i.call(void 0,e),c=t[u],p=s[u],h=0,g=p.length;h<g;h++){var f=p[h];c[f]&&c[f].applyVisual(e,l,d)}})}(p8,f,n,r)})}),function(e,t,a,i,n){if(n){var r=e.getZr();r[he]||(r[p9]||(r[p9]=hi),nt.createOrUpdate(r,p9,a,t)(e,i))}}(t,i,n,r,a)}function hi(e,t){if(!e.isDisposed()){var a=e.getZr();a[he]=!0,e.dispatchAction({type:"brushSelect",batch:t}),a[he]=!1}}function hn(e,t,a,i){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e.brushSelector(i,a,o.selectors,o))return!0}}var hr={rect:function(e){return ho(e.range)},polygon:function(e){for(var t,a=e.range,i=0,n=a.length;i<n;i++){t=t||[[1/0,-1/0],[1/0,-1/0]];var r=a[i];r[0]<t[0][0]&&(t[0][0]=r[0]),r[0]>t[0][1]&&(t[0][1]=r[0]),r[1]<t[1][0]&&(t[1][0]=r[1]),r[1]>t[1][1]&&(t[1][1]=r[1])}return t&&ho(t)}};function ho(e){return new p2.default(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var hs=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new lk.default(t.getZr())).on("brush",u.bind(this._onBrush,this)).mount()},t.prototype.render=function(e,t,a,i){this.model=e,this._updateController(e,t,a,i)},t.prototype.updateTransform=function(e,t,a,i){ht(t),this._updateController(e,t,a,i)},t.prototype.updateVisual=function(e,t,a,i){this.updateTransform(e,t,a,i)},t.prototype.updateView=function(e,t,a,i){this._updateController(e,t,a,i)},t.prototype._updateController=function(e,t,a,i){i&&i.$from===e.id||this._brushController.setPanels(e.brushTargetManager.makePanelOpts(a)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var t=this.model.id,a=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:t,areas:u.clone(a),$from:t}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:u.clone(a),$from:t})},t.type="brush",t}(tG.default),hl=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.areas=[],a.brushOption={},a}return(0,s.__extends)(t,e),t.prototype.optionUpdated=function(e,t){var a=this.option;t||an(a,e,["inBrush","outOfBrush"]);var i=a.inBrush=a.inBrush||{};a.outOfBrush=a.outOfBrush||{color:this.option.defaultOutOfBrushColor},i.hasOwnProperty("liftZ")||(i.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=u.map(e,function(e){return hu(this.option,e)},this))},t.prototype.setBrushOption=function(e){this.brushOption=hu(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:tm.default.color.backgroundTint,borderColor:tm.default.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:tm.default.color.disabled},t}(tS.default);function hu(e,t){return u.merge({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new tw.default(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var hd=e.i(69622),hc=["rect","polygon","lineX","lineY","keep","clear"],hp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){var i,n,r;t.eachComponent({mainType:"brush"},function(e){i=e.brushType,n=e.brushOption.brushMode||"single",r=r||!!e.areas.length}),this._brushType=i,this._brushMode=n,u.each(e.get("type",!0),function(t){e.setIconStatus(t,("keep"===t?"multiple"===n:"clear"===t?r:t===i)?"emphasis":"normal")})},t.prototype.updateView=function(e,t,a){this.render(e,t,a)},t.prototype.getIcons=function(){var e=this.model,t=e.get("icon",!0),a={};return u.each(e.get("type",!0),function(e){t[e]&&(a[e]=t[e])}),a},t.prototype.onclick=function(e,t,a){var i=this._brushType,n=this._brushMode;"clear"===a?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===a?i:i!==a&&a,brushMode:"keep"===a?"multiple"===n?"single":"multiple":n}})},t.getDefaultOption=function(e){return{show:!0,type:hc.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(hd.ToolboxFeature),hh=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.layoutMode="box",a}return(0,s.__extends)(t,e),t.prototype.init=function(e,t,a){this.mergeDefaultAndTheme(e,a),this._initData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,t=this.option,a=t.data||[],i=t.axisType,n=this._names=[];"category"===i?(e=[],(0,u.each)(a,function(t,a){var i,r=(0,h.convertOptionIdName)((0,h.getDataItemValue)(t),"");(0,u.isObject)(t)?(i=(0,u.clone)(t)).value=a:i=a,e.push(i),n.push(r)})):e=a,(this._data=new td.default([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[i]||"number"}],this)).initData(e,n)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:tm.default.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:tm.default.color.secondary},data:[]},t}(tS.default),hg=e.i(7119),hf=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.type="timeline.slider",t.defaultOption=(0,e$.inheritDefaultOption)(hh.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:tm.default.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:tm.default.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:tm.default.color.tertiary},itemStyle:{color:tm.default.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:tm.default.color.accent50,borderColor:tm.default.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:tm.default.color.accent50,borderColor:tm.default.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:tm.default.color.accent60},itemStyle:{color:tm.default.color.accent60,borderColor:tm.default.color.accent60},controlStyle:{color:tm.default.color.accent70,borderColor:tm.default.color.accent70}},progress:{lineStyle:{color:tm.default.color.accent30},itemStyle:{color:tm.default.color.accent40}},data:[]}),t}(hh);(0,u.mixin)(hf,hg.DataFormatMixin.prototype);var hy=M,hm=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.type="timeline",t}(tG.default),hv=function(e){function t(t,a,i,n){var r=e.call(this,t,a,i)||this;return r.type=n||"value",r}return(0,s.__extends)(t,e),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(rN.default),hx=e.i(98015),h_=Math.PI,hb=(0,h.makeInner)(),hS=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.init=function(e,t){this.api=t},t.prototype.render=function(e,t,a){if(this.model=e,this.api=a,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var i=this._layout(e,a),n=this._createGroup("_mainGroup"),r=this._createGroup("_labelGroup"),o=this._axis=this._createAxis(i,e);e.formatTooltip=function(e){var t=o.scale.getLabel({value:e});return(0,tg.createTooltipMarkup)("nameValue",{noName:!0,value:t})},(0,u.each)(["AxisLine","AxisTick","Control","CurrentPointer"],function(t){this["_render"+t](i,n,o,e)},this),this._renderAxisLabel(i,r,o,e),this._position(i,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,t){var a,i,n,r,o,s,l=e.get(["label","position"]),d=e.get("orient"),c=(a=e,i=t,tR.getLayoutRect(a.getBoxLayoutParams(),tR.createBoxLayoutReference(a,i).refContainer,a.get("padding"))),p={horizontal:"center",vertical:(n=null==l||"auto"===l?"horizontal"===d?c.y+c.height/2<t.getHeight()/2?"-":"+":c.x+c.width/2<t.getWidth()/2?"+":"-":(0,u.isString)(l)?({horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}})[d][l]:l)>=0||"+"===n?"left":"right"},h="vertical"===d?c.height:c.width,g=e.getModel("controlStyle"),f=g.get("show",!0),y=f?g.get("itemSize"):0,m=f?g.get("itemGap"):0,v=y+m,x=e.get(["label","rotate"])||0;x=x*h_/180;var _=g.get("position",!0),b=f&&g.get("showPlayBtn",!0),S=f&&g.get("showPrevBtn",!0),w=f&&g.get("showNextBtn",!0),M=0,I=h;"left"===_||"bottom"===_?(b&&(r=[0,0],M+=v),S&&(o=[M,0],M+=v)):(b&&(r=[I-y,0],I-=v),S&&(o=[0,0],M+=v)),w&&(s=[I-y,0],I-=v);var A=[M,I];return e.get("inverse")&&A.reverse(),{viewRect:c,mainLength:h,orient:d,rotation:({horizontal:0,vertical:h_/2})[d],labelRotation:x,labelPosOpt:n,labelAlign:e.get(["label","align"])||p[d],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||({horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"})[d],playPosition:r,prevBtnPosition:o,nextBtnPosition:s,axisExtent:A,controlSize:y,controlGap:m}},t.prototype._position=function(e,t){var a=this._mainGroup,i=this._labelGroup,n=e.viewRect;if("vertical"===e.orient){var r=Z.create(),o=n.x,s=n.y+n.height;Z.translate(r,r,[-o,-s]),Z.rotate(r,r,-h_/2),Z.translate(r,r,[o,s]),(n=n.clone()).applyTransform(r)}var l=m(n),d=m(a.getBoundingRect()),c=m(i.getBoundingRect()),p=[a.x,a.y],h=[i.x,i.y];h[0]=p[0]=l[0][0];var g=e.labelPosOpt;if(null==g||(0,u.isString)(g)){var f=+("+"!==g);v(p,d,l,1,f),v(h,c,l,1,1-f)}else{var f=g>=0?0:1;v(p,d,l,1,f),h[1]=p[1]+g}function y(e){e.originX=l[0][0]-e.x,e.originY=l[1][0]-e.y}function m(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function v(e,t,a,i,n){e[i]+=a[i][n]-t[i][n]}a.setPosition(p),i.setPosition(h),a.rotation=i.rotation=e.rotation,y(a),y(i)},t.prototype._createAxis=function(e,t){var a=t.getData(),i=t.get("axisType"),n=function(e,t){if(t=t||e.get("type"))switch(t){case"category":return new c9.default({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new hx.default({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new rO.default}}(t,i);n.getTicks=function(){return a.mapArray(["value"],function(e){return{value:e}})};var r=a.getDataExtent("value");n.setExtent(r[0],r[1]),n.calcNiceTicks();var o=new hv("value",n,e.axisExtent,i);return o.model=t,o},t.prototype._createGroup=function(e){var t=this[e]=new N.Group;return this.group.add(t),t},t.prototype._renderAxisLine=function(e,t,a,i){var n=a.getExtent();if(i.get(["lineStyle","show"])){var r=new sh.Line({shape:{x1:n[0],y1:0,x2:n[1],y2:0},style:(0,u.extend)({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});t.add(r);var o=this._progressLine=new sh.Line({shape:{x1:n[0],x2:this._currentPointer?this._currentPointer.x:n[0],y1:0,y2:0},style:(0,u.defaults)({lineCap:"round",lineWidth:r.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});t.add(o)}},t.prototype._renderAxisTick=function(e,t,a,i){var n=this,r=i.getData(),o=a.scale.getTicks();this._tickSymbols=[],(0,u.each)(o,function(e){var o=a.dataToCoord(e.value),s=r.getItemModel(e.value),l=s.getModel("itemStyle"),d=s.getModel(["emphasis","itemStyle"]),c=s.getModel(["progress","itemStyle"]),p=hw(s,l,t,{x:o,y:0,onclick:(0,u.bind)(n._changeTimeline,n,e.value)});p.ensureState("emphasis").style=d.getItemStyle(),p.ensureState("progress").style=c.getItemStyle(),(0,V.enableHoverEmphasis)(p);var h=(0,e0.getECData)(p);s.get("tooltip")?(h.dataIndex=e.value,h.dataModel=i):h.dataIndex=h.dataModel=null,n._tickSymbols.push(p)})},t.prototype._renderAxisLabel=function(e,t,a,i){var n=this;if(a.getLabelModel().get("show")){var r=i.getData(),o=a.getViewLabels();this._tickLabels=[],(0,u.each)(o,function(i){var o=i.tickValue,s=r.getItemModel(o),l=s.getModel("label"),d=s.getModel(["emphasis","label"]),c=s.getModel(["progress","label"]),p=a.dataToCoord(i.tickValue),h=new ay.Text({x:p,y:0,rotation:e.labelRotation-e.rotation,onclick:(0,u.bind)(n._changeTimeline,n,o),silent:!1,style:(0,eQ.createTextStyle)(l,{text:i.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});h.ensureState("emphasis").style=(0,eQ.createTextStyle)(d),h.ensureState("progress").style=(0,eQ.createTextStyle)(c),t.add(h),(0,V.enableHoverEmphasis)(h),hb(h).dataIndex=o,n._tickLabels.push(h)})}},t.prototype._renderControl=function(e,t,a,i){var n=e.controlSize,r=e.rotation,o=i.getModel("controlStyle").getItemStyle(),s=i.getModel(["emphasis","controlStyle"]).getItemStyle(),l=i.getPlayState(),d=i.get("inverse",!0);function c(e,a,l,d){if(e){var c,p,h,f,y,m,v=(0,ab.parsePercent)((0,u.retrieve2)(i.get(["controlStyle",a+"BtnSize"]),n),n),x=(c=i,p=a+"Icon",h=[0,-v/2,v,v],y=(f={x:e[0],y:e[1],originX:n/2,originY:0,rotation:d?-r:0,rectHover:!0,style:o,onclick:l}).style,m=g.createIcon(c.get(["controlStyle",p]),f||{},new hy.default(h[0],h[1],h[2],h[3])),y&&m.setStyle(y),m);x.ensureState("emphasis").style=s,t.add(x),(0,V.enableHoverEmphasis)(x)}}c(e.nextBtnPosition,"next",(0,u.bind)(this._changeTimeline,this,d?"-":"+")),c(e.prevBtnPosition,"prev",(0,u.bind)(this._changeTimeline,this,d?"+":"-")),c(e.playPosition,l?"stop":"play",(0,u.bind)(this._handlePlayClick,this,!l),!0)},t.prototype._renderCurrentPointer=function(e,t,a,i){var n=i.getData(),r=i.getCurrentIndex(),o=n.getItemModel(r).getModel("checkpointStyle"),s=this;this._currentPointer=hw(o,o,this._mainGroup,{},this._currentPointer,{onCreate:function(e){e.draggable=!0,e.drift=(0,u.bind)(s._handlePointerDrag,s),e.ondragend=(0,u.bind)(s._handlePointerDragend,s),hM(e,s._progressLine,r,a,i,!0)},onUpdate:function(e){hM(e,s._progressLine,r,a,i)}})},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,t,a){this._clearTimer(),this._pointerChangeTimeline([a.offsetX,a.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,t){var a=this._toAxisCoord(e)[0],i=this._axis,n=tL.asc(i.getExtent().slice());a>n[1]&&(a=n[1]),a<n[0]&&(a=n[0]),this._currentPointer.x=a,this._currentPointer.markRedraw();var r=this._progressLine;r&&(r.shape.x2=a,r.dirty());var o=this._findNearestTick(a),s=this.model;(t||o!==s.getCurrentIndex()&&s.get("realtime"))&&this._changeTimeline(o)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var t=e.model;e._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var t=this._mainGroup.getLocalTransform();return g.applyTransform(e,t,!0)},t.prototype._findNearestTick=function(e){var t,a=this.model.getData(),i=1/0,n=this._axis;return a.each(["value"],function(a,r){var o=Math.abs(n.dataToCoord(a)-e);o<i&&(i=o,t=r)}),t},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),t=this._tickSymbols,a=this._tickLabels;if(t)for(var i=0;i<t.length;i++)t&&t[i]&&t[i].toggleState("progress",i<e);if(a)for(var i=0;i<a.length;i++)a&&a[i]&&a[i].toggleState("progress",hb(a[i]).dataIndex<=e)},t.type="timeline.slider",t}(hm);function hw(e,t,a,i,n,r){var o=t.get("color");if(n)n.setColor(o),a.add(n),r&&r.onUpdate(n);else{var s=e.get("symbol");(n=(0,tf.createSymbol)(s,-1,-1,2,2,o)).setStyle("strokeNoScale",!0),a.add(n),r&&r.onCreate(n)}var l=t.getItemStyle(["color"]);n.setStyle(l),i=(0,u.merge)({rectHover:!0,z2:100},i,!0);var d=(0,tf.normalizeSymbolSize)(e.get("symbolSize"));i.scaleX=d[0]/2,i.scaleY=d[1]/2;var c=(0,tf.normalizeSymbolOffset)(e.get("symbolOffset"),d);c&&(i.x=(i.x||0)+c[0],i.y=(i.y||0)+c[1]);var p=e.get("symbolRotate");return i.rotation=(p||0)*Math.PI/180||0,n.attr(i),n.updateTransform(),n}function hM(e,t,a,i,n,r){if(!e.dragging){var o=n.getModel("checkpointStyle"),s=i.dataToCoord(n.getData().get("value",a));if(r||!o.get("animation",!0))e.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function hI(e){var t=e&&e.timeline;u.isArray(t)||(t=t?[t]:[]),u.each(t,function(e){e&&function(e){var t=e.type,a={number:"value",time:"time"};if(a[t]&&(e.axisType=a[t],delete e.type),hA(e),hL(e,"controlPosition")){var i=e.controlStyle||(e.controlStyle={});hL(i,"position")||(i.position=e.controlPosition),"none"!==i.position||hL(i,"show")||(i.show=!1,delete i.position),delete e.controlPosition}u.each(e.data||[],function(e){u.isObject(e)&&!u.isArray(e)&&(!hL(e,"value")&&hL(e,"name")&&(e.value=e.name),hA(e))})}(e)})}function hA(e){var t=e.itemStyle||(e.itemStyle={}),a=t.emphasis||(t.emphasis={}),i=e.label||e.label||{},n=i.normal||(i.normal={}),r={normal:1,emphasis:1};u.each(i,function(e,t){r[t]||hL(n,t)||(n[t]=e)}),a.label&&!hL(i,"emphasis")&&(i.emphasis=a.label,delete a.label)}function hL(e,t){return e.hasOwnProperty(t)}function hT(e,t){if(!e)return!1;for(var a=(0,u.isArray)(e)?e:[e],i=0;i<a.length;i++)if(a[i]&&a[i][t])return!0;return!1}var hC=e.i(73607);function hD(e){(0,h.defaultEmphasis)(e,"label",["show"])}var hP=(0,h.makeInner)(),hk=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.createdBySelf=!1,a.preventAutoZ=!0,a}return(0,s.__extends)(t,e),t.prototype.init=function(e,t,a){this.mergeDefaultAndTheme(e,a),this._mergeOption(e,a,!1,!0)},t.prototype.isAnimationEnabled=function(){if(hC.default.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,t){this._mergeOption(e,t,!1,!1)},t.prototype._mergeOption=function(e,t,a,i){var n=this.mainType;a||t.eachSeries(function(e){var a=e.get(this.mainType,!0),r=hP(e)[n];if(!a||!a.data){hP(e)[n]=null;return}r?r._mergeOption(a,t,!0):(i&&hD(a),u.each(a.data,function(e){e instanceof Array?(hD(e[0]),hD(e[1])):hD(e)}),r=this.createMarkerModelFromSeries(a,this,t),u.extend(r,{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),r.__hostSeries=e),hP(e)[n]=r},this)},t.prototype.formatTooltip=function(e,t,a){var i=this.getData(),n=this.getRawValue(e),r=i.getName(e);return(0,tg.createTooltipMarkup)("section",{header:this.name,blocks:[(0,tg.createTooltipMarkup)("nameValue",{name:r,value:n,noName:!r,noValue:null==n})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,t){var a=hg.DataFormatMixin.prototype.getDataParams.call(this,e,t),i=this.__hostSeries;return i&&(a.seriesId=i.id,a.seriesName=i.name,a.seriesType=i.subType),a},t.getMarkerModelFromSeries=function(e,t){return hP(e)[t]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(tS.default);u.mixin(hk,hg.DataFormatMixin.prototype);var hE=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.createMarkerModelFromSeries=function(e,a,i){return new t(e,a,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(hk),hN=e.i(30300);function hR(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function hO(e,t,a,i,n,r,o){var s=[],l=(0,cT.isDimensionStacked)(t,n)?t.getCalculationInfo("stackResultDimension"):n,u=hH(t,l,e),d=t.hostModel.indicesOfNearest(a,l,u)[0];s[r]=t.get(i,d),s[o]=t.get(l,d);var c=t.get(n,d),p=tL.getPrecision(t.get(n,d));return(p=Math.min(p,20))>=0&&(s[o]=+s[o].toFixed(p)),[s,c]}var hz={min:(0,u.curry)(hO,"min"),max:(0,u.curry)(hO,"max"),average:(0,u.curry)(hO,"average"),median:(0,u.curry)(hO,"median")};function hV(e,t){if(t){var a,i=e.getData(),n=e.coordinateSystem,r=n&&n.dimensions;if(!(!isNaN(parseFloat((a=t).x))&&!isNaN(parseFloat(a.y)))&&!(0,u.isArray)(t.coord)&&(0,u.isArray)(r)){var o=hG(t,i,n,e);if((t=(0,u.clone)(t)).type&&hz[t.type]&&o.baseAxis&&o.valueAxis){var s=(0,u.indexOf)(r,o.baseAxis.dim),l=(0,u.indexOf)(r,o.valueAxis.dim),d=hz[t.type](i,o.valueAxis.dim,o.baseDataDim,o.valueDataDim,s,l);t.coord=d[0],t.value=d[1]}else t.coord=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis]}if(null!=t.coord&&(0,u.isArray)(r))for(var c=t.coord,p=0;p<2;p++)hz[c[p]]&&(c[p]=hH(i,i.mapDimension(r[p]),c[p]));else{t.coord=[];var h=e.getBaseAxis();if(h&&t.type&&hz[t.type]){var g=n.getOtherAxis(h);g&&(t.value=hH(i,i.mapDimension(g.dim),t.type))}}return t}}function hG(e,t,a,i){var n,r,o,s={};return null!=e.valueIndex||null!=e.valueDim?(s.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,s.valueAxis=a.getAxis((n=i,r=s.valueDataDim,(o=n.getData().getDimensionInfo(r))&&o.coordDim)),s.baseAxis=a.getOtherAxis(s.valueAxis),s.baseDataDim=t.mapDimension(s.baseAxis.dim)):(s.baseAxis=i.getBaseAxis(),s.valueAxis=a.getOtherAxis(s.baseAxis),s.baseDataDim=t.mapDimension(s.baseAxis.dim),s.valueDataDim=t.mapDimension(s.valueAxis.dim)),s}function hB(e,t){return!e||!e.containData||!t.coord||!!hR(t)||e.containData(t.coord)}function hF(e,t){return e?function(e,a,i,n){var r=n<2?e.coord&&e.coord[n]:e.value;return(0,hN.parseDataValue)(r,t[n])}:function(e,a,i,n){return(0,hN.parseDataValue)(e.value,t[n])}}function hH(e,t,a){if("average"===a){var i=0,n=0;return e.each(t,function(e,t){!isNaN(e)&&(i+=e,n++)}),i/n}return"median"===a?e.getMedian(t):e.getDataExtent(t)[+("max"===a)]}var hW=(0,h.makeInner)(),hY=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.init=function(){this.markerGroupMap=(0,u.createHashMap)()},t.prototype.render=function(e,t,a){var i,n,r,o=this,s=this.markerGroupMap;s.each(function(e){hW(e).keep=!1}),t.eachSeries(function(e){var i=hk.getMarkerModelFromSeries(e,o.type);i&&o.renderSeries(e,i,t,a)}),s.each(function(e){hW(e).keep||o.group.remove(e.group)}),i=t,n=s,r=this.type,i.eachSeries(function(e){var t=hk.getMarkerModelFromSeries(e,r),a=n.get(e.id);if(t&&a&&a.group){var i=(0,g.retrieveZInfo)(t),o=i.z,s=i.zlevel;(0,g.traverseUpdateZ)(a.group,o,s)}})},t.prototype.markKeep=function(e){hW(e).keep=!0},t.prototype.toggleBlurSeries=function(e,t){var a=this;(0,u.each)(e,function(e){var i=hk.getMarkerModelFromSeries(e,a.type);i&&i.getData().eachItemGraphicEl(function(e){e&&(t?(0,V.enterBlur)(e):(0,V.leaveBlur)(e))})})},t.type="marker",t}(tG.default);function hX(e,t,a){var i=t.coordinateSystem,n=a.getWidth(),r=a.getHeight(),o=i&&i.getArea&&i.getArea();e.each(function(a){var s,l=e.getItemModel(a),u="coordinate"===l.get("relativeTo"),d=u?o?o.width:0:n,c=u?o?o.height:0:r,p=u&&o?o.x:0,h=u&&o?o.y:0,g=tL.parsePercent(l.get("x"),d)+p,f=tL.parsePercent(l.get("y"),c)+h;if(isNaN(g)||isNaN(f)){if(t.getMarkerPosition)s=t.getMarkerPosition(e.getValues(e.dimensions,a));else if(i){var y=e.get(i.dimensions[0],a),m=e.get(i.dimensions[1],a);s=i.dataToPoint([y,m])}}else s=[g,f];isNaN(g)||(s[0]=g),isNaN(f)||(s[1]=f),e.setItemLayout(a,s)})}var hU=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.updateTransform=function(e,t,a){t.eachSeries(function(e){var t=hk.getMarkerModelFromSeries(e,"markPoint");t&&(hX(t.getData(),e,a),this.markerGroupMap.get(e.id).updateLayout())},this)},t.prototype.renderSeries=function(e,t,a,i){var n,r,o,s,l,d,c,p=e.coordinateSystem,h=e.id,g=e.getData(),f=this.markerGroupMap,y=f.get(h)||f.set(h,new rs.default),m=(n=p,r=e,o=t,s=n?(0,u.map)(n&&n.dimensions,function(e){var t=r.getData().getDimensionInfo(r.getData().mapDimension(e))||{};return(0,u.extend)((0,u.extend)({},t),{name:e,ordinalMeta:null})}):[{name:"value",type:"float"}],l=new td.default(s,o),d=(0,u.map)(o.get("data"),(0,u.curry)(hV,r)),n&&(d=(0,u.filter)(d,(0,u.curry)(hB,n))),c=hF(!!n,s),l.initData(d,null,c),l);t.setData(m),hX(t.getData(),e,i),m.each(function(e){var a=m.getItemModel(e),i=a.getShallow("symbol"),n=a.getShallow("symbolSize"),r=a.getShallow("symbolRotate"),o=a.getShallow("symbolOffset"),s=a.getShallow("symbolKeepAspect");if((0,u.isFunction)(i)||(0,u.isFunction)(n)||(0,u.isFunction)(r)||(0,u.isFunction)(o)){var l=t.getRawValue(e),d=t.getDataParams(e);(0,u.isFunction)(i)&&(i=i(l,d)),(0,u.isFunction)(n)&&(n=n(l,d)),(0,u.isFunction)(r)&&(r=r(l,d)),(0,u.isFunction)(o)&&(o=o(l,d))}var c=a.getModel("itemStyle").getItemStyle(),p=a.get("z2"),h=(0,ae.getVisualFromData)(g,"color");c.fill||(c.fill=h),m.setItemVisual(e,{z2:(0,u.retrieve2)(p,0),symbol:i,symbolSize:n,symbolRotate:r,symbolOffset:o,symbolKeepAspect:s,style:c})}),y.updateData(m),this.group.add(y.group),m.eachItemGraphicEl(function(e){e.traverse(function(e){(0,e0.getECData)(e).dataModel=t})}),this.markKeep(y),y.group.silent=t.get("silent")||e.get("silent")},t.type="markPoint",t}(hY),hZ=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.createMarkerModelFromSeries=function(e,a,i){return new t(e,a,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(hk),hj=(0,h.makeInner)(),hq=function(e,t,a,i){var n,r=e.getData();if((0,u.isArray)(i))n=i;else{var o=i.type;if("min"===o||"max"===o||"average"===o||"median"===o||null!=i.xAxis||null!=i.yAxis){var s=void 0,l=void 0;if(null!=i.yAxis||null!=i.xAxis)s=t.getAxis(null!=i.yAxis?"y":"x"),l=(0,u.retrieve)(i.yAxis,i.xAxis);else{var d=hG(i,r,t,e);s=d.valueAxis;var c=(0,cT.getStackedDimension)(r,d.valueDataDim);l=hH(r,c,o)}var p=+("x"!==s.dim),h=1-p,g=(0,u.clone)(i),f={coord:[]};g.type=null,g.coord=[],g.coord[h]=-1/0,f.coord[h]=1/0;var y=a.get("precision");y>=0&&(0,u.isNumber)(l)&&(l=+l.toFixed(Math.min(y,20))),g.coord[p]=f.coord[p]=l,n=[g,f,{type:o,valueIndex:i.valueIndex,value:l}]}else n=[]}var m=[hV(e,n[0]),hV(e,n[1]),(0,u.extend)({},n[2])];return m[2].type=m[2].type||null,(0,u.merge)(m[2],m[0]),(0,u.merge)(m[2],m[1]),m};function hK(e){return!isNaN(e)&&!isFinite(e)}function hJ(e,t,a,i){var n=1-e,r=i.dimensions[e];return hK(t[n])&&hK(a[n])&&t[e]===a[e]&&i.getAxis(r).containData(t[e])}function h$(e,t){if("cartesian2d"===e.type){var a=t[0].coord,i=t[1].coord;if(a&&i&&(hJ(1,a,i,e)||hJ(0,a,i,e)))return!0}return hB(e,t[0])&&hB(e,t[1])}function hQ(e,t,a,i,n){var r,o=i.coordinateSystem,s=e.getItemModel(t),l=tL.parsePercent(s.get("x"),n.getWidth()),u=tL.parsePercent(s.get("y"),n.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)r=i.getMarkerPosition(e.getValues(e.dimensions,t));else{var d=o.dimensions,c=e.get(d[0],t),p=e.get(d[1],t);r=o.dataToPoint([c,p])}if((0,no.isCoordinateSystemType)(o,"cartesian2d")){var h=o.getAxis("x"),g=o.getAxis("y"),d=o.dimensions;hK(e.get(d[0],t))?r[0]=h.toGlobalCoord(h.getExtent()[+!a]):hK(e.get(d[1],t))&&(r[1]=g.toGlobalCoord(g.getExtent()[+!a]))}isNaN(l)||(r[0]=l),isNaN(u)||(r[1]=u)}else r=[l,u];e.setItemLayout(t,r)}var h0=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.updateTransform=function(e,t,a){t.eachSeries(function(e){var t=hk.getMarkerModelFromSeries(e,"markLine");if(t){var i=t.getData(),n=hj(t).from,r=hj(t).to;n.each(function(t){hQ(n,t,!0,e,a),hQ(r,t,!1,e,a)}),i.each(function(e){i.setItemLayout(e,[n.getItemLayout(e),r.getItemLayout(e)])}),this.markerGroupMap.get(e.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,t,a,i){var n,r,o,s,l,d,c,p,h,g=e.coordinateSystem,f=e.id,y=e.getData(),m=this.markerGroupMap,v=m.get(f)||m.set(f,new sI);this.group.add(v.group);var x=(n=g,r=e,o=t,s=n?(0,u.map)(n&&n.dimensions,function(e){var t=r.getData().getDimensionInfo(r.getData().mapDimension(e))||{};return(0,u.extend)((0,u.extend)({},t),{name:e,ordinalMeta:null})}):[{name:"value",type:"float"}],l=new td.default(s,o),d=new td.default(s,o),c=new td.default([],o),p=(0,u.map)(o.get("data"),(0,u.curry)(hq,r,n,o)),n&&(p=(0,u.filter)(p,(0,u.curry)(h$,n))),h=hF(!!n,s),l.initData((0,u.map)(p,function(e){return e[0]}),null,h),d.initData((0,u.map)(p,function(e){return e[1]}),null,h),c.initData((0,u.map)(p,function(e){return e[2]})),c.hasItemOption=!0,{from:l,to:d,line:c}),_=x.from,b=x.to,S=x.line;hj(t).from=_,hj(t).to=b,t.setData(S);var w=t.get("symbol"),M=t.get("symbolSize"),I=t.get("symbolRotate"),A=t.get("symbolOffset");function L(t,a,n){var r=t.getItemModel(a);hQ(t,a,n,e,i);var o=r.getModel("itemStyle").getItemStyle();null==o.fill&&(o.fill=(0,ae.getVisualFromData)(y,"color")),t.setItemVisual(a,{symbolKeepAspect:r.get("symbolKeepAspect"),symbolOffset:(0,u.retrieve2)(r.get("symbolOffset",!0),A[+!n]),symbolRotate:(0,u.retrieve2)(r.get("symbolRotate",!0),I[+!n]),symbolSize:(0,u.retrieve2)(r.get("symbolSize"),M[+!n]),symbol:(0,u.retrieve2)(r.get("symbol",!0),w[+!n]),style:o})}(0,u.isArray)(w)||(w=[w,w]),(0,u.isArray)(M)||(M=[M,M]),(0,u.isArray)(I)||(I=[I,I]),(0,u.isArray)(A)||(A=[A,A]),x.from.each(function(e){L(_,e,!0),L(b,e,!1)}),S.each(function(e){var t=S.getItemModel(e),a=t.getModel("lineStyle").getLineStyle();S.setItemLayout(e,[_.getItemLayout(e),b.getItemLayout(e)]);var i=t.get("z2");null==a.stroke&&(a.stroke=_.getItemVisual(e,"style").fill),S.setItemVisual(e,{z2:(0,u.retrieve2)(i,0),fromSymbolKeepAspect:_.getItemVisual(e,"symbolKeepAspect"),fromSymbolOffset:_.getItemVisual(e,"symbolOffset"),fromSymbolRotate:_.getItemVisual(e,"symbolRotate"),fromSymbolSize:_.getItemVisual(e,"symbolSize"),fromSymbol:_.getItemVisual(e,"symbol"),toSymbolKeepAspect:b.getItemVisual(e,"symbolKeepAspect"),toSymbolOffset:b.getItemVisual(e,"symbolOffset"),toSymbolRotate:b.getItemVisual(e,"symbolRotate"),toSymbolSize:b.getItemVisual(e,"symbolSize"),toSymbol:b.getItemVisual(e,"symbol"),style:a})}),v.updateData(S),x.line.eachItemGraphicEl(function(e){(0,e0.getECData)(e).dataModel=t,e.traverse(function(e){(0,e0.getECData)(e).dataModel=t})}),this.markKeep(v),v.group.silent=t.get("silent")||e.get("silent")},t.type="markLine",t}(hY),h1=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.createMarkerModelFromSeries=function(e,a,i){return new t(e,a,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(hk),h2=(0,h.makeInner)(),h3=function(e,t,a,i){var n=i[0],r=i[1];if(n&&r){var o=hV(e,n),s=hV(e,r),l=o.coord,d=s.coord;l[0]=(0,u.retrieve)(l[0],-1/0),l[1]=(0,u.retrieve)(l[1],-1/0),d[0]=(0,u.retrieve)(d[0],1/0),d[1]=(0,u.retrieve)(d[1],1/0);var c=(0,u.mergeAll)([{},o,s]);return c.coord=[o.coord,s.coord],c.x0=o.x,c.y0=o.y,c.x1=s.x,c.y1=s.y,c}};function h5(e){return!isNaN(e)&&!isFinite(e)}function h4(e,t,a,i){var n=1-e;return h5(t[n])&&h5(a[n])}function h6(e,t){var a=t.coord[0],i=t.coord[1],n={coord:a,x:t.x0,y:t.y0},r={coord:i,x:t.x1,y:t.y1};if((0,no.isCoordinateSystemType)(e,"cartesian2d"))return!!(a&&i&&(h4(1,a,i,e)||h4(0,a,i,e)))||!e||!e.containZone||!n.coord||!r.coord||!!hR(n)||!!hR(r)||e.containZone(n.coord,r.coord);return hB(e,n)||hB(e,r)}function h7(e,t,a,i,n){var r,o=i.coordinateSystem,s=e.getItemModel(t),l=tL.parsePercent(s.get(a[0]),n.getWidth()),u=tL.parsePercent(s.get(a[1]),n.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition){var d=e.getValues(["x0","y0"],t),c=e.getValues(["x1","y1"],t),p=o.clampData(d),h=o.clampData(c),g=[];"x0"===a[0]?g[0]=p[0]>h[0]?c[0]:d[0]:g[0]=p[0]>h[0]?d[0]:c[0],"y0"===a[1]?g[1]=p[1]>h[1]?c[1]:d[1]:g[1]=p[1]>h[1]?d[1]:c[1],r=i.getMarkerPosition(g,a,!0)}else{var f=e.get(a[0],t),y=e.get(a[1],t),m=[f,y];o.clampData&&o.clampData(m,m),r=o.dataToPoint(m,!0)}if((0,no.isCoordinateSystemType)(o,"cartesian2d")){var v=o.getAxis("x"),x=o.getAxis("y"),f=e.get(a[0],t),y=e.get(a[1],t);h5(f)?r[0]=v.toGlobalCoord(v.getExtent()[+("x0"!==a[0])]):h5(y)&&(r[1]=x.toGlobalCoord(x.getExtent()[+("y0"!==a[1])]))}isNaN(l)||(r[0]=l),isNaN(u)||(r[1]=u)}else r=[l,u];return r}var h8=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],h9=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.updateTransform=function(e,t,a){t.eachSeries(function(e){var t=hk.getMarkerModelFromSeries(e,"markArea");if(t){var i=t.getData();i.each(function(t){var n=(0,u.map)(h8,function(n){return h7(i,t,n,e,a)});i.setItemLayout(t,n),i.getItemGraphicEl(t).setShape("points",n)})}},this)},t.prototype.renderSeries=function(e,t,a,i){var n=e.coordinateSystem,r=e.id,o=e.getData(),s=this.markerGroupMap,l=s.get(r)||s.set(r,{group:new N.Group});this.group.add(l.group),this.markKeep(l);var d=function(e,t,a){if(e){var i,n,r=(0,u.map)(e&&e.dimensions,function(e){var a=t.getData(),i=a.getDimensionInfo(a.mapDimension(e))||{};return(0,u.extend)((0,u.extend)({},i),{name:e,ordinalMeta:null})});n=(0,u.map)(["x0","y0","x1","y1"],function(e,t){return{name:e,type:r[t%2].type}}),i=new td.default(n,a)}else n=[{name:"value",type:"float"}],i=new td.default(n,a);var o=(0,u.map)(a.get("data"),(0,u.curry)(h3,t,e,a));e&&(o=(0,u.filter)(o,(0,u.curry)(h6,e)));var s=e?function(e,t,a,i){var r=e.coord[Math.floor(i/2)][i%2];return(0,hN.parseDataValue)(r,n[i])}:function(e,t,a,i){return(0,hN.parseDataValue)(e.value,n[i])};return i.initData(o,null,s),i.hasItemOption=!0,i}(n,e,t);t.setData(d),d.each(function(t){var a=(0,u.map)(h8,function(a){return h7(d,t,a,e,i)}),r=n.getAxis("x").scale,s=n.getAxis("y").scale,l=r.getExtent(),c=s.getExtent(),p=[r.parse(d.get("x0",t)),r.parse(d.get("x1",t))],h=[s.parse(d.get("y0",t)),s.parse(d.get("y1",t))];tL.asc(p),tL.asc(h);var g=!(l[0]>p[1]||l[1]<p[0]||c[0]>h[1]||c[1]<h[0]);d.setItemLayout(t,{points:a,allClipped:!g});var f=d.getItemModel(t),y=f.getModel("itemStyle").getItemStyle(),m=f.get("z2"),v=(0,ae.getVisualFromData)(o,"color");!y.fill&&(y.fill=v,(0,u.isString)(y.fill)&&(y.fill=Q.modifyAlpha(y.fill,.4))),y.stroke||(y.stroke=v),d.setItemVisual(t,"style",y),d.setItemVisual(t,"z2",(0,u.retrieve2)(m,0))}),d.diff(h2(l).data).add(function(e){var t=d.getItemLayout(e),a=d.getItemVisual(e,"z2");if(!t.allClipped){var i=new O.Polygon({z2:(0,u.retrieve2)(a,0),shape:{points:t.points}});d.setItemGraphicEl(e,i),l.group.add(i)}}).update(function(e,a){var i=h2(l).data.getItemGraphicEl(a),n=d.getItemLayout(e),r=d.getItemVisual(e,"z2");n.allClipped?i&&l.group.remove(i):(i?E.updateProps(i,{z2:(0,u.retrieve2)(r,0),shape:{points:n.points}},t,e):i=new O.Polygon({shape:{points:n.points}}),d.setItemGraphicEl(e,i),l.group.add(i))}).remove(function(e){var t=h2(l).data.getItemGraphicEl(e);l.group.remove(t)}).execute(),d.eachItemGraphicEl(function(e,a){var i=d.getItemModel(a),n=d.getItemVisual(a,"style");e.useStyle(d.getItemVisual(a,"style")),(0,eQ.setLabelStyle)(e,(0,eQ.getLabelStatesModels)(i),{labelFetcher:t,labelDataIndex:a,defaultText:d.getName(a)||"",inheritColor:(0,u.isString)(n.fill)?Q.modifyAlpha(n.fill,1):tm.default.color.neutral99}),(0,V.setStatesStylesFromModel)(e,i),(0,V.toggleHoverEmphasis)(e,null,null,i.get(["emphasis","disabled"])),(0,e0.getECData)(e).dataModel=t}),h2(l).data=d,l.group.silent=t.get("silent")||e.get("silent")},t.type="markArea",t}(hY),ge=e.i(91996),gt=e.i(66028),ga=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.type="dataZoom.inside",t.defaultOption=(0,e$.inheritDefaultOption)(gt.default.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(gt.default),gi=e.i(88199),gn=e.i(19566),gr=(0,h.makeInner)();function go(e,t){if(t){e.removeKey(t.model.uid);var a=t.controller;a&&a.dispose()}}function gs(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function gl(e,t,a,i){return e.coordinateSystem.containPoint([a,i])}var gu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return(0,s.__extends)(t,e),t.prototype.render=function(t,a,i){var n;(e.prototype.render.apply(this,arguments),t.noTarget())?this._clear():(this.range=t.getPercentRange(),n={pan:(0,u.bind)(gd.pan,this),zoom:(0,u.bind)(gd.zoom,this),scrollMove:(0,u.bind)(gd.scrollMove,this)},gr(i).coordSysRecordMap.each(function(e){var a=e.dataZoomInfoMap.get(t.uid);a&&(a.getRange=n)}))},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){!function(e,t){for(var a=gr(e).coordSysRecordMap,i=a.keys(),n=0;n<i.length;n++){var r=i[n],o=a.get(r),s=o.dataZoomInfoMap;if(s){var l=t.uid;s.get(l)&&(s.removeKey(l),s.keys().length||go(a,o))}}}(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(gi.default),gd={zoom:function(e,t,a,i){var n=this.range,r=n.slice(),o=e.axisModels[0];if(o){var s=gp[t](null,[i.originX,i.originY],o,a,e),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(r[1]-r[0])+r[0],u=Math.max(1/i.scale,0);r[0]=(r[0]-l)*u+l,r[1]=(r[1]-l)*u+l;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if((0,am.default)(0,r,[0,100],0,d.minSpan,d.maxSpan),this.range=r,n[0]!==r[0]||n[1]!==r[1])return r}},pan:gc(function(e,t,a,i,n,r){var o=gp[i]([r.oldX,r.oldY],[r.newX,r.newY],t,n,a);return o.signal*(e[1]-e[0])*o.pixel/o.pixelLength}),scrollMove:gc(function(e,t,a,i,n,r){return gp[i]([0,0],[r.scrollDelta,r.scrollDelta],t,n,a).signal*(e[1]-e[0])*r.scrollDelta})};function gc(e){return function(t,a,i,n){var r=this.range,o=r.slice(),s=t.axisModels[0];if(s){var l=e(o,s,t,a,i,n);if((0,am.default)(l,o,[0,100],"all"),this.range=o,r[0]!==o[0]||r[1]!==o[1])return o}}}var gp={grid:function(e,t,a,i,n){var r=a.axis,o={},s=n.model.coordinateSystem.getRect();return e=e||[0,0],"x"===r.dim?(o.pixel=t[0]-e[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=r.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=r.inverse?-1:1),o},polar:function(e,t,a,i,n){var r=a.axis,o={},s=n.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),"radiusAxis"===a.mainType?(o.pixel=t[0]-e[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=r.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=r.inverse?-1:1),o},singleAxis:function(e,t,a,i,n){var r=a.axis,o=n.model.coordinateSystem.getRect(),s={};return e=e||[0,0],"horizontal"===r.orient?(s.pixel=t[0]-e[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=r.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=r.inverse?-1:1),s}},gh=e.i(31160);function gg(e){(0,gh.default)(e),e.registerComponentModel(ga),e.registerComponentView(gu),e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(e,t){var a=gr(t),i=a.coordSysRecordMap||(a.coordSysRecordMap=(0,u.createHashMap)());i.each(function(e){e.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(e){var a=(0,gn.collectReferCoordSysModelInfo)(e);(0,u.each)(a.infoList,function(a){var n,r,o,s=a.model.uid,l=i.get(s)||i.set(s,(o=(r={model:n=a.model,containsPoint:(0,u.curry)(gl,n),dispatchAction:(0,u.curry)(gs,t),dataZoomInfoMap:null,controller:null}).controller=new y(t.getZr()),(0,u.each)(["pan","zoom","scrollMove"],function(e){o.on(e,function(t){var a=[];r.dataZoomInfoMap.each(function(i){if(t.isAvailableBehavior(i.model.option)){var n=(i.getRange||{})[e],o=n&&n(i.dzReferCoordSysInfo,r.model.mainType,r.controller,t);!i.model.get("disabled",!0)&&o&&a.push({dataZoomId:i.model.id,start:o[0],end:o[1]})}}),a.length&&r.dispatchAction(a)})}),r));(l.dataZoomInfoMap||(l.dataZoomInfoMap=(0,u.createHashMap)())).set(e.uid,{dzReferCoordSysInfo:a,model:e,getRange:null})})}),i.each(function(e){var a,n,r,o,s,l=e.controller,u=e.dataZoomInfoMap;if(u){var d=u.keys()[0];null!=d&&(s=u.get(d))}if(!s)return void go(i,e);var c=(n="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0,u.each(function(e){var t=e.model,i=!t.get("disabled",!0)&&(!t.get("zoomLock",!0)||"move");r[n+i]>r[n+a]&&(a=i),o=o&&t.get("preventDefaultMouseMove",!0)}),{controlType:a,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o,api:t,zInfo:{component:e.model},triggerInfo:{roamTrigger:null,isInSelf:e.containsPoint}}});l.enable(c.controlType,c.opt),nt.createOrUpdate(e,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var gf=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=(0,e$.inheritDefaultOption)(gt.default.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:tm.default.color.accent10,borderRadius:0,backgroundColor:tm.default.color.transparent,dataBackground:{lineStyle:{color:tm.default.color.accent30,width:.5},areaStyle:{color:tm.default.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:tm.default.color.accent40,width:.5},areaStyle:{color:tm.default.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:tm.default.color.neutral00,borderColor:tm.default.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:tm.default.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:tm.default.color.tertiary},brushSelect:!0,brushStyle:{color:tm.default.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:tm.default.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),t}(gt.default),nN=nN,gy=k.Rect,gm="horizontal",gv="vertical",gx=["line","bar","candlestick","scatter"],g_={easing:"cubicOut",duration:100,delay:0},gb=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._displayables={},a}return(0,s.__extends)(t,e),t.prototype.init=function(e,t){this.api=t,this._onBrush=(0,u.bind)(this._onBrush,this),this._onBrushEnd=(0,u.bind)(this._onBrushEnd,this)},t.prototype.render=function(t,a,i,n){if(e.prototype.render.apply(this,arguments),nt.createOrUpdate(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1===t.get("show"))return void this.group.removeAll();if(t.noTarget()){this._clear(),this.group.removeAll();return}n&&"dataZoom"===n.type&&n.from===this.uid||this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){nt.clear(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var t=this._displayables.sliderGroup=new N.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,a=e.get("brushSelect"),i=tR.createBoxLayoutReference(e,t).refContainer,n=this._findCoordRect(),r=e.get("defaultLocationEdgeGap",!0)||0,o=this._orient===gm?{right:i.width-n.x-n.width,top:i.height-30-r-7*!!a,width:n.width,height:30}:{right:r,top:n.y,width:30,height:n.height},s=tR.getLayoutParams(e.option);(0,u.each)(["right","top","width","height"],function(e){"ph"===s[e]&&(s[e]=o[e])});var l=tR.getLayoutRect(s,i);this._location={x:l.x,y:l.y},this._size=[l.width,l.height],this._orient===gv&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,t=this._location,a=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),n=i&&i.get("inverse"),r=this._displayables.sliderGroup,o=(this._dataShadowInfo||{}).otherAxisInverse;r.attr(a!==gm||n?a===gm&&n?{scaleY:o?1:-1,scaleX:-1}:a!==gv||n?{scaleY:o?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:o?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:o?1:-1,scaleX:1});var s=e.getBoundingRect([r]);e.x=t.x-s.x,e.y=t.y-s.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,a=this._displayables.sliderGroup,i=e.get("brushSelect");a.add(new gy({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var n=new gy({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:(0,u.bind)(this._onClickPanel,this)}),r=this.api.getZr();i?(n.on("mousedown",this._onBrushStart,this),n.cursor="crosshair",r.on("mousemove",this._onBrush),r.on("mouseup",this._onBrushEnd)):(r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)),a.add(n)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var t=this._size,a=this._shadowSize||[],i=e.series,n=i.getRawData(),r=i.getShadowDim&&i.getShadowDim(),o=r&&n.getDimensionInfo(r)?i.getShadowDim():e.otherDim;if(null!=o){var s=this._shadowPolygonPts,l=this._shadowPolylinePts;if(n!==this._shadowData||o!==this._shadowDim||t[0]!==a[0]||t[1]!==a[1]){var u,d=n.getDataExtent(e.thisDim),c=n.getDataExtent(o),p=(c[1]-c[0])*.3;c=[c[0]-p,c[1]+p];var h=[0,t[1]],g=[0,t[0]],f=[[t[0],0],[0,0]],y=[],m=g[1]/Math.max(1,n.count()-1),v=t[0]/(d[1]-d[0]),x="time"===e.thisAxis.type,_=-m,b=Math.round(n.count()/t[0]);n.each([e.thisDim,o],function(e,t,a){if(b>0&&a%b){x||(_+=m);return}_=x?(e-d[0])*v:_+m;var i=null==t||isNaN(t)||""===t,n=i?0:(0,tL.linearMap)(t,c,h,!0);i&&!u&&a?(f.push([f[f.length-1][0],0]),y.push([y[y.length-1][0],0])):!i&&u&&(f.push([_,0]),y.push([_,0])),i||(f.push([_,n]),y.push([_,n])),u=i}),s=this._shadowPolygonPts=f,l=this._shadowPolylinePts=y}this._shadowData=n,this._shadowDim=o,this._shadowSize=[t[0],t[1]];for(var S=this.dataZoomModel,w=0;w<3;w++){var M=function(e){var t=S.getModel(e?"selectedDataBackground":"dataBackground"),a=new N.Group,i=new O.Polygon({shape:{points:s},segmentIgnoreThreshold:1,style:t.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),n=new R.Polyline({shape:{points:l},segmentIgnoreThreshold:1,style:t.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return a.add(i),a.add(n),a}(1===w);this._displayables.sliderGroup.add(M),this._displayables.dataShadowSegs.push(M)}}}},t.prototype._prepareDataShadowInfo=function(){var e,t=this.dataZoomModel,a=t.get("showDataShadow");if(!1!==a){var i=this.ecModel;return t.eachTargetAxis(function(n,r){var o=t.getAxisProxy(n,r).getTargetSeriesModels();(0,u.each)(o,function(t){if(!e&&!(!0!==a&&0>(0,u.indexOf)(gx,t.get("type")))){var o,s=i.getComponent((0,gn.getAxisMainType)(n),r).axis,l={x:"y",y:"x",radius:"angle",angle:"radius"}[n],d=t.coordinateSystem;null!=l&&d.getOtherAxis&&(o=d.getOtherAxis(s).inverse),l=t.getData().mapDimension(l);var c=t.getData().mapDimension(n);e={thisAxis:s,series:t,thisDim:c,otherDim:l,otherAxisInverse:o}}},this)},this),e}},t.prototype._renderHandle=function(){var e=this.group,t=this._displayables,a=t.handles=[null,null],i=t.handleLabels=[null,null],n=this._displayables.sliderGroup,r=this._size,o=this.dataZoomModel,s=this.api,l=o.get("borderRadius")||0,d=o.get("brushSelect"),c=t.filler=new gy({silent:d,style:{fill:o.get("fillerColor")},textConfig:{position:"inside"}});n.add(c),n.add(new gy({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:r[0],height:r[1],r:l},style:{stroke:o.get("dataBackgroundColor")||o.get("borderColor"),lineWidth:1,fill:tm.default.color.transparent}})),(0,u.each)([0,1],function(t){var r=o.get("handleIcon");!tf.symbolBuildProxies[r]&&0>r.indexOf("path://")&&0>r.indexOf("image://")&&(r="path://"+r);var s=(0,tf.createSymbol)(r,-1,0,2,2,null,!0);s.attr({cursor:"vertical"===this._orient?"ns-resize":"ew-resize",draggable:!0,drift:(0,u.bind)(this._onDragMove,this,t),ondragend:(0,u.bind)(this._onDragEnd,this),onmouseover:(0,u.bind)(this._showDataInfo,this,!0),onmouseout:(0,u.bind)(this._showDataInfo,this,!1),z2:5});var l=s.getBoundingRect(),d=o.get("handleSize");this._handleHeight=(0,tL.parsePercent)(d,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(o.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=o.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,V.enableHoverEmphasis)(s);var c=o.get("handleColor");null!=c&&(s.style.fill=c),n.add(a[t]=s);var p=o.getModel("textStyle"),h=(o.get("handleLabel")||{}).show||!1;e.add(i[t]=new ay.Text({silent:!0,invisible:!h,style:(0,eQ.createTextStyle)(p,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:p.getTextColor(),font:p.getFont()}),z2:10}))},this);var p=c;if(d){var h=(0,tL.parsePercent)(o.get("moveHandleSize"),r[1]),g=t.moveHandle=new k.Rect({style:o.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:r[1]-.5,height:h}}),f=.8*h,y=t.moveHandleIcon=(0,tf.createSymbol)(o.get("moveHandleIcon"),-f/2,-f/2,f,f,tm.default.color.neutral00,!0);y.silent=!0,y.y=r[1]+h/2-.5,g.ensureState("emphasis").style=o.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(r[1]/2,Math.max(h,10));(p=t.moveZone=new k.Rect({invisible:!0,shape:{y:r[1]-m,height:h+m}})).on("mouseover",function(){s.enterEmphasis(g)}).on("mouseout",function(){s.leaveEmphasis(g)}),n.add(g),n.add(y),n.add(p)}p.attr({draggable:!0,cursor:"default",drift:(0,u.bind)(this._onDragMove,this,"all"),ondragstart:(0,u.bind)(this._showDataInfo,this,!0),ondragend:(0,u.bind)(this._onDragEnd,this),onmouseover:(0,u.bind)(this._showDataInfo,this,!0),onmouseout:(0,u.bind)(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[(0,tL.linearMap)(e[0],[0,100],t,!0),(0,tL.linearMap)(e[1],[0,100],t,!0)]},t.prototype._updateInterval=function(e,t){var a=this.dataZoomModel,i=this._handleEnds,n=this._getViewExtent(),r=a.findRepresentativeAxisProxy().getMinMaxSpan(),o=[0,100];(0,am.default)(t,i,n,a.get("zoomLock")?"all":e,null!=r.minSpan?(0,tL.linearMap)(r.minSpan,o,n,!0):null,null!=r.maxSpan?(0,tL.linearMap)(r.maxSpan,o,n,!0):null);var s=this._range,l=this._range=(0,tL.asc)([(0,tL.linearMap)(i[0],n,o,!0),(0,tL.linearMap)(i[1],n,o,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},t.prototype._updateView=function(e){var t=this._displayables,a=this._handleEnds,i=(0,tL.asc)(a.slice()),n=this._size;(0,u.each)([0,1],function(e){var i=t.handles[e],r=this._handleHeight;i.attr({scaleX:r/2,scaleY:r/2,x:a[e]+(e?-1:1),y:n[1]/2-r/2})},this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:n[1]});var r={x:i[0],width:i[1]-i[0]};t.moveHandle&&(t.moveHandle.setShape(r),t.moveZone.setShape(r),t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",r.x+r.width/2));for(var o=t.dataShadowSegs,s=[0,i[0],i[1],n[0]],l=0;l<o.length;l++){var d=o[l],c=d.getClipPath();c||(c=new k.Rect,d.setClipPath(c)),c.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:n[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var t=this.dataZoomModel,a=this._displayables,i=a.handleLabels,n=this._orient,r=["",""];if(t.get("showDetail")){var o=t.findRepresentativeAxisProxy();if(o){var s=o.getAxisModel().axis,l=this._range,u=e?o.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:o.getDataValueWindow();r=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var d=(0,tL.asc)(this._handleEnds.slice());function c(e){var t=g.getTransform(a.handles[e].parent,this.group),o=g.transformDirection(0===e?"right":"left",t),s=this._handleWidth/2+5,l=g.applyTransform([d[e]+(0===e?-s:s),this._size[1]/2],t);i[e].setStyle({x:l[0],y:l[1],verticalAlign:n===gm?"middle":o,align:n===gm?o:"center",text:r[e]})}c.call(this,0),c.call(this,1)},t.prototype._formatLabel=function(e,t){var a=this.dataZoomModel,i=a.get("labelFormatter"),n=a.get("labelPrecision");(null==n||"auto"===n)&&(n=t.getPixelPrecision());var r=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(n,20));return(0,u.isFunction)(i)?i(e,r):(0,u.isString)(i)?i.replace("{value}",r):r},t.prototype._showDataInfo=function(e){var t=(this.dataZoomModel.get("handleLabel")||{}).show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]).get("show")||!1,i=e||this._dragging?a:t,n=this._displayables,r=n.handleLabels;r[0].attr("invisible",!i),r[1].attr("invisible",!i),n.moveHandle&&this.api[i?"enterEmphasis":"leaveEmphasis"](n.moveHandle,1)},t.prototype._onDragMove=function(e,t,a,i){this._dragging=!0,c.stop(i.event);var n=this._displayables.sliderGroup.getLocalTransform(),r=g.applyTransform([t,a],n,!0),o=this._updateInterval(e,r[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),o&&s&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var t=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(a[0]<0)&&!(a[0]>t[0])&&!(a[1]<0)&&!(a[1]>t[1])){var i=this._handleEnds,n=(i[0]+i[1])/2,r=this._updateInterval("all",a[0]-n);this._updateView(),r&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var t=e.offsetX,a=e.offsetY;this._brushStart=new nN.default(t,a),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var t=this._displayables.brushRect;if(this._brushing=!1,t){t.attr("ignore",!0);var a=t.shape;if(!(new Date-this._brushStartTime<200&&5>Math.abs(a.width))){var i=this._getViewExtent(),n=[0,100],r=this._handleEnds=[a.x,a.x+a.width],o=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();(0,am.default)(0,r,i,0,null!=o.minSpan?(0,tL.linearMap)(o.minSpan,n,i,!0):null,null!=o.maxSpan?(0,tL.linearMap)(o.maxSpan,n,i,!0):null),this._range=(0,tL.asc)([(0,tL.linearMap)(r[0],i,n,!0),(0,tL.linearMap)(r[1],i,n,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(c.stop(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,t){var a=this._displayables,i=this.dataZoomModel,n=a.brushRect;n||(n=a.brushRect=new gy({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(n)),n.attr("ignore",!1);var r=this._brushStart,o=this._displayables.sliderGroup,s=o.transformCoordToLocal(e,t),l=o.transformCoordToLocal(r.x,r.y),u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0),n.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})},t.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?g_:null,start:t[0],end:t[1]})},t.prototype._findCoordRect=function(){var e,t=(0,gn.collectReferCoordSysModelInfo)(this.dataZoomModel).infoList;if(!e&&t.length){var a=t[0].model.coordinateSystem;e=a.getRect&&a.getRect()}if(!e){var i=this.api.getWidth(),n=this.api.getHeight();e={x:.2*i,y:.2*n,width:.6*i,height:.6*n}}return e},t.type="dataZoom.slider",t}(gi.default);function gS(e){e.registerComponentModel(gf),e.registerComponentView(gb),(0,gh.default)(e)}var gw=function(){function e(e){this._thumbnailModel=e}return e.prototype.reset=function(e){this._renderVersion=e.getMainProcessVersion()},e.prototype.renderContent=function(e){var t=e.api.getViewOfComponentModel(this._thumbnailModel);t&&(e.group.silent=!0,t.renderContent({group:e.group,targetTrans:e.targetTrans,z2Range:(0,g.calcZ2Range)(e.group),roamType:e.roamType,viewportRect:e.viewportRect,renderVersion:this._renderVersion}))},e.prototype.updateWindow=function(e,t){var a=t.getViewOfComponentModel(this._thumbnailModel);a&&a.updateWindow({targetTrans:e,renderVersion:this._renderVersion})},e}(),gM=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.preventAutoZ=!0,a}return(0,s.__extends)(t,e),t.prototype.optionUpdated=function(e,t){this._updateBridge()},t.prototype._updateBridge=function(){var e=this._birdge=this._birdge||new gw(this);this._target=null,this.ecModel.eachSeries(function(e){sV(e,null)}),this.shouldShow()&&sV(this.getTarget().baseMapProvider,e)},t.prototype.shouldShow=function(){return this.getShallow("show",!0)},t.prototype.getBridge=function(){return this._birdge},t.prototype.getTarget=function(){if(this._target)return this._target;var e=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return e?"graph"!==e.subType&&(e=null):e=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:e},this._target},t.type="thumbnail",t.layoutMode="box",t.dependencies=["series","geo"],t.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:tm.default.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:tm.default.color.neutral30,borderColor:tm.default.color.neutral40,opacity:.3},z:10},t}(tS.default),gI=M,gA=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,s.__extends)(t,e),t.prototype.render=function(e,t,a){if(this._api=a,this._model=e,this._coordSys||(this._coordSys=new tC),!this._isEnabled())return void this._clear();this._renderVersion=a.getMainProcessVersion();var i=this.group;i.removeAll();var n=e.getModel("itemStyle"),r=n.getItemStyle();null==r.fill&&(r.fill=t.get("backgroundColor")||tm.default.color.neutral00);var o=(0,tR.createBoxLayoutReference)(e,a).refContainer,s=(0,tR.getLayoutRect)((0,tR.getBoxLayoutParams)(e,!0),o),l=r.lineWidth||0,u=this._contentRect=(0,g.expandOrShrinkRect)(s.clone(),l/2,!0,!0),d=new N.Group;i.add(d),d.setClipPath(new k.Rect({shape:u.plain()}));var c=this._targetGroup=new N.Group;d.add(c);var p=s.plain();p.r=n.getShallow("borderRadius",!0),i.add(this._bgRect=new k.Rect({style:r,shape:p,silent:!1,cursor:"grab"}));var h=e.getModel("windowStyle"),f=h.getShallow("borderRadius",!0);d.add(this._windowRect=new k.Rect({shape:{x:0,y:0,width:0,height:0,r:f},style:h.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),gT(e,this)},t.prototype.renderContent=function(e){this._bridgeRendered=e,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),gT(this._model,this))},t.prototype._dealRenderContent=function(){var e=this._bridgeRendered;if(e&&e.renderVersion===this._renderVersion){var t=this._targetGroup,a=this._coordSys,i=this._contentRect;if(t.removeAll(),e){var n=e.group,r=n.getBoundingRect();t.add(n),this._bgRect.z2=e.z2Range.min-10,a.setBoundingRect(r.x,r.y,r.width,r.height);var o=(0,tR.getLayoutRect)({left:"center",top:"center",aspect:r.width/r.height},i);a.setViewRect(o.x,o.y,o.width,o.height),n.attr(a.getTransformInfo().raw),this._windowRect.z2=e.z2Range.max+10,this._resetRoamController(e.roamType)}}},t.prototype.updateWindow=function(e){var t=this._bridgeRendered;t&&t.renderVersion===e.renderVersion&&(t.targetTrans=e.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},t.prototype._dealUpdateWindow=function(){var e=this._bridgeRendered;if(e&&e.renderVersion===this._renderVersion){var t=Z.invert([],e.targetTrans),a=Z.mul([],this._coordSys.transform,t);this._transThisToTarget=Z.invert([],a);var i=e.viewportRect;(i=i?i.clone():new gI.default(0,0,this._api.getWidth(),this._api.getHeight())).applyTransform(a);var n=this._windowRect,r=n.shape.r;n.setShape((0,u.defaults)({r:r},i))}},t.prototype._resetRoamController=function(e){var t=this,a=this._api,i=this._roamController;(i||(i=this._roamController=new y(a.getZr())),e&&this._isEnabled())?(i.enable(e,{api:a,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(e,a,i){return t._contentRect.contain(a,i)}}}),i.off("pan").off("zoom").on("pan",(0,u.bind)(this._onPan,this)).on("zoom",(0,u.bind)(this._onZoom,this))):i.disable()},t.prototype._onPan=function(e){var t=this._transThisToTarget;if(this._isEnabled()&&t){var a=(0,eS.applyTransform)([],[e.oldX,e.oldY],t),i=(0,eS.applyTransform)([],[e.oldX-e.dx,e.oldY-e.dy],t);this._api.dispatchAction(gL(this._model.getTarget().baseMapProvider,{dx:i[0]-a[0],dy:i[1]-a[1]}))}},t.prototype._onZoom=function(e){var t=this._transThisToTarget;if(this._isEnabled()&&t){var a=(0,eS.applyTransform)([],[e.originX,e.originY],t);this._api.dispatchAction(gL(this._model.getTarget().baseMapProvider,{zoom:1/e.scale,originX:a[0],originY:a[1]}))}},t.prototype._isEnabled=function(){var e=this._model;return!!e&&!!e.shouldShow()&&!!e.getTarget().baseMapProvider},t.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},t.prototype.remove=function(){this._clear()},t.prototype.dispose=function(){this._clear()},t.type="thumbnail",t}(tG.default);function gL(e,t){var a={type:"series"===e.mainType?e.subType+"Roam":e.mainType+"Roam"};return a[e.mainType+"Id"]=e.id,(0,u.extend)(a,t),a}function gT(e,t){var a=(0,g.retrieveZInfo)(e);(0,g.traverseUpdateZ)(t.group,a.z,a.zlevel)}var gC={label:{enabled:!0},decal:{show:!1}},gD=(0,h.makeInner)(),gP={};function gk(e,t){var a=e.getModel("aria");if(a.get("enabled")){var i=u.clone(gC);u.merge(i.label,e.getLocaleModel().get("aria"),!1),u.merge(a.option,i,!1),function(){if(a.getModel("decal").get("show")){var t=u.createHashMap();e.eachSeries(function(e){if(!e.isColorBySeries()){var a=t.get(e.type);a||(a={},t.set(e.type,a)),gD(e).scope=a}}),e.eachRawSeries(function(t){if(!e.isSeriesFiltered(t)){if(u.isFunction(t.enableAriaDecal))return void t.enableAriaDecal();var a=t.getData();if(t.isColorBySeries()){var i=(0,of.getDecalFromPalette)(t.ecModel,t.name,gP,e.getSeriesCount()),n=a.getVisual("decal");a.setVisual("decal",d(n,i))}else{var r=t.getRawData(),o={},s=gD(t).scope;a.each(function(e){o[a.getRawIndex(e)]=e});var l=r.count();r.each(function(e){var i=o[e],n=r.getName(e)||e+"",u=(0,of.getDecalFromPalette)(t.ecModel,n,s,l),c=a.getItemVisual(i,"decal");a.setItemVisual(i,"decal",d(c,u))})}}function d(e,t){var a=e?u.extend(u.extend({},t),e):t;return a.dirty=!0,a}})}}(),function(){var i,r=t.getZr().dom;if(r){var o=e.getLocaleModel().get("aria"),s=a.getModel("label");if(s.option=u.defaults(s.option,o),s.get("enabled")){if(r.setAttribute("role","img"),s.get("description"))return r.setAttribute("aria-label",s.get("description"));var l,d=e.getSeriesCount(),c=s.get(["data","maxCount"])||10,p=Math.min(d,s.get(["series","maxCount"])||10);if(d<1)return;var h=((l=e.get("title"))&&l.length&&(l=l[0]),l&&l.text);i=h?n(s.get(["general","withTitle"]),{title:h}):s.get(["general","withoutTitle"]);var g=[];i+=n(d>1?s.get(["series","multiple","prefix"]):s.get(["series","single","prefix"]),{seriesCount:d}),e.eachSeries(function(t,a){if(a<p){var i,r,o=void 0,l=t.get("name")?"withName":"withoutName";o=n(o=d>1?s.get(["series","multiple",l]):s.get(["series","single",l]),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:(i=t.subType,(r=e.getLocaleModel().get(["series","typeNames"]))[i]||r.chart)});var h=t.getData();h.count()>c?o+=n(s.get(["data","partialData"]),{displayCnt:c}):o+=s.get(["data","allData"]);for(var f=s.get(["data","separator","middle"]),y=s.get(["data","separator","end"]),m=s.get(["data","excludeDimensionId"]),v=[],x=0;x<h.count();x++)if(x<c){var _=h.getName(x),b=m?u.filter(h.getValues(x),function(e,t){return -1===u.indexOf(m,t)}):h.getValues(x),S=s.get(["data",_?"withName":"withoutName"]);v.push(n(S,{name:_,value:b.join(f)}))}o+=v.join(f)+y,g.push(o)}});var f=s.getModel(["series","multiple","separator"]),y=f.get("middle"),m=f.get("end");i+=g.join(y)+m,r.setAttribute("aria-label",i)}}}()}function n(e,t){if(!u.isString(e))return e;var a=e;return u.each(t,function(e,t){a=a.replace(RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)}),a}}function gE(e){if(e&&e.aria){var t=e.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},u.each(["description","general","series","data"],function(e){null!=t[e]&&(t.label[e]=t[e])})}}var gN=e.i(9829),gR={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},gO=function(){function e(e){null==(this._condVal=(0,u.isString)(e)?new RegExp(e):(0,u.isRegExp)(e)?e:null)&&(0,ue.throwError)("")}return e.prototype.evaluate=function(e){var t=typeof e;return(0,u.isString)(t)?this._condVal.test(e):!!(0,u.isNumber)(t)&&this._condVal.test(e+"")},e}(),gz=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),gV=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},e}(),gG=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},e}(),gB=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),gF=function(){function e(){}return e.prototype.evaluate=function(){for(var e=!!this.valueParser,t=(0,this.getValue)(this.valueGetterParam),a=e?this.valueParser(t):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(e?a:t))return!1;return!0},e}();function gH(e,t){if(!0===e||!1===e){var a,i,n,r,o=new gz;return o.value=e,o}if(gY(e)||(0,ue.throwError)(""),e.and)return gW("and",e,t);if(e.or)return gW("or",e,t);if(e.not){return a=e,i=t,gY(n=a.not)||(0,ue.throwError)(""),(r=new gB).child=gH(n,i),r.child||(0,ue.throwError)(""),r}return function(e,t){for(var a=t.prepareGetValue(e),i=[],n=(0,u.keys)(e),r=e.parser,o=r?(0,hN.getRawValueParser)(r):null,s=0;s<n.length;s++){var l=n[s];if(!("parser"===l||t.valueGetterAttrMap.get(l))){var d=(0,u.hasOwn)(gR,l)?gR[l]:l,c=e[l],p=o?o(c):c,h=(0,hN.createFilterComparator)(d,p)||"reg"===d&&new gO(p);h||(0,ue.throwError)(""),i.push(h)}}i.length||(0,ue.throwError)("");var g=new gF;return g.valueGetterParam=a,g.valueParser=o,g.getValue=t.getValue,g.subCondList=i,g}(e,t)}function gW(e,t,a){var i=t[e];(0,u.isArray)(i)||(0,ue.throwError)(""),i.length||(0,ue.throwError)("");var n="and"===e?new gV:new gG;return n.children=(0,u.map)(i,function(e){return gH(e,a)}),n.children.length||(0,ue.throwError)(""),n}function gY(e){return(0,u.isObject)(e)&&!(0,u.isArrayLike)(e)}var gX=function(){function e(e,t){this._cond=gH(e,t)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}(),gU={type:"echarts:filter",transform:function(e){for(var t,a=e.upstream,i=new gX(e.config,{valueGetterAttrMap:(0,u.createHashMap)({dimension:!0}),prepareGetValue:function(e){var t=e.dimension;(0,u.hasOwn)(e,"dimension")||(0,ue.throwError)("");var i=a.getDimensionInfo(t);return i||(0,ue.throwError)(""),{dimIdx:i.index}},getValue:function(e){return a.retrieveValueFromItem(t,e.dimIdx)}}),n=[],r=0,o=a.count();r<o;r++)t=a.getRawDataItem(r),i.evaluate()&&n.push(t);return{data:n}}},gZ={type:"echarts:sort",transform:function(e){var t=e.upstream,a=e.config,i=(0,h.normalizeToArray)(a);i.length||(0,ue.throwError)("");var n=[];(0,u.each)(i,function(e){var a=e.dimension,i=e.order,r=e.parser,o=e.incomparable;null==a&&(0,ue.throwError)(""),"asc"!==i&&"desc"!==i&&(0,ue.throwError)(""),o&&"min"!==o&&"max"!==o&&(0,ue.throwError)(""),"asc"!==i&&"desc"!==i&&(0,ue.throwError)("");var s=t.getDimensionInfo(a);s||(0,ue.throwError)("");var l=r?(0,hN.getRawValueParser)(r):null;r&&!l&&(0,ue.throwError)(""),n.push({dimIdx:s.index,parser:l,comparator:new hN.SortOrderComparator(i,o)})});var r=t.sourceFormat;r!==ut.SOURCE_FORMAT_ARRAY_ROWS&&r!==ut.SOURCE_FORMAT_OBJECT_ROWS&&(0,ue.throwError)("");for(var o=[],s=0,l=t.count();s<l;s++)o.push(t.getRawDataItem(s));return o.sort(function(e,a){for(var i=0;i<n.length;i++){var r=n[i],o=t.retrieveValueFromItem(e,r.dimIdx),s=t.retrieveValueFromItem(a,r.dimIdx);r.parser&&(o=r.parser(o),s=r.parser(s));var l=r.comparator.evaluate(o,s);if(0!==l)return l}return 0}),{data:o}}},gj=M,gq=nN,gK=e.i(81349),gJ=iu.default.CMD;function g$(e,t){return 1e-5>Math.abs(e-t)}function gQ(e){var t,a,i,n,r,o=e.data,s=e.len(),l=[],u=0,d=0,c=0,p=0;function h(e,a){t&&t.length>2&&l.push(t),t=[e,a]}function g(e,a,i,n){g$(e,i)&&g$(a,n)||t.push(e,a,i,n,i,n)}for(var f=0;f<s;){var y=o[f++],m=1===f;switch(m&&(u=o[f],d=o[f+1],c=u,p=d,(y===gJ.L||y===gJ.C||y===gJ.Q)&&(t=[c,p])),y){case gJ.M:u=c=o[f++],d=p=o[f++],h(c,p);break;case gJ.L:g(u,d,a=o[f++],i=o[f++]),u=a,d=i;break;case gJ.C:t.push(o[f++],o[f++],o[f++],o[f++],u=o[f++],d=o[f++]);break;case gJ.Q:a=o[f++],i=o[f++],n=o[f++],r=o[f++],t.push(u+2/3*(a-u),d+2/3*(i-d),n+2/3*(a-n),r+2/3*(i-r),n,r),u=n,d=r;break;case gJ.A:var v=o[f++],x=o[f++],_=o[f++],b=o[f++],S=o[f++],w=o[f++]+S;f+=1;var M=!o[f++];a=Math.cos(S)*_+v,i=Math.sin(S)*b+x,m?h(c=a,p=i):g(u,d,a,i),u=Math.cos(w)*_+v,d=Math.sin(w)*b+x;for(var I=(M?-1:1)*Math.PI/2,A=S;M?A>w:A<w;A+=I){var L=M?Math.max(A+I,w):Math.min(A+I,w);!function(e,a,i,n,r,o){var s=4*Math.tan(Math.abs(a-e)/4)/3,l=a<e?-1:1,u=Math.cos(e),d=Math.sin(e),c=Math.cos(a),p=Math.sin(a),h=c*r+i,g=p*o+n,f=r*s*l,y=o*s*l;t.push(u*r+i-f*d,d*o+n+y*u,h+f*p,g-y*c,h,g)}(A,L,v,x,_,b)}break;case gJ.R:c=u=o[f++],p=d=o[f++],a=c+o[f++],i=p+o[f++],h(a,p),g(a,p,a,i),g(a,i,c,i),g(c,i,c,p),g(c,p,a,p);break;case gJ.Z:t&&g(u,d,c,p),u=c,d=p}}return t&&t.length>2&&l.push(t),l}function g0(e,t,a){var i=Math.ceil(Math.sqrt(Math.abs(e[t]/e[1-t])*a)),n=Math.floor(a/i);0===n&&(n=1,i=a);for(var r=[],o=0;o<i;o++)r.push(n);var s=a-i*n;if(s>0)for(var o=0;o<s;o++)r[o%i]+=1;return r}function g1(e,t,a){for(var i=e.r0,n=e.r,r=e.startAngle,o=Math.abs(e.endAngle-r),s=o*n,l=n-i,u=s>Math.abs(l),d=g0([s,l],+!u,t),c=(u?o:l)/d.length,p=0;p<d.length;p++)for(var h=(u?l:o)/d[p],g=0;g<d[p];g++){var f={};u?(f.startAngle=r+c*p,f.endAngle=r+c*(p+1),f.r0=i+h*g,f.r=i+h*(g+1)):(f.startAngle=r+h*g,f.endAngle=r+h*(g+1),f.r0=i+c*p,f.r=i+c*(p+1)),f.clockwise=e.clockwise,f.cx=e.cx,f.cy=e.cy,a.push(f)}}function g2(e,t){var a=e[e.length-1];a&&a[0]===t[0]&&a[1]===t[1]||e.push(t)}function g3(e){var t=e.points,a=[],i=[];(0,rq.fromPoints)(t,a,i);var n=new gj.default(a[0],a[1],i[0]-a[0],i[1]-a[1]),r=n.width,o=n.height,s=n.x,l=n.y,u=new gq.default,d=new gq.default;return r>o?(u.x=d.x=s+r/2,u.y=l,d.y=l+o):(u.y=d.y=l+o/2,u.x=s,d.x=s+r),function(e,t,a){for(var i=e.length,n=[],r=0;r<i;r++){var o=e[r],s=e[(r+1)%i],l=function(e,t,a,i,n,r,o,s){var l=a-e,u=i-t,d=o-n,c=s-r,p=d*u-l*c;if(1e-6>Math.abs(p))return null;var h=((e-n)*c-d*(t-r))/p;return h<0||h>1?null:new gq.default(h*l+e,h*u+t)}(o[0],o[1],s[0],s[1],t.x,t.y,a.x,a.y);l&&n.push({projPt:function(e,t,a){var i=new gq.default;gq.default.sub(i,a,t),i.normalize();var n=new gq.default;return gq.default.sub(n,e,t),n.dot(i)}(l,t,a),pt:l,idx:r})}if(n.length<2)return[{points:e},{points:e}];n.sort(function(e,t){return e.projPt-t.projPt});var u=n[0],d=n[n.length-1];if(d.idx<u.idx){var c=u;u=d,d=c}for(var p=[u.pt.x,u.pt.y],h=[d.pt.x,d.pt.y],g=[p],f=[h],r=u.idx+1;r<=d.idx;r++)g2(g,e[r].slice());g2(g,h),g2(g,p);for(var r=d.idx+1;r<=u.idx+i;r++)g2(f,e[r%i].slice());return g2(f,p),g2(f,h),[{points:g},{points:f}]}(t,u,d)}function g5(e,t,a,i){if(1===a)i.push(t);else{var n=Math.floor(a/2),r=e(t);g5(e,r[0],n,i),g5(e,r[1],a-n,i)}return i}function g4(e,t){for(var a=e.length,i=e[a-2],n=e[a-1],r=[],o=0;o<t.length;)r[o++]=i,r[o++]=n;return r}function g6(e){for(var t=0,a=0,i=0,n=e.length,r=0,o=n-2;r<n;o=r,r+=2){var s=e[o],l=e[o+1],u=e[r],d=e[r+1],c=s*d-u*l;t+=c,a+=(s+u)*c,i+=(l+d)*c}return 0===t?[e[0]||0,e[1]||0]:[a/t/3,i/t/3,t]}function g7(e){return e.__isCombineMorphing}var g8="__mOriginal_";function g9(e,t,a){var i=g8+t,n=e[i]||e[t];e[i]||(e[i]=e[t]);var r=a.replace,o=a.after,s=a.before;e[t]=function(){var e,t=arguments;return s&&s.apply(this,t),e=r?r.apply(this,t):n.apply(this,t),o&&o.apply(this,t),e}}function fe(e,t){var a=g8+t;e[a]&&(e[t]=e[a],e[a]=null)}function ft(e,t){for(var a=0;a<e.length;a++)for(var i=e[a],n=0;n<i.length;){var r=i[n],o=i[n+1];i[n++]=t[0]*r+t[2]*o+t[4],i[n++]=t[1]*r+t[3]*o+t[5]}}function fa(e,t){var a=e.getUpdatedPathProxy(),i=t.getUpdatedPathProxy(),n=function(e,t){for(var a,i,n,r=[],o=[],s=0;s<Math.max(e.length,t.length);s++){var l=e[s],u=t[s],d=void 0,c=void 0;l?u?(d=(a=function(e,t){var a=e.length,i=t.length;if(a===i)return[e,t];for(var n=[],r=[],o=a<i?e:t,s=Math.min(a,i),l=Math.abs(i-a)/6,u=Math.ceil(l/((s-2)/6))+1,d=[o[0],o[1]],c=l,p=2;p<s;){var h=o[p-2],g=o[p-1],f=o[p++],y=o[p++],m=o[p++],v=o[p++],x=o[p++],_=o[p++];if(c<=0){d.push(f,y,m,v,x,_);continue}for(var b=Math.min(c,u-1)+1,S=1;S<=b;S++){var w=S/b;(0,nz.cubicSubdivide)(h,f,m,x,w,n),(0,nz.cubicSubdivide)(g,y,v,_,w,r),h=n[3],g=r[3],d.push(n[1],r[1],n[2],r[2],h,g),f=n[5],y=r[5],m=n[6],v=r[6]}c-=b-1}return o===e?[d,t]:[e,d]}(l,u))[0],c=a[1],i=d,n=c):(c=g4(n||l,l),d=l):(d=g4(i||u,u),c=u),r.push(d),o.push(c)}return[r,o]}(gQ(a),gQ(i)),r=n[0],o=n[1],s=e.getComputedTransform(),l=t.getComputedTransform();s&&ft(r,s),l&&ft(o,l),g9(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var u=function(e,t,a,i){for(var n,r=[],o=0;o<e.length;o++){var s=e[o],l=t[o],u=g6(s),d=g6(l);null==n&&(n=u[2]<0!=d[2]<0);var c=[],p=[],h=0,g=1/0,f=[],y=s.length;n&&(s=function(e){for(var t=[],a=e.length,i=0;i<a;i+=2)t[i]=e[a-i-2],t[i+1]=e[a-i-1];return t}(s));for(var m=6*function(e,t,a,i){for(var n=(e.length-2)/6,r=1/0,o=0,s=e.length,l=s-2,u=0;u<n;u++){for(var d=6*u,c=0,p=0;p<s;p+=2){var h=0===p?d:(d+p-2)%l+2,g=e[h]-a[0],f=e[h+1]-a[1],y=t[p]-i[0],m=t[p+1]-i[1],v=y-g,x=m-f;c+=v*v+x*x}c<r&&(r=c,o=u)}return o}(s,l,u,d),v=y-2,x=0;x<v;x+=2){var _=(m+x)%v+2;c[x+2]=s[_]-u[0],c[x+3]=s[_+1]-u[1]}c[0]=s[m]-u[0],c[1]=s[m+1]-u[1];for(var b=i/10,S=-i/2;S<=i/2;S+=b){for(var w=Math.sin(S),M=Math.cos(S),I=0,x=0;x<s.length;x+=2){var A=c[x],L=c[x+1],T=l[x]-d[0],C=l[x+1]-d[1],D=T*M-C*w,P=T*w+C*M;f[x]=D,f[x+1]=P;var k=D-A,E=P-L;I+=k*k+E*E}if(I<g){g=I,h=S;for(var N=0;N<f.length;N++)p[N]=f[N]}}r.push({from:c,to:p,fromCp:u,toCp:d,rotation:-h})}return r}(r,o,0,Math.PI),d=[];g9(t,"buildPath",{replace:function(e){for(var a=t.__morphT,i=1-a,n=[],r=0;r<u.length;r++){var o=u[r],s=o.from,l=o.to,c=o.rotation*a,p=o.fromCp,h=o.toCp,g=Math.sin(c),f=Math.cos(c);(0,eS.lerp)(n,p,h,a);for(var y=0;y<s.length;y+=2){var m=s[y],v=s[y+1],x=l[y],_=l[y+1],b=m*i+x*a,S=v*i+_*a;d[y]=b*f-S*g+n[0],d[y+1]=b*g+S*f+n[1]}var w=d[0],M=d[1];e.moveTo(w,M);for(var y=2;y<s.length;){var x=d[y++],_=d[y++],I=d[y++],A=d[y++],L=d[y++],T=d[y++];w===x&&M===_&&I===L&&A===T?e.lineTo(L,T):e.bezierCurveTo(x,_,I,A,L,T),w=L,M=T}}}})}function fi(e,t,a){if(!e||!t)return t;var i=a.done,n=a.during;return fa(e,t),t.__morphT=0,t.animateTo({__morphT:1},(0,u.defaults)({during:function(e){t.dirtyShape(),n&&n(e)},done:function(){fe(t,"buildPath"),fe(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),i&&i()}},a)),t}function fn(e){var t=1/0,a=1/0,i=-1/0,n=-1/0,r=(0,u.map)(e,function(e){var r=e.getBoundingRect(),o=e.getComputedTransform(),s=r.x+r.width/2+(o?o[4]:0),l=r.y+r.height/2+(o?o[5]:0);return t=Math.min(s,t),a=Math.min(l,a),i=Math.max(s,i),n=Math.max(l,n),[s,l]});return(0,u.map)(r,function(r,o){return{cp:r,z:function(e,t,a,i,n,r){e=n===a?0:Math.round(32767*(e-a)/(n-a)),t=r===i?0:Math.round(32767*(t-i)/(r-i));for(var o,s=0,l=32768;l>0;l/=2){var u=0,d=0;(e&l)>0&&(u=1),(t&l)>0&&(d=1),s+=l*l*(3*u^d),0===d&&(1===u&&(e=l-1-e,t=l-1-t),o=e,e=t,t=o)}return s}(r[0],r[1],t,a,i,n),path:e[o]}}).sort(function(e,t){return e.z-t.z}).map(function(e){return e.path})}function fr(e){return function(e,t){var a,i=[],n=e.shape;switch(e.type){case"rect":!function(e,t,a){for(var i=e.width,n=e.height,r=i>n,o=g0([i,n],+!r,t),s=r?"width":"height",l=r?"height":"width",u=r?"x":"y",d=r?"y":"x",c=e[s]/o.length,p=0;p<o.length;p++)for(var h=e[l]/o[p],g=0;g<o[p];g++){var f={};f[u]=p*c,f[d]=g*h,f[s]=c,f[l]=h,f.x+=e.x,f.y+=e.y,a.push(f)}}(n,t,i),a=H.default;break;case"sector":g1(n,t,i),a=gK.default;break;case"circle":g1({r0:0,r:n.r,startAngle:0,endAngle:2*Math.PI,cx:n.cx,cy:n.cy},t,i),a=gK.default;break;default:var r=e.getComputedTransform(),o=r?Math.sqrt(Math.max(r[0]*r[0]+r[1]*r[1],r[2]*r[2]+r[3]*r[3])):1,s=(0,u.map)(function(e,t){var a=gQ(e),i=[];t=t||1;for(var n=0;n<a.length;n++){var r=a[n],o=[],s=r[0],l=r[1];o.push(s,l);for(var u=2;u<r.length;){var d=r[u++],c=r[u++],p=r[u++],h=r[u++],g=r[u++],f=r[u++];!function e(t,a,i,n,r,o,s,l,u,d){if(g$(t,i)&&g$(a,n)&&g$(r,s)&&g$(o,l))return void u.push(s,l);var c=2/d,p=c*c,h=s-t,g=l-a,f=Math.sqrt(h*h+g*g);h/=f,g/=f;var y=i-t,m=n-a,v=r-s,x=o-l,_=y*y+m*m,b=v*v+x*x;if(_<p&&b<p)return void u.push(s,l);var S=h*y+g*m,w=-h*v-g*x;if(_-S*S<p&&S>=0&&b-w*w<p&&w>=0)return void u.push(s,l);var M=[],I=[];(0,nz.cubicSubdivide)(t,i,r,s,.5,M),(0,nz.cubicSubdivide)(a,n,o,l,.5,I),e(M[0],I[0],M[1],I[1],M[2],I[2],M[3],I[3],u,d),e(M[4],I[4],M[5],I[5],M[6],I[6],M[7],I[7],u,d)}(s,l,d,c,p,h,g,f,o,t),s=g,l=f}i.push(o)}return i}(e.getUpdatedPathProxy(),o),function(e){for(var t=[],a=0;a<e.length;)t.push([e[a++],e[a++]]);return t}),l=s.length;if(0===l)g5(g3,{points:s[0]},t,i);else if(l===t)for(var d=0;d<l;d++)i.push({points:s[d]});else{var c=0,p=(0,u.map)(s,function(e){var t=[],a=[];(0,rq.fromPoints)(e,t,a);var i=(a[1]-t[1])*(a[0]-t[0]);return c+=i,{poly:e,area:i}});p.sort(function(e,t){return t.area-e.area});for(var h=t,d=0;d<l;d++){var g=p[d];if(h<=0)break;var f=d===l-1?h:Math.ceil(g.area/c*t);f<0||(g5(g3,{points:g.poly},f,i),h-=f)}}a=X.default}if(!a){for(var y=[],m=0;m<t;m++)y.push((0,j.clonePath)(e));return y}for(var v=[],d=0;d<i.length;d++){var x=new a;x.setShape(i[d]),x.setStyle(e.style),x.z=e.z,x.z2=e.z2,x.zlevel=e.zlevel,v.push(x)}return v}(e.path,e.count)}function fo(){return{fromIndividuals:[],toIndividuals:[],count:0}}function fs(e){return(0,u.isArray)(e[0])}function fl(e,t){for(var a=[],i=e.length,n=0;n<i;n++)a.push({one:e[n],many:[]});for(var n=0;n<t.length;n++){var r=t[n].length,o=void 0;for(o=0;o<r;o++)a[o%i].many.push(t[n][o])}for(var s=0,n=i-1;n>=0;n--)if(!a[n].many.length){var l=a[s].many;if(l.length<=1)if(!s)return a;else s=0;var r=l.length,u=Math.ceil(r/2);a[n].many=l.slice(u,r),a[s].many=l.slice(0,u),s++}return a}var fu={clone:function(e){for(var t=[],a=1-Math.pow(1-e.path.style.opacity,1/e.count),i=0;i<e.count;i++){var n=(0,j.clonePath)(e.path);n.setStyle("opacity",a),t.push(n)}return t},split:null};function fd(e,t,a,i,n,r){if(e.length&&t.length){var o,s,l=(0,E.getAnimationConfig)("update",i,n);if(l&&l.duration>0){var d=i.getModel("universalTransition").get("delay"),c=Object.assign({setToFinal:!0},l);fs(e)&&(o=e,s=t),fs(t)&&(o=t,s=e);for(var p=o?o===e:e.length>t.length,h=o?fl(s,o):fl(p?t:e,[p?e:t]),g=0,f=0;f<h.length;f++)g+=h[f].many.length;for(var y=0,f=0;f<h.length;f++)(function e(t,i,n,o,s){var l=t.many,p=t.one;if(1!==l.length||s)for(var h=(0,u.defaults)({dividePath:fu[a],individualDelay:d&&function(e,t,a,i){return d(e+n,o)}},c),g=i?function(e,t,a){var i=[];!function e(t){for(var a=0;a<t.length;a++){var n=t[a];g7(n)?e(n.childrenRef()):n instanceof aK.default&&i.push(n)}}(e);var n=i.length;if(!n)return fo();var r=(a.dividePath||fr)({path:t,count:n});if(r.length!==n)return console.error("Invalid morphing: unmatched splitted path"),fo();i=fn(i),r=fn(r);for(var o=a.done,s=a.during,l=a.individualDelay,d=new tA.default,c=0;c<n;c++){var p=i[c],h=r[c];h.parent=t,h.copyTransform(d),l||fa(p,h)}function g(e){for(var t=0;t<r.length;t++)r[t].addSelfToZr(e)}function f(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,fe(t,"addSelfToZr"),fe(t,"removeSelfFromZr")}t.__isCombineMorphing=!0,t.childrenRef=function(){return r},g9(t,"addSelfToZr",{after:function(e){g(e)}}),g9(t,"removeSelfFromZr",{after:function(e){for(var t=0;t<r.length;t++)r[t].removeSelfFromZr(e)}});var y=r.length;if(l)for(var m=y,v=function(){0==--m&&(f(),o&&o())},c=0;c<y;c++){var x=l?(0,u.defaults)({delay:(a.delay||0)+l(c,y,i[c],r[c]),done:v},a):a;fi(i[c],r[c],x)}else t.__morphT=0,t.animateTo({__morphT:1},(0,u.defaults)({during:function(e){for(var a=0;a<y;a++){var i=r[a];i.__morphT=t.__morphT,i.dirtyShape()}s&&s(e)},done:function(){f();for(var t=0;t<e.length;t++)fe(e[t],"updateTransform");o&&o()}},a));return t.__zr&&g(t.__zr),{fromIndividuals:i,toIndividuals:r,count:y}}(l,p,h):function(e,t,a){var i=t.length,n=[],r=a.dividePath||fr;if(g7(e)){!function e(t){for(var a=0;a<t.length;a++){var i=t[a];g7(i)?e(i.childrenRef()):i instanceof aK.default&&n.push(i)}}(e.childrenRef());var o=n.length;if(o<i)for(var s=0,l=o;l<i;l++)n.push((0,j.clonePath)(n[s++%o]));n.length=i}else{n=r({path:e,count:i});for(var d=e.getComputedTransform(),l=0;l<n.length;l++)n[l].setLocalTransform(d);if(n.length!==i)return console.error("Invalid morphing: unmatched splitted path"),fo()}n=fn(n),t=fn(t);for(var c=a.individualDelay,l=0;l<i;l++){var p=c?(0,u.defaults)({delay:(a.delay||0)+c(l,i,n[l],t[l])},a):a;fi(n[l],t[l],p)}return{fromIndividuals:n,toIndividuals:t,count:t.length}}(p,l,h),f=g.fromIndividuals,y=g.toIndividuals,m=f.length,v=0;v<m;v++){var x=d?(0,u.defaults)({delay:d(v,m)},c):c;r(f[v],y[v],i?l[v]:t.one,i?t.one:l[v],x)}else{var _=i?l[0]:p,b=i?p:l[0];if(g7(_))e({many:[_],one:b},!0,n,o,!0);else{var x=d?(0,u.defaults)({delay:d(n,o)},c):c;fi(_,b,x),r(_,b,_,b,x)}}})(h[f],p,y,g),y+=h[f].many.length}}}function fc(e){if(!e)return[];if((0,u.isArray)(e)){for(var t=[],a=0;a<e.length;a++)t.push(fc(e[a]));return t}var i=[];return e.traverse(function(e){e instanceof ni.Path&&!e.disableMorphing&&!e.invisible&&!e.ignore&&i.push(e)}),i}var fp=(0,h.makeInner)();function fh(e,t,a,i){var n=function(e,t){for(var a=e.dimensions,i=0;i<a.length;i++){var n=e.getDimensionInfo(a[i]);if(n&&0===n.otherDims[t])return a[i]}}(e,i?"itemChildGroupId":"itemGroupId");if(n){var r=e,o=t,s=n,l=r.getDimensionInfo(s),u=l&&l.ordinalMeta;if(l){var d=r.get(l.name,o);return u&&u.categories[d]||d+""}return}var c=e.getRawDataItem(t),p=i?"childGroupId":"groupId";return c&&c[p]?c[p]+"":i?void 0:a||e.getId(t)}function fg(e){var t=[];return(0,u.each)(e,function(e){var a=e.data,i=e.dataGroupId;if(!(a.count()>1e4))for(var n=a.getIndices(),r=0;r<n.length;r++)t.push({data:a,groupId:fh(a,r,i,!1),childGroupId:fh(a,r,i,!0),divide:e.divide,dataIndex:r})}),t}function ff(e,t,a){e.traverse(function(e){e instanceof aK.default&&(0,E.initProps)(e,{style:{opacity:0}},t,{dataIndex:a,isFrom:!0})})}function fy(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function fm(e){e.stopAnimation(),e.isGroup&&e.traverse(function(e){e.stopAnimation()})}function fv(e,t,a){var i=fg(e),n=fg(t);function r(e,t,a,i,n){(a||e)&&t.animateFrom({style:a&&a!==e?(0,u.extend)((0,u.extend)({},a.style),e.style):e.style},n)}var o=!1,s=0,l=(0,u.createHashMap)(),d=(0,u.createHashMap)();i.forEach(function(e){e.groupId&&l.set(e.groupId,!0),e.childGroupId&&d.set(e.childGroupId,!0)});for(var c=0;c<n.length;c++){var p=n[c].groupId;if(d.get(p)){s=1;break}var h=n[c].childGroupId;if(h&&l.get(h)){s=2;break}}function g(e,t){return function(a){var i=a.data,n=a.dataIndex;return t?i.getId(n):e?1===s?a.childGroupId:a.groupId:2===s?a.childGroupId:a.groupId}}var f=function(e,t){var a=e.length;if(a!==t.length)return!1;for(var i=0;i<a;i++){var n=e[i],r=t[i];if(n.data.getId(n.dataIndex)!==r.data.getId(r.dataIndex))return!1}return!0}(i,n),y={};if(!f)for(var c=0;c<n.length;c++){var m=n[c],v=m.data.getItemGraphicEl(m.dataIndex);v&&(y[v.id]=!0)}function x(e,t){var a,s,l=i[t],u=n[e],d=u.data.hostModel,c=l.data.getItemGraphicEl(l.dataIndex),p=u.data.getItemGraphicEl(u.dataIndex);if(c===p){p&&(a=u.dataIndex,(s=(0,E.getAnimationConfig)("update",d,a))&&p.traverse(function(e){if(e instanceof e2.default){var t=(0,E.getOldStyle)(e);t&&e.animateFrom({style:t},s)}}));return}c&&y[c.id]||p&&(fm(p),c?(fm(c),fy(c),o=!0,fd(fc(c),fc(p),u.divide,d,e,r)):ff(p,d,e))}new ov.default(i,n,g(!0,f),g(!1,f),null,"multiple").update(x).updateManyToOne(function(e,t){var a=n[e],s=a.data,l=s.hostModel,d=s.getItemGraphicEl(a.dataIndex),c=(0,u.filter)((0,u.map)(t,function(e){return i[e].data.getItemGraphicEl(i[e].dataIndex)}),function(e){return e&&e!==d&&!y[e.id]});d&&(fm(d),c.length?((0,u.each)(c,function(e){fm(e),fy(e)}),o=!0,fd(fc(c),fc(d),a.divide,l,e,r)):ff(d,l,a.dataIndex))}).updateOneToMany(function(e,t){var a=i[t],s=a.data.getItemGraphicEl(a.dataIndex);if(!s||!y[s.id]){var l=(0,u.filter)((0,u.map)(e,function(e){return n[e].data.getItemGraphicEl(n[e].dataIndex)}),function(e){return e&&e!==s}),d=n[e[0]].data.hostModel;l.length&&((0,u.each)(l,function(e){return fm(e)}),s?(fm(s),fy(s),o=!0,fd(fc(s),fc(l),a.divide,d,e[0],r)):(0,u.each)(l,function(t){return ff(t,d,e[0])}))}}).updateManyToMany(function(e,t){new ov.default(t,e,function(e){return i[e].data.getId(i[e].dataIndex)},function(e){return n[e].data.getId(n[e].dataIndex)}).update(function(a,i){x(e[a],t[i])}).execute()}).execute(),o&&(0,u.each)(t,function(e){var t=e.data.hostModel,i=t&&a.getViewOfSeriesModel(t),n=(0,E.getAnimationConfig)("update",t,0);i&&t.isAnimationEnabled()&&n&&n.duration>0&&i.group.traverse(function(e){e instanceof aK.default&&!e.animators.length&&e.animateFrom({style:{opacity:0}},n)})})}function fx(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function f_(e){return(0,u.isArray)(e)?e.sort().join(","):e}function fb(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function fS(e,t){for(var a=0;a<e.length;a++)if(null!=t.seriesIndex&&t.seriesIndex===e[a].seriesIndex||null!=t.seriesId&&t.seriesId===e[a].id)return a}var M=M,fw=["align","verticalAlign","width","height","fontSize"],fM=new tA.default,fI=(0,h.makeInner)(),fA=(0,h.makeInner)();function fL(e,t,a){for(var i=0;i<a.length;i++){var n=a[i];null!=t[n]&&(e[n]=t[n])}}var fT=["x","y","rotation"],fC=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(e,t,a,i,n){var r,o=i.style,s=i.__hostTarget.textConfig||{},l=i.getComputedTransform(),u=i.getBoundingRect().plain();M.default.applyTransform(u,u,l),l?fM.setLocalTransform(l):(fM.x=fM.y=fM.rotation=fM.originX=fM.originY=0,fM.scaleX=fM.scaleY=1),fM.rotation=(0,nO.normalizeRadian)(fM.rotation);var d=i.__hostTarget;if(d){r=d.getBoundingRect().plain();var c=d.getComputedTransform();M.default.applyTransform(r,r,c)}var p=r&&d.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:a,dataIndex:e,dataType:t,layoutOptionOrCb:n,layoutOption:null,rect:u,hostRect:r,priority:r?r.width*r.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:fM.x,y:fM.y,scaleX:fM.scaleX,scaleY:fM.scaleY,rotation:fM.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:s.position,attachedRot:s.rotation}})},e.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var a=e.__model,i=a.get("labelLayout");((0,u.isFunction)(i)||(0,u.keys)(i).length)&&e.group.traverse(function(e){if(e.ignore)return!0;var n=e.getTextContent(),r=(0,e0.getECData)(e);n&&!n.disableLabelLayout&&t._addLabel(r.dataIndex,r.dataType,a,n,i)})},e.prototype.updateLayoutConfig=function(e){for(var t=e.getWidth(),a=e.getHeight(),i=0;i<this._labelList.length;i++){var n=this._labelList[i],r=n.label,o=r.__hostTarget,s=n.defaultAttr,l=void 0;l=(l=(0,u.isFunction)(n.layoutOptionOrCb)?n.layoutOptionOrCb(function(e,t){var a=e.label,i=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:a.style.align,verticalAlign:a.style.verticalAlign,labelLinePoints:function(e){if(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].slice());return t}}(i&&i.shape.points)}}(n,o)):n.layoutOptionOrCb)||{},n.layoutOption=l;var d=Math.PI/180;o&&o.setTextConfig({local:!1,position:null!=l.x||null!=l.y?null:s.attachedPos,rotation:null!=l.rotate?l.rotate*d:s.attachedRot,offset:[l.dx||0,l.dy||0]});var c=!1;if(null!=l.x?(r.x=(0,tL.parsePercent)(l.x,t),r.setStyle("x",0),c=!0):(r.x=s.x,r.setStyle("x",s.style.x)),null!=l.y?(r.y=(0,tL.parsePercent)(l.y,a),r.setStyle("y",0),c=!0):(r.y=s.y,r.setStyle("y",s.style.y)),l.labelLinePoints){var p=o.getTextGuideLine();p&&(p.setShape({points:l.labelLinePoints}),c=!1)}fI(r).needsUpdateLabelLine=c,r.rotation=null!=l.rotate?l.rotate*d:s.rotation,r.scaleX=s.scaleX,r.scaleY=s.scaleY;for(var h=0;h<fw.length;h++){var g=fw[h];r.setStyle(g,null!=l[g]?l[g]:s.style[g])}if(l.draggable){if(r.draggable=!0,r.cursor="move",o){var f=n.seriesModel;null!=n.dataIndex&&(f=n.seriesModel.getData(n.dataType).getItemModel(n.dataIndex)),r.on("drag",function(e,t){return function(){nq(e,t)}}(o,f.getModel("labelLine")))}}else r.off("drag"),r.cursor=s.cursor}},e.prototype.layout=function(e){var t=e.getWidth(),a=e.getHeight(),i=[];(0,u.each)(this._labelList,function(e){e.defaultAttr.ignore||i.push((0,n3.newLabelLayoutWithGeometry)({},e))});var n=(0,u.filter)(i,function(e){return"shiftX"===e.layoutOption.moveOverlap}),r=(0,u.filter)(i,function(e){return"shiftY"===e.layoutOption.moveOverlap});(0,n3.shiftLayoutOnXY)(n,0,0,t),(0,n3.shiftLayoutOnXY)(r,1,0,a);var o=(0,u.filter)(i,function(e){return e.layoutOption.hideOverlap});(0,n3.restoreIgnore)(o),(0,n3.hideOverlap)(o)},e.prototype.processLabelsOverall=function(){var e=this;(0,u.each)(this._chartViewList,function(t){var a=t.__model,i=t.ignoreLabelLineUpdate,n=a.isAnimationEnabled();t.group.traverse(function(t){if(t.ignore&&!t.forceLabelAnimation)return!0;var r=!i,o=t.getTextContent();!r&&o&&(r=fI(o).needsUpdateLabelLine),r&&e._updateLabelLine(t,a),n&&e._animateLabels(t,a)})})},e.prototype._updateLabelLine=function(e,t){var a=e.getTextContent(),i=(0,e0.getECData)(e),n=i.dataIndex;if(a&&null!=n){var r=t.getData(i.dataType),o=r.getItemModel(n),s={},l=r.getItemVisual(n,"style");l&&(s.stroke=l[r.getVisual("drawType")]);var u=o.getModel("labelLine");n1(e,n2(o),s),nq(e,u)}},e.prototype._animateLabels=function(e,t){var a=e.getTextContent(),i=e.getTextGuideLine();if(a&&(e.forceLabelAnimation||!a.ignore&&!a.invisible&&!e.disableLabelAnimation&&!(0,E.isElementRemoved)(e))){var n=fI(a),r=n.oldLayout,o=(0,e0.getECData)(e),s=o.dataIndex,l={x:a.x,y:a.y,rotation:a.rotation},d=t.getData(o.dataType);if(r){a.attr(r);var c=e.prevStates;c&&((0,u.indexOf)(c,"select")>=0&&a.attr(n.oldLayoutSelect),(0,u.indexOf)(c,"emphasis")>=0&&a.attr(n.oldLayoutEmphasis)),(0,E.updateProps)(a,l,t,s)}else if(a.attr(l),!(0,eQ.labelInner)(a).valueAnimation){var p=(0,u.retrieve2)(a.style.opacity,1);a.style.opacity=0,(0,E.initProps)(a,{style:{opacity:p}},t,s)}if(n.oldLayout=l,a.states.select){var h=n.oldLayoutSelect={};fL(h,l,fT),fL(h,a.states.select,fT)}if(a.states.emphasis){var g=n.oldLayoutEmphasis={};fL(g,l,fT),fL(g,a.states.emphasis,fT)}(0,eQ.animateLabelValue)(a,s,d,t,t)}if(i&&!i.ignore&&!i.invisible){var n=fA(i),r=n.oldLayout,f={points:i.shape.points};r?(i.attr({shape:r}),(0,E.updateProps)(i,{shape:f},t)):(i.setShape(f),i.style.strokePercent=0,(0,E.initProps)(i,{style:{strokePercent:1}},t)),n.oldLayout=f}},e}(),fD=(0,h.makeInner)(),fP=e.i(12999),fk=function(){function e(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return e.prototype.setBreaks=function(e){this.breaks=e.breaks},e.prototype.update=function(e){t=this,a=e,i=0,n={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},o={S:{tpAbs:(r=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}})(),tpPrct:r()},E:{tpAbs:r(),tpPrct:r()}},(0,u.each)(t.breaks,function(e){var t=e.gapParsed;"tpPrct"===t.type&&(i+=t.val);var r=fV(e,a);if(r){var s=r.vmin!==e.vmin,l=r.vmax!==e.vmax,u=r.vmax-r.vmin;if(s&&l);else if(s||l){var d=s?"S":"E";o[d][t.type].has=!0,o[d][t.type].span=u,o[d][t.type].inExtFrac=u/(e.vmax-e.vmin),o[d][t.type].val=t.val}else n[t.type].span+=u,n[t.type].val+=t.val}}),s=i*(0+(a[1]-a[0])+(n.tpAbs.val-n.tpAbs.span)+(o.S.tpAbs.has?(o.S.tpAbs.val-o.S.tpAbs.span)*o.S.tpAbs.inExtFrac:0)+(o.E.tpAbs.has?(o.E.tpAbs.val-o.E.tpAbs.span)*o.E.tpAbs.inExtFrac:0)-n.tpPrct.span-(o.S.tpPrct.has?o.S.tpPrct.span*o.S.tpPrct.inExtFrac:0)-(o.E.tpPrct.has?o.E.tpPrct.span*o.E.tpPrct.inExtFrac:0))/(1-n.tpPrct.val-(o.S.tpPrct.has?o.S.tpPrct.val*o.S.tpPrct.inExtFrac:0)-(o.E.tpPrct.has?o.E.tpPrct.val*o.E.tpPrct.inExtFrac:0)),(0,u.each)(t.breaks,function(e){var t=e.gapParsed;"tpPrct"===t.type&&(e.gapReal=0!==i?Math.max(s,0)*t.val/i:0),"tpAbs"===t.type&&(e.gapReal=t.val),null==e.gapReal&&(e.gapReal=0)});var t,a,i,n,r,o,s,l=this._elapsedExtent;l[0]=this.elapse(e[0]),l[1]=this.elapse(e[1])},e.prototype.hasBreaks=function(){return!!this.breaks.length},e.prototype.calcNiceTickMultiple=function(e,t){for(var a=0;a<this.breaks.length;a++){var i=this.breaks[a];if(i.vmin<e&&e<i.vmax)return t(e,i.vmax)}return 0},e.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},e.prototype.normalize=function(e){var t=this._elapsedExtent[1]-this._elapsedExtent[0];return 0===t?.5:(this.elapse(e)-this._elapsedExtent[0])/t},e.prototype.scale=function(e){return this.unelapse(e*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},e.prototype.elapse=function(e){for(var t=fN,a=fR,i=!0,n=0;n<this.breaks.length;n++){var r=this.breaks[n];if(e<=r.vmax){e>r.vmin?t+=r.vmin-a+(e-r.vmin)/(r.vmax-r.vmin)*r.gapReal:t+=e-a,a=r.vmax,i=!1;break}t+=r.vmin-a+r.gapReal,a=r.vmax}return i&&(t+=e-a),t},e.prototype.unelapse=function(e){for(var t=fN,a=fR,i=!0,n=0,r=0;r<this.breaks.length;r++){var o=this.breaks[r],s=t+o.vmin-a,l=s+o.gapReal;if(e<=l){n=e>s?o.vmin+(e-s)/(l-s)*(o.vmax-o.vmin):a+e-t,a=o.vmax,i=!1;break}t=l,a=o.vmax}return i&&(n=a+e-t),n},e}();function fE(){return new fk}var fN=0,fR=0;function fO(e,t,a,i,n,r){"no"!==e&&(0,u.each)(a,function(a){var o=fV(a,r);if(o)for(var s=t.length-1;s>=0;s--){var l=i(t[s]),u=3*n/4;l>o.vmin-u&&l<o.vmax+u&&("preserve_extent_bound"!==e||l!==r[0]&&l!==r[1])&&t.splice(s,1)}})}function fz(e,t,a,i){(0,u.each)(t,function(t){var n=fV(t,a);n&&(e.push({value:n.vmin,break:{type:"vmin",parsedBreak:n},time:i?i(n):void 0}),e.push({value:n.vmax,break:{type:"vmax",parsedBreak:n},time:i?i(n):void 0}))}),t.length&&e.sort(function(e,t){return e.value-t.value})}function fV(e,t){var a=Math.max(e.vmin,t[0]),i=Math.min(e.vmax,t[1]);return a<i||a===i&&a>t[0]&&a<t[1]?{vmin:a,vmax:i,breakOption:e.breakOption,gapParsed:e.gapParsed,gapReal:e.gapReal}:null}function fG(e,t,a){var i=[];if(!e)return{breaks:i};(0,u.each)(e,function(e){if(e&&null!=e.start&&null!=e.end&&!e.isExpanded){var n={breakOption:(0,u.clone)(e),vmin:t(e.start),vmax:t(e.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(null!=e.gap){var r=!1;if((0,u.isString)(e.gap)){var o=(0,u.trim)(e.gap);if(o.match(/%$/)){var s,l=parseFloat(o)/100;(s=l)>=0&&s<1-1e-5||(l=0),n.gapParsed.type="tpPrct",n.gapParsed.val=l,r=!0}}if(!r){var d=t(e.gap);(!isFinite(d)||d<0)&&(d=0),n.gapParsed.type="tpAbs",n.gapParsed.val=d}}if(n.vmin===n.vmax&&(n.gapParsed.type="tpAbs",n.gapParsed.val=0),a&&a.noNegative&&(0,u.each)(["vmin","vmax"],function(e){n[e]<0&&(n[e]=0)}),n.vmin>n.vmax){var c=n.vmax;n.vmax=n.vmin,n.vmin=c}i.push(n)}}),i.sort(function(e,t){return e.vmin-t.vmin});var n=-1/0;return(0,u.each)(i,function(e,t){n>e.vmin&&(i[t]=null),n=e.vmax}),{breaks:i.filter(function(e){return!!e})}}function fB(e,t){return fF(t)===fF(e)}function fF(e){return e.start+"_\0_"+e.end}function fH(e,t,a){var i=[];(0,u.each)(e,function(e,a){var n=t(e);n&&"vmin"===n.type&&i.push([a])}),(0,u.each)(e,function(a,n){var r=t(a);if(r&&"vmax"===r.type){var o=(0,u.find)(i,function(a){return fB(t(e[a[0]]).parsedBreak.breakOption,r.parsedBreak.breakOption)});o&&o.push(n)}});var n=[];return(0,u.each)(i,function(t){2===t.length&&n.push(a?t:[e[t[0]],e[t[1]]])}),n}function fW(e,t,a,i){if(e.break){var n,r,o=e.break.parsedBreak,s=(0,u.find)(a,function(t){return fB(t.breakOption,e.break.parsedBreak.breakOption)}),l=i(Math.pow(t,o.vmin),s.vmin),d=i(Math.pow(t,o.vmax),s.vmax),c={type:o.gapParsed.type,val:"tpAbs"===o.gapParsed.type?(0,tL.round)(Math.pow(t,o.vmin+o.gapParsed.val))-l:o.gapParsed.val};n={type:e.break.type,parsedBreak:{breakOption:o.breakOption,vmin:l,vmax:d,gapParsed:c,gapReal:o.gapReal}},r=s[e.break.type]}return{brkRoundingCriterion:r,vBreak:n}}function fY(e,t,a){var i={noNegative:!0},n=fG(e,a,i),r=fG(e,a,i),o=Math.log(t);return r.breaks=(0,u.map)(r.breaks,function(e){var t=Math.log(e.vmin)/o,a=Math.log(e.vmax)/o,i={type:e.gapParsed.type,val:"tpAbs"===e.gapParsed.type?Math.log(e.vmin+e.gapParsed.val)/o-t:e.gapParsed.val};return{vmin:t,vmax:a,gapParsed:i,gapReal:e.gapReal,breakOption:e.breakOption}}),{parsedOriginal:n,parsedLogged:r}}var fX={vmin:"start",vmax:"end"};function fU(e,t){return t&&((e=e||{}).break={type:fX[t.type],start:t.parsedBreak.vmin,end:t.parsedBreak.vmax}),e}var fZ=e.i(50419),nN=nN,fj=(0,h.makeInner)();function fq(e,t,a,i,n){var r=a.axis;if(!r.scale.isBlank()&&(0,fP.getScaleBreakHelper)()){var o=(0,fP.getScaleBreakHelper)().retrieveAxisBreakPairs(r.scale.getTicks({breakTicks:"only_break"}),function(e){return e.break},!1);if(o.length){var s=a.getModel("breakArea"),l=s.get("zigzagAmplitude"),d=s.get("zigzagMinSpan"),c=s.get("zigzagMaxSpan");c=Math.max(d=Math.max(2,d||0),c||0);var p=s.get("expandOnClick"),h=s.get("zigzagZ"),f=s.getModel("itemStyle").getItemStyle(),y=f.stroke,m=f.lineWidth,v=f.lineDash,x=f.fill,_=new N.Group({ignoreModelZ:!0}),b=r.isHorizontal(),S=fj(t).visualList||(fj(t).visualList=[]);(0,u.each)(S,function(e){return e.shouldRemove=!0});for(var w=0;w<o.length;w++)!function(e){var t,s=o[e][0].break.parsedBreak,w=[];w[0]=r.toGlobalCoord(r.dataToCoord(s.vmin,!0)),w[1]=r.toGlobalCoord(r.dataToCoord(s.vmax,!0)),w[1]<w[0]&&w.reverse();var M=((t=(0,u.find)(S,function(e){return(0,fP.getScaleBreakHelper)().identifyAxisBreak(e.parsedBreak.breakOption,s.breakOption)}))||S.push(t={zigzagRandomList:[],parsedBreak:s,shouldRemove:!1}),t);M.shouldRemove=!1;var I=new N.Group;(function(e,t,a,n,r,o){var s={stroke:y,lineWidth:m,lineDash:v,fill:"none"},u=+!r,p=1-u,_=i[g.XY[p]]+i[g.WH[p]];function b(e){var t=[],a=[];t[u]=a[u]=e,t[p]=i[g.XY[p]],a[p]=_;var n={x1:t[0],y1:t[1],x2:a[0],y2:a[1]};return(0,pI.subPixelOptimizeLine)(n,n,{lineWidth:1}),t[0]=n.x1,t[1]=n.y1,t[u]}a=b(a),n=b(n);for(var S=[],w=[],M=!0,I=i[g.XY[p]],A=0;;A++){var L=I===i[g.XY[p]],T=I>=_;T&&(I=_);var C=[],D=[];C[u]=a,D[u]=n,L||T||(C[u]+=M?-l:l,D[u]-=M?l:-l),C[p]=I,D[p]=I,S.push(C),w.push(D);var P=void 0;if(A<e.length?P=e[A]:(P=Math.random(),e.push(P)),I+=P*(c-d)+d,M=!M,T)break}var k=(0,fP.getScaleBreakHelper)().serializeAxisBreakIdentifier(o.breakOption);if(t.add(new R.Polyline({anid:"break_a_"+k,shape:{points:S},style:s,z:h})),0!==o.gapReal){t.add(new R.Polyline({anid:"break_b_"+k,shape:{points:w},style:s,z:h}));var E=w.slice();E.reverse();var N=S.concat(E);t.add(new O.Polygon({anid:"break_c_"+k,shape:{points:N},style:{fill:x,opacity:f.opacity},z:h}))}})(M.zigzagRandomList,I,w[0],w[1],b,s),p&&I.on("click",function(){var e={type:fZ.AXIS_BREAK_EXPAND_ACTION_TYPE,breaks:[{start:s.breakOption.start,end:s.breakOption.end}]};e[r.dim+"AxisIndex"]=a.componentIndex,n.dispatchAction(e)}),I.silent=!p,_.add(I)}(w);e.add(_);for(var M=S.length-1;M>=0;M--)S[M].shouldRemove&&S.splice(M,1)}}}function fK(e,t,a,i){var n=e.axis,r=a.transform;(0,u.assert)(i.style);var o=n.getExtent();n.inverse&&(o=o.slice()).reverse();var s=(0,fP.getScaleBreakHelper)().retrieveAxisBreakPairs(n.scale.getTicks({breakTicks:"only_break"}),function(e){return e.break},!1),l=(0,u.map)(s,function(e){var t=e[0].break.parsedBreak,a=[n.dataToCoord(t.vmin,!0),n.dataToCoord(t.vmax,!0)];return a[0]>a[1]&&a.reverse(),{coordPair:a,brkId:(0,fP.getScaleBreakHelper)().serializeAxisBreakIdentifier(t.breakOption)}});l.sort(function(e,t){return e.coordPair[0]-t.coordPair[0]});for(var d=o[0],c=null,p=0;p<l.length;p++){var h=l[p],g=Math.max(h.coordPair[0],o[0]),f=Math.min(h.coordPair[1],o[1]);d<=g&&y(d,g,c,h),d=f,c=h}function y(e,a,n,o){function s(e,t){r&&((0,eS.applyTransform)(e,e,r),(0,eS.applyTransform)(t,t,r))}function l(e,t){var a={x1:e[0],y1:e[1],x2:t[0],y2:t[1]};(0,pI.subPixelOptimizeLine)(a,a,i.style),e[0]=a.x1,e[1]=a.y1,t[0]=a.x2,t[1]=a.y2}var d=[e,0],c=[a,0],p=[e,5],h=[a,5];s(d,p),l(d,p),s(c,h),l(c,h),l(d,c);var g=new sh.Line((0,u.extend)({shape:{x1:d[0],y1:d[1],x2:c[0],y2:c[1]}},i));t.add(g),g.anid="breakLine_"+(n?n.brkId:"\0")+"_\0_"+(o?o.brkId:"\0")}d<=o[1]&&y(d,o[1],c,null)}function fJ(e,t,a){if(!(0,u.find)(a,function(e){return!e})){var i=new nN.default;if((0,n3.labelIntersect)(a[0],a[1],i,{direction:-(e?t+Math.PI:t),touchThreshold:0,bidirectional:!1})){var n=Z.create();Z.rotate(n,n,-t);var r=(0,u.map)(a,function(e){return e.transform?Z.mul(Z.create(),n,e.transform):n}),o=.5;if(m(0)||m(1)){var s=(0,u.map)(a,function(e,t){var a=e.localRect.clone();return a.applyTransform(r[t]),a}),l=new nN.default;l.copy(a[0].label).add(a[1].label).scale(.5),l.transform(n);var d=i.clone().transform(n),c=(s[0].x+s[1].x+(d.x>=0?s[0].width:s[1].width)+d.x)/2-l.x,p=Math.min(c,c-d.x),h=Math.max(c,c-d.x);o=(c-(h<0?h:p>0?p:0))/d.x}var f=new nN.default,y=new nN.default;nN.default.scale(f,i,-o),nN.default.scale(y,i,1-o),(0,n3.labelLayoutApplyTranslation)(a[0],f),(0,n3.labelLayoutApplyTranslation)(a[1],y)}}function m(e){var t=a[0].localRect;return 1e-5>Math.abs(new nN.default(t[g.WH[e]]*r[0][0],t[g.WH[e]]*r[0][1]).y)}}function f$(e,t){var a={breaks:[]};return(0,u.each)(t.breaks,function(i){if(i){var n=(0,u.find)(e.get("breaks",!0),function(e){return(0,fP.getScaleBreakHelper)().identifyAxisBreak(e,i)});if(n){var r=t.type,o={isExpanded:!!n.isExpanded};n.isExpanded=r===fZ.AXIS_BREAK_EXPAND_ACTION_TYPE||r!==fZ.AXIS_BREAK_COLLAPSE_ACTION_TYPE&&(r===fZ.AXIS_BREAK_TOGGLE_ACTION_TYPE?!n.isExpanded:n.isExpanded),a.breaks.push({start:n.start,end:n.end,isExpanded:!!n.isExpanded,old:o})}}}),a}var fQ=M,f0=e.i(77434);function f1(e,t){(0,u.each)(e,function(e){if(!e.model.get(["axisLabel","inside"])){var a=function(e){var t,a,i,n=e.model,r=e.scale;if(!(!n.get(["axisLabel","show"])||r.isBlank())){var o=r.getExtent();a=r instanceof c9.default?r.count():(t=r.getTicks()).length;var s=e.getLabelModel(),l=(0,lv.makeLabelFormatter)(e),u=1;a>40&&(u=Math.ceil(a/40));for(var d=0;d<a;d+=u){var c=l(t?t[d]:{value:o[0]+d},d),p=function(e,t){var a=t*Math.PI/180,i=e.width,n=e.height,r=i*Math.abs(Math.cos(a))+Math.abs(n*Math.sin(a)),o=i*Math.abs(Math.sin(a))+Math.abs(n*Math.cos(a));return new fQ.default(e.x,e.y,r,o)}(s.getTextRect(c),s.get("rotate")||0);i?i.union(p):i=p}return i}}(e);if(a){var i=e.isHorizontal()?"height":"width",n=e.model.get(["axisLabel","margin"]);t[i]-=a[i]+n,"top"===e.position?t.y+=a.height+n:"left"===e.position&&(t.x+=a.width+n)}}})}(0,r.use)([i3.CanvasRenderer]),(0,r.use)([function(e){e.registerPainter("svg",i1)}]),(0,r.use)([i5.LineChart,function(e){e.registerChartView(nh),e.registerSeriesModel(i9),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,u.curry(i4.layout,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,i4.createProgressiveLayout)("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,(0,i6.default)("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var a=e.componentType||"series";t.eachComponent({mainType:a,query:e},function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)})})},function(e){e.registerChartView(ra),e.registerSeriesModel(rr),(0,tb.createLegacyDataSelectAction)("pie",e.registerAction),e.registerLayout((0,u.curry)(nP,"pie")),e.registerProcessor(nE("pie")),e.registerProcessor({seriesType:"pie",reset:function(e,t){var a=e.getData();a.filterSelf(function(e){var t=a.mapDimension("value"),i=a.get(t,e);return!(0,u.isNumber)(i)||!!isNaN(i)||!(i<0)})}})},function(e){(0,r.use)(rh.install),e.registerSeriesModel(ro),e.registerChartView(rp),e.registerLayout((0,rc.default)("scatter"))},function(e){(0,r.use)(rG),e.registerChartView(rM),e.registerSeriesModel(rI),e.registerLayout(r_),e.registerProcessor(nE("radar")),e.registerPreprocessor(rS)},tY,function(e){e.registerChartView(r$),e.registerSeriesModel(od),e.registerLayout(op),e.registerVisual(oh),e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(t){var a=e.dataIndex,i=t.getData().tree.getNodeByDataIndex(a);i.isExpand=!i.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,a){t.eachComponent({mainType:"series",subType:"tree",query:e},function(t){var a=C(t.coordinateSystem,e,t.get("scaleLimit"));t.setCenter(a.center),t.setZoom(a.zoom)})})},function(e){e.registerSeriesModel(om),e.registerChartView(oE),e.registerVisual(oO),e.registerLayout(oq);for(var t=0;t<og.length;t++)e.registerAction({type:og[t],update:"updateView"},u.noop);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},function(t,a){var i=oo(e,["treemapZoomToNode","treemapRootToNode"],t);if(i){var n=t.getViewRoot();n&&(e.direction=ol(n,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}})})},function(e){e.registerChartView(sB),e.registerSeriesModel(sj),e.registerProcessor(o$),e.registerVisual(oQ),e.registerVisual(o1),e.registerLayout(st),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,su),e.registerLayout(sc),e.registerCoordinateSystem("graphView",{dimensions:tC.dimensions,create:sp}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},u.noop),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},u.noop),e.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t,a){t.eachComponent({mainType:"series",query:e},function(t){var i=a.getViewOfSeriesModel(t);i&&(null!=e.dx&&null!=e.dy&&i.updateViewOnPan(t,a,e),null!=e.zoom&&null!=e.originX&&null!=e.originY&&i.updateViewOnZoom(t,a,e));var n=C(t.coordinateSystem,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom)})})},function(e){e.registerChartView(s0),e.registerSeriesModel(s1),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,s3),e.registerProcessor(nE("chord"))},function(e){e.registerChartView(s7),e.registerSeriesModel(s8)},function(e){e.registerChartView(lt),e.registerSeriesModel(la),e.registerLayout(li),e.registerProcessor(nE("funnel"))},function(e){(0,r.use)(lz),e.registerChartView(ln),e.registerSeriesModel(lu),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,lp)},function(e){e.registerChartView(lB),e.registerSeriesModel(lH),e.registerLayout(lW),e.registerVisual(lQ),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])})}),e.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(e,t,a){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(t){var a=C(t.coordinateSystem,e,t.get("scaleLimit"));t.setCenter(a.center),t.setZoom(a.zoom)})})},function(e){e.registerSeriesModel(l2),e.registerChartView(l3),e.registerLayout(l9),e.registerTransform(ua)},function(e){e.registerChartView(uh),e.registerSeriesModel(uw),e.registerPreprocessor(uM),e.registerVisual(uc),e.registerLayout(uA)},function(e){e.registerChartView(uD),e.registerSeriesModel(uP),e.registerLayout((0,rc.default)("effectScatter"))},function(e){e.registerChartView(uF),e.registerSeriesModel(uX),e.registerLayout(uB),e.registerVisual(uZ)},function(e){e.registerChartView(uJ),e.registerSeriesModel(u$)},function(e){e.registerChartView(u2),e.registerSeriesModel(dc),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,(0,u.curry)(i4.layout,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,i4.createProgressiveLayout)("pictorialBar"))},function(e){e.registerChartView(dh),e.registerSeriesModel(dg),e.registerLayout(df),e.registerProcessor(nE("themeRiver"))},function(e){e.registerChartView(d_),e.registerSeriesModel(db),e.registerLayout((0,u.curry)(dw,"sunburst")),e.registerProcessor((0,u.curry)(nE,"sunburst")),e.registerVisual(dM),e.registerAction({type:dv,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(t,a){var i=oo(e,[dv],t);if(i){var n=t.getViewRoot();n&&(e.direction=ol(n,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}})}),e.registerAction({type:dx,update:"none"},function(e,t,a){e=(0,u.extend)({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(t){var a=oo(e,[dx],t);a&&(e.dataIndex=a.node.dataIndex)}),a.dispatchAction((0,u.extend)(e,{type:"highlight"}))}),e.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,t,a){e=(0,u.extend)({},e),a.dispatchAction((0,u.extend)(e,{type:"downplay"}))})},function(e){e.registerChartView(dq),e.registerSeriesModel(dT)}]),(0,r.use)(tX.GridComponent),(0,r.use)(function(e){(0,r.use)(cr.install),ce.default.registerAxisPointerClass("PolarAxisPointer",ci),e.registerCoordinateSystem("polar",cv),e.registerComponentModel(co),e.registerComponentView(cN),(0,lD.default)(e,"angle",cl,ck),(0,lD.default)(e,"radius",cu,cE),e.registerComponentView(cw),e.registerComponentView(cA),e.registerLayout((0,u.curry)(cP,"bar"))}),(0,r.use)(tW),(0,r.use)(function(e){(0,r.use)(cr.install),ce.default.registerAxisPointerClass("SingleAxisPointer",cq),e.registerComponentView(cQ),e.registerComponentView(cG),e.registerComponentModel(cF),(0,lD.default)(e,"single",cF,cF.defaultOption),e.registerCoordinateSystem("single",cU)}),(0,r.use)(lz),(0,r.use)(function(e){e.registerComponentModel(c0),e.registerComponentView(c3),e.registerCoordinateSystem("calendar",c4)}),(0,r.use)(function(e){e.registerComponentModel(pS),e.registerComponentView(pC),e.registerCoordinateSystem("matrix",pz)}),(0,r.use)(pQ.GraphicComponent),(0,r.use)(tZ.ToolboxComponent),(0,r.use)(tj.TooltipComponent),(0,r.use)(cr.install),(0,r.use)(function(e){e.registerComponentView(hs),e.registerComponentModel(hl),e.registerPreprocessor(p1),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,ha),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(t){t.setAreas(e.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},u.noop),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},u.noop),(0,hd.registerFeature)("brush",hp)}),(0,r.use)(tU.TitleComponent),(0,r.use)(function(e){e.registerComponentModel(hf),e.registerComponentView(hS),e.registerSubTypeDefaulter("timeline",function(){return"slider"}),e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,a){var i=t.getComponent("timeline");return i&&null!=e.currentIndex&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),a.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),(0,u.defaults)({currentIndex:i.option.currentIndex},e)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var a=t.getComponent("timeline");a&&null!=e.playState&&a.setPlayState(e.playState)}),e.registerPreprocessor(hI)}),(0,r.use)(function(e){e.registerComponentModel(hE),e.registerComponentView(hU),e.registerPreprocessor(function(e){hT(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}),(0,r.use)(function(e){e.registerComponentModel(hZ),e.registerComponentView(h0),e.registerPreprocessor(function(e){hT(e.series,"markLine")&&(e.markLine=e.markLine||{})})}),(0,r.use)(function(e){e.registerComponentModel(h1),e.registerComponentView(h9),e.registerPreprocessor(function(e){hT(e.series,"markArea")&&(e.markArea=e.markArea||{})})}),(0,r.use)(ge.LegendComponent),(0,r.use)(function(e){(0,r.use)(gg),(0,r.use)(gS)}),(0,r.use)(gg),(0,r.use)(gS),(0,r.use)(aX),(0,r.use)(aG),(0,r.use)(aY),(0,r.use)(function(e){e.registerComponentModel(gM),e.registerComponentView(gA)}),(0,r.use)(function(e){e.registerPreprocessor(gE),e.registerVisual(e.PRIORITY.VISUAL.ARIA,gk)}),(0,r.use)(function(e){e.registerTransform(gU),e.registerTransform(gZ)}),(0,r.use)(gN.DatasetComponent),(0,r.use)(function(e){e.registerUpdateLifecycle("series:beforeupdate",function(e,t,a){(0,u.each)((0,h.normalizeToArray)(a.seriesTransition),function(e){(0,u.each)((0,h.normalizeToArray)(e.to),function(e){for(var t=a.updatedSeries,i=0;i<t.length;i++)(null!=e.seriesIndex&&e.seriesIndex===t[i].seriesIndex||null!=e.seriesId&&e.seriesId===t[i].id)&&(t[i][tp.SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(e,t,a){var i=fp(t);if(i.oldSeries&&a.updatedSeries&&a.optionChanged){var n=a.seriesTransition;if(n)(0,u.each)((0,h.normalizeToArray)(n),function(e){var n,r;n=[],r=[],(0,u.each)((0,h.normalizeToArray)(e.from),function(e){var t=fS(i.oldSeries,e);t>=0&&n.push({dataGroupId:i.oldDataGroupIds[t],data:i.oldData[t],divide:fb(i.oldData[t]),groupIdDim:e.dimension})}),(0,u.each)((0,h.normalizeToArray)(e.to),function(e){var t=fS(a.updatedSeries,e);if(t>=0){var n=a.updatedSeries[t].getData();r.push({dataGroupId:i.oldDataGroupIds[t],data:n,divide:fb(n),groupIdDim:e.dimension})}}),n.length>0&&r.length>0&&fv(n,r,t)});else{var r,o,s,l=(r=(0,u.createHashMap)(),o=(0,u.createHashMap)(),s=(0,u.createHashMap)(),(0,u.each)(i.oldSeries,function(e,t){var a=i.oldDataGroupIds[t],n=i.oldData[t],r=fx(e),l=f_(r);o.set(l,{dataGroupId:a,data:n}),(0,u.isArray)(r)&&(0,u.each)(r,function(e){s.set(e,{key:l,dataGroupId:a,data:n})})}),(0,u.each)(a.updatedSeries,function(e){if(e.isUniversalTransitionEnabled()&&e.isAnimationEnabled()){var t=e.get("dataGroupId"),a=e.getData(),i=fx(e),n=f_(i),l=o.get(n);if(l)r.set(n,{oldSeries:[{dataGroupId:l.dataGroupId,divide:fb(l.data),data:l.data}],newSeries:[{dataGroupId:t,divide:fb(a),data:a}]});else if((0,u.isArray)(i)){var d=[];(0,u.each)(i,function(e){var t=o.get(e);t.data&&d.push({dataGroupId:t.dataGroupId,divide:fb(t.data),data:t.data})}),d.length&&r.set(n,{oldSeries:d,newSeries:[{dataGroupId:t,data:a,divide:fb(a)}]})}else{var c=s.get(i);if(c){var p=r.get(c.key);p||(p={oldSeries:[{dataGroupId:c.dataGroupId,data:c.data,divide:fb(c.data)}],newSeries:[]},r.set(c.key,p)),p.newSeries.push({dataGroupId:t,data:a,divide:fb(a)})}}}}),r);(0,u.each)(l.keys(),function(e){var a=l.get(e);fv(a.oldSeries,a.newSeries,t)})}(0,u.each)(a.updatedSeries,function(e){e[tp.SERIES_UNIVERSAL_TRANSITION_PROP]&&(e[tp.SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var d=e.getSeries(),c=i.oldSeries=[],p=i.oldDataGroupIds=[],g=i.oldData=[],f=0;f<d.length;f++){var y=d[f].getData();1e4>y.count()&&(c.push(d[f]),p.push(d[f].get("dataGroupId")),g.push(y))}})}),(0,r.use)(function(e){e.registerUpdateLifecycle("series:beforeupdate",function(e,t,a){var i=fD(t).labelManager;i||(i=fD(t).labelManager=new fC),i.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(e,t,a){var i=fD(t).labelManager;a.updatedSeries.forEach(function(e){i.addLabelsOfSeries(t.getViewOfSeriesModel(e))}),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()})}),(0,r.use)(function(e){(0,fZ.registerAction)(e),(0,fP.registerScaleBreakHelperImpl)({createScaleBreakContext:fE,pruneTicksByBreak:fO,addBreaksToTicks:fz,parseAxisBreakOption:fG,identifyAxisBreak:fB,serializeAxisBreakIdentifier:fF,retrieveAxisBreakPairs:fH,getTicksLogTransformBreak:fW,logarithmicParseBreaksFromOption:fY,makeAxisLabelFormatterParamBreak:fU}),(0,cz.registerAxisBreakHelperImpl)({adjustBreakLabelPair:fJ,buildAxisBreakLine:fK,rectCoordBuildBreakAxis:fq,updateModelAxisBreak:f$})}),(0,r.use)(function(){(0,f0.registerLegacyGridContainLabelImpl)(f1)}),(0,r.use)(function(e){e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,rx)});var f2=e.i(96631),f3=e.i(63250);function f5({input:e,map:t,countryInfo:a,view:i,modeOverride:s}){(0,aj.useEffect)(()=>{(0,r.use)([tU.TitleComponent,tX.GridComponent,tj.TooltipComponent,tZ.ToolboxComponent,tW,tY,i3.CanvasRenderer,aX])},[]);let{mode:l}=(0,aZ.useColorScheme)(),u=s||l,d=(0,aj.useContext)(f3.FilterContext),c=(0,aj.useRef)(null);return(0,aj.useEffect)(()=>{let e=c.current?(0,o.init)(c.current,u,{renderer:"canvas"}):null;(0,o.getMap)("countries")||(0,o.registerMap)("countries",t);let a=()=>e&&e.resize();return window.addEventListener("resize",a),()=>{e&&e.dispose(),window.removeEventListener("resize",a)}},[u,t]),(0,aj.useEffect)(()=>{if(c.current){let t=(0,o.getInstanceByDom)(c.current);if(t)if(e.series.length){let{series:n,range:r,varIndices:o}=e,s=i.y.summary.variable&&"-"===i.y.summary.adjust,l=Math.max(...r.y.map(e=>Math.abs(e))),c="dark"===u?{bg:"#121212",text:"#ffffff"}:{bg:"#ffffff",text:"#000000"},p=n[0].data&&n[0].data.length?n[0].data:[],h=n[0].data?n[0].data.length:0;t.setOption({backgroundColor:c.bg,title:{text:n[0].name,subtext:(1===h&&p[o.country]in a?`Data from ${a[p[o.country]].name}`:`Observations from ${h} ${1===h?"country":"countries"}`)+(d&&d.sectors.length<5?", sector = "+d.sectors.join(", "):"")+(d&&1===d.sexes.length?", sex = "+d.sexes[0]:""),textStyle:{fontSize:"1em",fontWeight:"normal"},left:"center"},tooltip:{trigger:"item",textStyle:{color:c.text},backgroundColor:c.bg,borderWidth:0,formatter:({marker:e,name:t,data:n})=>'<div class="tooltip-table">'+e+(t in a?a[t].name+" ("+t+")":"")+"<table><tr><td>Word Bank Region</td><td><strong>"+a[t].region+"</strong></td></tr>"+(n.year?"<tr><td>Year</td><td><strong>"+n.year+"</strong></td></tr>":"")+"<tr><td>"+i.y.name+(n&&"value"in n?", "+("mean"===i.time_agg||"all"===i.time_agg?"average":n.year)+(i.y.isGlobal?"":`<br><code class="variable-description">${i.y.description}</code>`)+"</td><td><strong>"+(0,f2.formatNumber)(n.value,i.y)+"</strong>":"</td><td><strong>unknown</strong>")+"</td></tr></table></div>",position:f2.tooltipPlacer,appendToBody:!0},visualMap:{name:i.y.name,calculable:!0,min:s?-l:r.y[0],max:s?l:r.y[1],inRange:{color:["#7E1700","#C8E9B6","#1549A2"]}},series:n,toolbox:{feature:{saveAsImage:{name:"gender_growth_gap_"+i.y.toFileName()+"_map"}}}},!0,!0)}else t.clear()}},[e,u,a,i,d]),(0,n.jsx)(aU.Box,{ref:c,sx:{width:"100%",height:"100%",minHeight:"10px"}})}e.s(["default",()=>f5],63688)},5255,e=>{e.n(e.i(63688))}]);