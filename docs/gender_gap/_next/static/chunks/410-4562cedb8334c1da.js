"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[410],{10368:(e,t,a)=>{a.d(t,{N:()=>z});var l=a(95155),s=a(12115),r=a(72602),n=a(42990),i=a(80748),o=a(96300);let c=/\b(\w)/g,u=["#A3651E","#2F8CBF","#C4AB4B","#72CED5","#C8E9B6","#7E1700","#1549A2"],d=["triangle","diamond","rect","roundRect","pin","arrow","circle"],m={gdp:"name",region:"region",income:"income"};var y=a(9566),h=a(28627),p=a(76910),x=a(52135),g=a(20809),b=a(53957),v=a(65710),f=a(53546),_=a(4393),j=a(50251),A=a(7575),k=a(27960),w=a(41574),S=a(43213);function C(e){let{min:t}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return+(t<0||t-a>0?t-a:t>.1?t:0).toFixed(2)}function I(e){let{max:t}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return+(t+a).toFixed(2)}function M(e,t,a){let l=Math.max(.01,.02*Math.abs(e[0]-e[1]));a?(t.min=+(e[0]-l).toFixed(2),t.max=+(e[2]+l).toFixed(2)):(t.min=e=>C(e,l),t.max=e=>I(e,l))}function P(e,t){if("year"===t.base)return e;if(t.isGlobal&&t.log)return(0,o.ZV)(Math.round(Math.E**e));let a=Math.abs(e),l=a<1?3:2;return a>1e3?a>2e9?e.toExponential(1):a>1e9?(e/1e9).toFixed(l)+"B":a<1e6?(e/1e3).toFixed(l)+"K":(e/1e6).toFixed(l)+"M":a%1==0?""+e:e.toFixed(l)}let F={min:C,max:I},E={},O={textGapX:30,textGapY:50,top:50,topNoLabel:40,left:95,bottom:20,gapX:73,gapY:85,legendWidth:0},W={current:[]};function L(e,t){let a=O[""===W.current[0].label?"topNoLabel":"top"],l=(e.height-(a+O.bottom+O.gapY*t[0].nYLevels))/t[0].nYLevels,s=(e.width-(O.left+O.legendWidth+O.gapX*t[0].nXLevels))/t[0].nXLevels,r=[];return t.forEach(e=>{e.left=e.xIndex?s*e.xIndex+O.gapX*(e.xIndex+1)+20:O.left,e.top=e.yIndex?l*e.yIndex+O.gapY*(e.yIndex+1)-35:a,e.height=l,e.width=s,r.push({label:e.label,left:e.left-O.textGapX,top:e.top-O.textGapY,nCountries:e.nCountries})}),{title:r,grid:t}}function G(e){let{input:t,view:a,countryInfo:r,modeOverride:n}=e;(0,s.useEffect)(()=>{(0,y.Y)([x.a,g.a,b.a,v.a,f.a,_.a,p.a,A.a,j.a])},[]);let i=(0,s.useContext)(S.gM),c=(0,s.useContext)(S.SO),{mode:u}=(0,k.Ut)(),d=n||u,{series:m,fits:C,panels:I,range:G,varIndices:R}=t;W.current=I;let D=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=D.current?(0,h.Ts)(D.current,d,{renderer:"canvas"}):null,t=()=>{if(e){let t=e.getDom().getBoundingClientRect(),a=e.getOption().grid;a&&a.length&&(e.setOption(L(t,a)),e.resize())}};return e&&e.on("click",e=>{if(Array.isArray(e.data)){let t=e.data[e.data.length-1];t in r&&c({key:"countries",value:{[t]:!0}})}}),window.addEventListener("resize",t),()=>{e&&e.dispose(),window.removeEventListener("resize",t)}},[d,r,c]);let N=(0,s.useCallback)(e=>{let{marker:t,seriesName:l,value:s}=e,n="country"===a.color&&r[s[R.country]];return'<div class="tooltip-table">'+(a.color?t+(n?n.name+" ("+n.ISO_A3+")":l):"")+"<table>"+(n?"<tr><td>World Bank Region</td><td><strong>"+n.region+"</strong></td></tr>":"")+("year"in R&&"year"!==a.x.base&&"year"!==a.y.base?"<tr><td>Year</td><td><strong>"+s[R.year]+"</strong></td></tr>":"")+(a.symbol?"<tr><td>"+a.symbol+"</td><td><strong>"+s[R[a.symbol in R?a.symbol:"level"]]+"</strong></td></tr>":"")+"<tr><td>"+a.x.name+(a.x.isGlobal?"":'<br><code class="variable-description">'.concat(a.x.description,"</code>"))+"</td><td><strong>"+(0,o.ZV)(s[R.x],a.x)+"</strong></td></tr><tr><td>"+a.y.name+(a.y.isGlobal?"":'<br><code class="variable-description">'.concat(a.y.description,"</code>"))+"</td><td><strong>"+(0,o.ZV)(s[R.y],a.y)+"</strong></td></tr></table></div>"},[a,r,R]);return(0,s.useEffect)(()=>{if(D.current){let e=(0,h.FP)(D.current);if(e)if(m.length){M(G.x,E,a.lock_range),M(G.y,F,a.lock_range);let t="dark"===d?{bg:"#121212",text:"#ffffff"}:{bg:"#ffffff",text:"#000000"};O.legendWidth=0,a.color&&(m.forEach(e=>{let t=e.name.length;t>O.legendWidth&&(O.legendWidth=t)}),O.legendWidth+=4,O.legendWidth*=4.6);let l=D.current.getBoundingClientRect(),s=l.height<500||l.width<800?.7:1;W.current=I;let{title:n,grid:c}=L(l,I);e.setOption({darkMode:"dark"===d,legend:{top:"55",align:"right",right:"right",orient:"vertical",type:"scroll",data:a.color?[...new Set(m.map(e=>e.name).sort())]:[]},backgroundColor:t.bg,tooltip:{textStyle:{color:t.text},backgroundColor:t.bg,borderWidth:0,axisPointer:{type:"line"},formatter:N,position:o.Nt,appendToBody:!0},xAxis:I.map((e,t)=>({type:"value",gridIndex:t,axisLabel:{formatter:e=>P(e,a.x)},...E})),yAxis:I.map((e,t)=>({type:"value",gridIndex:t,axisLabel:{formatter:e=>P(e,a.y)},...F})),graphic:[{type:"text",rotation:Math.PI/2,left:20,top:"center",width:"100%",style:{text:a.y.name,fill:t.text,font:"bold ".concat(s,'em "Roboto","Helvetica","Arial",sans-serif'),textAlign:"center"}},{type:"text",left:"center",bottom:20,style:{text:a.x.name,fill:t.text,font:"bold ".concat(s,'em "Roboto","Helvetica","Arial",sans-serif'),textAlign:"center"}}],title:n.map(e=>{let{label:t,top:a,left:l,nCountries:s}=e,n=m[0].data&&m[0].data.length?m[0].data[0]:[];return{text:t,subtext:(1===s&&n[R.country]in r?"Data from ".concat(r[n[R.country]].name):"Observations from ".concat(s," ").concat(1===s?"country":"countries"))+(i&&i.sectors.length<6?", sector = "+i.sectors.join(", "):"")+(i&&1===i.sexes.length?", sex = "+i.sexes[0]:""),top:a,left:l,contain:!0,subtextStyle:{align:"right",verticalAlign:"center",width:"100%"},textStyle:{fontSize:"1em",fontWeight:"normal"}}}),grid:c,series:C.length?[...m,...C]:m,toolbox:{feature:{saveAsImage:{name:"gender_growth_gap_"+a.y+(a.x?"_"+a.x:"")}}}},!0,!0)}else e.clear()}},[t,d,N,I,C,G,m,a,i,r,R.country]),setTimeout(()=>window.dispatchEvent(new Event("resize")),100),(0,l.jsx)(w.A,{ref:D,sx:{width:"100%",height:"100%",minWidth:500*G.panel[0]+"px",minHeight:300*G.panel[1]+"px",overflow:"hidden"}})}var R=a(80317);let D=(0,a(67909).default)(()=>Promise.all([a.e(929),a.e(380)]).then(a.bind(a,37380)),{loadableGenerated:{webpack:()=>[37380]}});function N(e){let{full:t,view:a,final:s,modeOverride:r}=e,n=1/s.range.panel[0]*99+"%",i=1/s.range.panel[1]*99+"%";return s.series.map(e=>(0,l.jsx)(w.A,{sx:{height:i,width:n},children:(0,l.jsx)(D,{input:{series:[e],range:s.range,varIndices:s.varIndices},map:t.map,countryInfo:t.countryInfo,view:a,modeOverride:r})},e.id))}function Y(e,t){return e?e in t?"level":e:""}function z(e){let{mode:t}=e,a=(0,s.useContext)(r.y),y=(0,s.useContext)(S.r4),h=(0,s.useContext)(S.xI),p=(0,s.useMemo)(()=>(function(e,t,a,l){let{panelX:s,panelY:r,color:y,symbol:h}=a,p=s?(0,o.Am)(e,s):[""],x=r?(0,o.Am)(e,r):[""],g=p.length,b=x.length,v=[],f=[],_=[],j={},A="gdp"===t.color_source?"color":t.color_source+"_color",k=[];"all"==t.time_agg&&k.push("year"),t.as_plot&&(y&&k.push(y),y&&h&&(k.push(h),(0,o.Am)(e,h).forEach((e,t)=>{j[e]={symbol:d[t%7],opacity:.8}})));let w=t.as_plot?{type:"line",symbolSize:10,color:y?"":"#a5cdff",itemStyle:{opacity:1},lineStyle:{width:1,opacity:1},emphasis:{focus:"series",lineStyle:{width:5,opacity:1}}}:{type:"map",roam:!0,map:"countries",nameProperty:"ISO_A3",itemStyle:{areaColor:"#00000000",borderWidth:1},select:{disabled:!0},projection:{project:e=>[e[0]/180*Math.PI,-Math.log(Math.tan((Math.PI/2+e[1]/180*Math.PI)/2))],unproject:e=>[180*e[0]/Math.PI,360/Math.PI*Math.atan(Math.exp(e[1]))-90]}},S=-1,C={x:[1/0,-1/0,-1/0],y:[1/0,-1/0,-1/0],panel:[g,x.length]},I={},M={y:t.y.baseFormula()},P={n_years:"distinct(d.year)",y:"".concat(n.u$.includes(t.y.base)||t.y.isGlobal?"max":"sum","(d.y)"),y_sum:"max(d.y_sum)",year:"max(d.year)"};t.as_plot&&t.x.base&&(P.x="".concat(n.u$.includes(t.x.base)||t.x.isGlobal?"max":"sum","(d.x)"),P.x_sum="max(d.x_sum)",M.x=t.x.baseFormula());let F=t.color&&"country"!==t.color?function(e,t){let a={};return e.ungroup().rollup({l:"array_agg_distinct(d.".concat(-1===e.columnIndex(t)?"level":t,")")}).array("l")[0].forEach((e,t)=>a[e]=t),a}(e,t.color):{},E={y:t.y.percent?"mean(d.y)":"mean(d.y / d.n_years)",year:"max(d.year)"};t.as_plot&&t.x.base&&(E.x=t.x.percent?"mean(d.x)":"mean(d.x / d.n_years)");let O={y:t.y.formula("y")};t.as_plot&&t.x.base&&(O.x=t.x.formula("x"));let W=t.as_plot?[...k]:["country"],L=W.includes("country")&&t.country_center&&t.as_plot&&"all"===t.time_agg,G={},R={x:!1,y:!1};t.y.summary.variable&&(G.y=t.y.summaryFormula("y"),"/"===t.y.summary.adjust&&(R.y=!0,G.y_off=t.y.offLevelFormula("y"),P.y_off="max(d.y_off)"),t.y.summary.overall||(P.y_summary_sum="max(d.y_summary_sum)"),R.y&&t.y.percent&&(O.y_off="d.y_off / d.y".concat(t.y.summary.overall?"":"_summary","_sum * 100"))),t.as_plot&&t.x.summary.variable&&(G.x=t.x.summaryFormula("x"),"/"===t.x.summary.adjust&&(R.x=!0,G.x_off=t.x.offLevelFormula("x"),P.x_off="max(d.x_off)"),t.x.summary.overall||(P.x_summary_sum="max(d.x_summary_sum)"),R.x&&t.x.percent&&(O.x_off="d.x_off / d.x".concat(t.x.summary.overall?"":"_summary","_sum * 100")));let D="mean"===t.time_agg||"all"===t.time_agg&&!t.as_plot,N=[];t.as_plot&&"all"===t.time_agg&&N.push("year"),("country"===t.color||"country"===t.symbol)&&N.push("country");let Y=e.groupby(N).derive({x_sum:"sum(d.".concat(t.x.base,")"),y_sum:"sum(d.".concat(t.y.base,")")});G.x&&(Y=Y.groupby([...N,t.x.summary.variable].filter(e=>!!e)).derive({x_summary_sum:"sum(d.".concat(t.x.base,")")})),G.y&&(Y=Y.groupby([...N,t.y.summary.variable].filter(e=>!!e)).derive({y_summary_sum:"sum(d.".concat(t.y.base,")")}));let z=Y.groupby(W);return p.forEach((e,a)=>{x.forEach((d,p)=>{S++;let x=((e?n.ds[t.x_panels].label+": "+e+(d?", ":""):"")+(d?n.ds[t.y_panels].label+": "+d:"")).replace("_"," ").replace(c,e=>e.toUpperCase()),Y=z;if(s&&(Y=Y.filter("d.".concat(s," == '").concat(e,"'"))),r&&(Y=Y.filter("d.".concat(r," == '").concat(d,"'"))),!Y.numRows())return;let B=(0,o.Am)(Y,"country").length,T={...P};if(Y=Y.derive(M),G.y||G.x?(Y=Y.derive(G).groupby([...N,...W,t.x.summary.variable,t.y.summary.variable].filter(e=>!!e)).rollup(T),(O.y||O.x)&&(Y=Y.groupby(N).derive(O)),Y=Y.groupby(W).rollup(T),R.y&&(Y=Y.derive({y:"d.y / Math.max(1e-6, d.y_off)"})),R.x&&(Y=Y.derive({x:"d.x / Math.max(1e-6, d.x_off)"}))):(Y=Y.rollup(T),(O.y||O.x)&&(Y=Y.groupby(W).derive(O))),L&&(Y=Y.groupby("country").derive({y:"d.y - mean(d.y)",x:"d.x - mean(d.x)"})),"map"===w.type){D&&(Y=Y.groupby(["country"]).rollup(E));let t={...w,geoIndex:S};t.name=x,t.id=e+d;let a=[];Y.scan(e=>{a.push({name:Y.get("country",e),value:Y.get("y",e),year:D?"":Y.get("year",e)})}),t.data=a,v.push(t)}else{D&&(delete E.year,Y=Y.groupby(k.filter(e=>"year"!==e)).rollup(E),k.includes("year")&&k.splice(k.indexOf("year"),1)),Y=Y.groupby(k.filter((e,t)=>!!t||"year"!==e)).select(["x","y",...k].filter(e=>""!==e)),k.includes("year")&&(Y=Y.orderby("year")),(Y=Y.reify()).columnNames().forEach((e,t)=>I[e]=t);let s=[];if(Y.partitions().forEach(a=>{let r={...w,xAxisIndex:S,yAxisIndex:S};if(r.id=e+d,y){let e=Y.get(y,a[0]);if(r.id+=e,"country"===y)if(e in l){let a=l[e];r.name=a[m[t.color_source]],r.color=a[A]||"#898989"}else r.name=e||x,r.color="#898989";else r.name=e,r.color=u[F[e]];if(h){r.name+=", "+Y.get(h,a[0]);let e=Y.get(h,a[0]),t=j[e];r.id+=e,r.symbol=t.symbol,r.lineStyle&&r.itemStyle&&(r.lineStyle.opacity=r.itemStyle.opacity=t.opacity)}else r.symbol="circle"}else r.name="series";if(r.name){let e=[];r.data=e,a.forEach(t=>{let a=Object.values(Y.object(t));s.push([a[0],a[1]]),e.push(a)}),v.push(r)}}),_.push({label:x,top:0,height:0,left:0,width:0,yIndex:p,nYLevels:b,xIndex:a,nXLevels:g,nCountries:B}),"none"!==t.regression){let e=(0,i.regression)(t.regression,s,2);f.push({name:"fit",type:"line",color:"#898989",smooth:!0,showSymbol:!1,data:e.points,xAxisIndex:S,yAxisIndex:S,lineStyle:{width:1}})}}let U=Y.ungroup().rollup({value:"[min(d.y), quantile(d.y, .97), max(d.y)]"}).array("value")[0];if(C.y[0]=Math.min(C.y[0],U[0]),C.y[1]=Math.max(C.y[1],U[1]),C.y[2]=Math.max(C.y[2],U[2]),t.as_plot){let e=Y.ungroup().rollup({value:"[min(d.x), quantile(d.x, .97), max(d.x)]"}).array("value")[0];C.x[0]=Math.min(C.x[0],e[0]),C.x[1]=Math.max(C.x[1],e[1]),C.x[2]=Math.max(C.x[2],e[2])}})}),t.as_plot?{series:v,fits:f,panels:_,range:C,varIndices:I}:{series:v,range:C,varIndices:I}})(h,y,{panelX:Y(y.x_panels,a.levels.demo_segments),panelY:Y(y.y_panels,a.levels.demo_segments),color:Y(y.color,a.levels.demo_segments),symbol:Y(y.symbol,a.levels.demo_segments)},a.countryInfo),[y,h,a.levels.demo_segments,a.countryInfo]);return y.as_plot?(0,l.jsx)(G,{input:p,view:y,countryInfo:a.countryInfo,modeOverride:t}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(R.A,{variant:"h6",sx:{position:"absolute",width:"100%",textAlign:"center"},children:y.y.name}),(0,l.jsx)(w.A,{sx:{height:"100%",display:"flex",flexWrap:"wrap",pt:5,minWidth:500*p.range.panel[0]+"px",minHeight:300*p.range.panel[1]+"px"},children:(0,l.jsx)(N,{view:y,full:a,final:p,modeOverride:t})})]})}},18972:(e,t,a)=>{a.d(t,{F:()=>I});var l=a(95155),s=a(27001),r=a(29999),n=a(27855),i=a(75265),o=a(2021),c=a(24288),u=a(99496),d=a(41292),m=a(40670),y=a(54844),h=a(68060),p=a(42027),x=a(73033),g=a(8224),b=a(13664),v=a(80317),f=a(7291),_=a(49571),j=a(66370),A=a(12115),k=a(72602),w=a(42990),S=a(43213);function C(e,t){return"wid_ggg_".concat(w.Iw).concat("all"===t.time_agg?"":"_"+("specified"===t.time_agg?t.select_year:t.time_agg+"-time"),"_").concat(e.get("variable",0),"_").concat(e.numRows())}function I(){let e=(0,A.useContext)(k.y),t=(0,A.useContext)(S.r4),a=(0,A.useContext)(S.xI),[I,M]=(0,A.useState)(!1),[P,F]=(0,A.useState)(!1),[E,O]=(0,A.useState)(","),W=(0,A.useMemo)(()=>e.data.columnNames(),[e.data]),[L,G]=(0,A.useState)(W),[R,D]=(0,A.useState)(""),N=(0,A.useMemo)(()=>{let e=C(a,t);return D(e),G(W.filter(e=>"mean"!==t.time_agg||"year"!==e)),{partial:e,full:"wid_ggg_".concat(w.Iw).concat("all"===t.time_agg?"":"_"+("specified"===t.time_agg?t.select_year:t.time_agg+"-time"))}},[a,t,W]),Y=()=>M(!I),z=P?e.data:a;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.A,{color:"inherit",onClick:Y,startIcon:(0,l.jsx)(s.A,{}),children:"Export"}),I&&(0,l.jsxs)(i.A,{open:I,onClose:Y,hideBackdrop:!0,children:[(0,l.jsx)(o.A,{children:"Data Export"}),(0,l.jsx)(c.A,{"aria-label":"close export menu",onClick:Y,sx:{position:"absolute",right:8,top:12},children:(0,l.jsx)(r.A,{})}),(0,l.jsx)(u.A,{sx:{width:500,maxWidth:"100%"},children:(0,l.jsxs)(d.A,{spacing:1,children:[(0,l.jsxs)(d.A,{direction:"row",spacing:1,children:[(0,l.jsx)(m.A,{fullWidth:!0,size:"small",label:"Filename",value:R,onChange:e=>D(e.target.value),children:R}),(0,l.jsxs)(y.A,{sx:{width:110},variant:"outlined",fullWidth:!0,size:"small",children:[(0,l.jsx)(h.A,{id:"separator_select",children:"Type"}),(0,l.jsxs)(p.A,{labelId:"separator_select",label:"Type",value:E,onChange:e=>O(e.target.value),children:[(0,l.jsx)(x.A,{value:",",children:"CSV"}),(0,l.jsx)(x.A,{value:"\\t",children:"TSV"})]})]})]}),(0,l.jsx)(g.A,{options:W,sx:{"& li":{p:0}},renderOption:(e,a,s)=>{let{selected:r}=s,{key:n,...i}=e;return(0,l.jsxs)(x.A,{disabled:"mean"===t.time_agg&&"year"===a,...i,children:[(0,l.jsx)(b.A,{checked:r}),a]},n)},renderInput:e=>(0,l.jsx)(m.A,{...e,label:"Columns"}),value:L,renderValue:()=>(0,l.jsxs)(v.A,{sx:{p:1,pt:0,pb:0},children:["Selected: ",L.length]}),multiple:!0,disableCloseOnSelect:!0,fullWidth:!0,size:"small",onChange:(e,t)=>G(t)}),(0,l.jsx)(f.A,{sx:{float:"right"},label:"Full Dataset",labelPlacement:"start",control:(0,l.jsx)(_.A,{checked:P,onChange:()=>{R===N[P?"full":"partial"]&&(N.partial=C(a,t),D(N[P?"partial":"full"])),F(!P)}})})]})}),(0,l.jsxs)(j.A,{sx:{justifyContent:"right"},children:[(0,l.jsxs)(v.A,{children:[","===E?"CSV":"TSV"," file with ",z.numRows()," rows"]}),(0,l.jsx)(n.A,{variant:"contained",onClick:()=>{let e=document.createElement("a");document.body.appendChild(e),e.rel="noreferrer",e.target="_blank",e.download=R+(","===E?".csv":".tsv"),e.href=URL.createObjectURL(new Blob([z.toCSV({delimiter:E,columns:L})],{type:"text/csv; charset=utf-8"})),setTimeout(function(){e.dispatchEvent(new MouseEvent("click")),URL.revokeObjectURL.bind(null,e.href),document.body.removeChild(e)},0)},children:"Download"})]})]})]})}},32533:(e,t,a)=>{a.d(t,{q:()=>c});var l=a(95155),s=a(50301),r=a(54844),n=a(68060),i=a(42027),o=a(73033);function c(e){let{current:t,viewAction:a,outlined:c}=e;return(0,l.jsx)(s.A,{title:"Determines how colors are selected for each country.",placement:"top",children:(0,l.jsxs)(r.A,{variant:c?"outlined":"filled",fullWidth:!0,size:"small",children:[(0,l.jsx)(n.A,{id:"color_basis_select",children:"Color Basis"}),(0,l.jsxs)(i.A,{labelId:"color_basis_select",label:"Color Basis",value:t,autoFocus:!1,MenuProps:{autoFocus:!1,disableAutoFocus:!0},onFocus:e=>{console.log("hgddhg")},onChange:e=>{a({key:"color_source",value:e.target.value})},children:[(0,l.jsx)(o.A,{value:"gdp",children:"GDP per capita"}),(0,l.jsx)(o.A,{value:"region",children:"Region"}),(0,l.jsx)(o.A,{value:"income",children:"Income"})]})]})})}},37372:(e,t,a)=>{a.d(t,{q:()=>b});var l=a(95155),s=a(73033),r=a(80317),n=a(54844),i=a(68060),o=a(42027),c=a(12115),u=a(42990),d=a(81740),m=a(43213),y=a(72602),h=a(32533);let p={Female:{label:"Female Share",level:"Female",adjust:""},Male:{label:"Male Share",level:"Male",adjust:""},"Female-":{label:"Gap (Female - Male)",level:"Female",adjust:"-"},"Male-":{label:"Gap (Male - Female)",level:"Male",adjust:"-"},"Female/":{label:"Ratio (Female / Male)",level:"Female",adjust:"/"},"Male/":{label:"Ratio (Male / Female)",level:"Male",adjust:"/"}},x={year:{label:"Year",base:"year"},gdpfalse:{label:"GDP per capita",base:"gdp",log:!1},gdptrue:{label:"Log GDP per capita",base:"gdp",log:!0},gdp_pppfalse:{label:"GDP per capita in PPP",base:"gdp_ppp",log:!1},gdp_ppptrue:{label:"Log GDP per capita in PPP",base:"gdp_ppp",log:!0}},g=Object.keys(x).map(e=>{let{label:t}=x[e];return(0,l.jsx)(s.A,{value:e,children:t},e)});function b(e){let{simple:t}=e,{levels:a}=(0,c.useContext)(y.y),b=(0,c.useContext)(m.r4),v=(0,c.useContext)(m.Jw),f=(0,c.useMemo)(()=>Object.keys(u.xp).map(e=>(0,l.jsx)(s.A,{value:e,children:u.xp[e]},e)),[]),_=(0,c.useMemo)(()=>Object.keys(p).map(e=>(0,l.jsx)(s.A,{value:e,children:p[e].label},e)),[]),j=(0,c.useMemo)(()=>["",...Object.keys(a.demo_segments)].map(e=>(0,l.jsx)(s.A,{value:e,children:e in u.ds?u.ds[e].label:"None"},e)),[a.demo_segments]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.A,{fontWeight:"bold",children:"1. Outcome"}),(0,l.jsxs)(n.A,{variant:"outlined",fullWidth:!0,size:"small",children:[(0,l.jsx)(i.A,{id:"basic_y_subset_select",children:"Main Activity"}),(0,l.jsx)(o.A,{labelId:"basic_y_subset_select",label:"Main Activity",value:b.y.subset.level,onChange:e=>{let t=e.target.value;b.y=b.y.copy(),b.y.updateLevel("subset",{key:"level",value:t,levels:a.sectors}),b.y.updateLevel("subset",{key:"adjust",value:"Out of Workforce"===t?"-":""}),v({key:"y",value:b.y})},MenuProps:{autoFocus:!1,disableAutoFocus:!0},children:f})]}),(0,l.jsxs)(n.A,{variant:"outlined",fullWidth:!0,size:"small",children:[(0,l.jsx)(i.A,{id:"basic_y_summary_select",children:"Sex Summary"}),(0,l.jsx)(o.A,{labelId:"basic_y_summary_select",label:"Sex Summary",value:b.y.summary.level+b.y.summary.adjust,onChange:e=>{let t=p[e.target.value];b.y=b.y.copy(),b.y.updateLevel("summary",{key:"level",value:t.level,levels:a.sexes}),b.y.updateLevel("summary",{key:"adjust",value:t.adjust}),v({key:"y",value:b.y})},MenuProps:{autoFocus:!1,disableAutoFocus:!0},children:_})]}),b.as_plot&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.A,{fontWeight:"bold",children:"2. By (X-Axis)"}),(0,l.jsxs)(n.A,{variant:"outlined",fullWidth:!0,size:"small",children:[(0,l.jsx)(i.A,{id:"basic_x_select",children:"External Variable"}),(0,l.jsx)(o.A,{labelId:"basic_x_select",label:"External Variable",value:b.x.base+("year"===b.x.base?"":b.x.log),onChange:e=>{v({key:"x",value:new d.r(x[e.target.value])})},MenuProps:{autoFocus:!1,disableAutoFocus:!0},children:g})]}),(0,l.jsx)(r.A,{fontWeight:"bold",children:"3. Coloring"}),(0,l.jsx)(h.q,{current:b.color_source,viewAction:v,outlined:!0})]}),!t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.A,{fontWeight:"bold",children:[b.as_plot?4:2,". Split By"]}),(0,l.jsxs)(n.A,{variant:"outlined",fullWidth:!0,size:"small",children:[(0,l.jsx)(i.A,{id:"basic_y_panel_select",children:"Demographic Subset"}),(0,l.jsx)(o.A,{labelId:"basic_y_panel_select",label:"Demographic Subset",value:b.y_panels,onChange:e=>v({key:"y_panels",value:e.target.value}),children:j})]}),(0,l.jsxs)(r.A,{fontWeight:"bold",children:[b.as_plot?5:3,". Time Handling"]}),(0,l.jsxs)(n.A,{size:"small",fullWidth:!0,children:[(0,l.jsx)(i.A,{id:"basic_time_agg_select",children:"Year Per Country"}),(0,l.jsxs)(o.A,{labelId:"basic_time_agg_select",label:"Year Per Country",value:b.as_plot?b.time_agg:"all"===b.time_agg?"mean":b.time_agg,onChange:e=>{v({key:"time_agg",value:e.target.value})},children:[(0,l.jsx)(s.A,{value:"all",disabled:!b.as_plot,children:"All Years"}),(0,l.jsx)(s.A,{value:"first",children:"Earliest Year"}),(0,l.jsx)(s.A,{value:"specified",children:"Specified Year"}),(0,l.jsx)(s.A,{value:"last",children:"Latest Year"}),(0,l.jsx)(s.A,{value:"mean",children:"Average Across Years"})]})]})]})]})}},42990:(e,t,a)=>{a.d(t,{Iw:()=>l,ds:()=>s,u$:()=>n,xp:()=>r});let l="2025-04-15",s={country:{label:"Country"},year:{label:"Year"},count:{label:"Participants",fullName:"Number of survey participants within segments."},weight:{label:"Represented People",fullName:"Sum of survey weights within segments."},gdp:{label:"GDP per capita (current US$)",fullName:"Gross Domestic Product Per Capita (in current US$)",source:"World Bank",source_url:"https://data.worldbank.org/indicator/SP.POP.TOTL"},gdp_ppp:{label:"GDP per capita (PPP, current international $)",label_long:"GDP per capita (purchasing power parity, current international $)",fullName:"Gross Domestic Product Per Capita (Purchasing Power Parity, current international $)",source:"World Bank",source_url:"https://data.worldbank.org/indicator/NY.GDP.MKTP.PP.CD"},population:{label:"Total Population",fullName:"Total Population (World Bank)",source:"World Bank",source_url:"https://data.worldbank.org/indicator/NY.GDP.PCAP.CD"},main_activity:{label:"Job Sector"},sex:{label:"Sex"},age:{label:"Age"},children_under_5:{label:"Children Under 5"},education:{label:"Education"},marital_status:{label:"Marital Status"},rural:{label:"Rural / Urban"}},r={Agriculture:"Employment Sector: Agriculture",Industry:"Employment Sector: Industry","Services - Market":"Employment Sector: Services - Market","Services - Non-Market":"Employment Sector: Services - Non-Market",Unemployed:"Unemployed"},n=["country","year","main_activity","sex"]},43213:(e,t,a)=>{a.d(t,{Jw:()=>h,Mp:()=>m,PR:()=>v,SO:()=>x,U$:()=>j,Vb:()=>f,gM:()=>g,r4:()=>p,xI:()=>b});var l=a(95155),s=a(12115),r=a(81740),n=a(72602),i=a(46874);let o={as_plot:!0,lock_range:!0,x:new r.r({base:"gdp",log:!0,index:2}),y:new r.r({base:"weight",percent:!0,subset:{variable:"main_activity",level:"Agriculture",levelIndex:0,adjust:""},summary:{variable:"sex",level:"Female",levelIndex:0,adjust:"-"},index:6}),color:"country",symbol:"",x_panels:"",y_panels:"",time_agg:"last",select_year:"2018",country_center:!1,color_source:"region",advanced:!1,regression:"polynomial"},c={x:o.x.toString(),y:o.y.toString()},u={as_plot:!0,lock_range:!0,country_center:!0,advanced:!0},d={...o,countries:"",sectors:"Agriculture,Industry,Services - Market,Services - Non-Market,Unemployed",sexes:"Female,Male",demo_seg:"total",min_year:"1998",max_year:"2018"};function m(e){let t=[];return Object.keys(e).forEach(a=>{if("x"===a||"y"===a){let l=e[a].toString();l!==c[a]&&t.push(a+"="+l)}else{let l=e[a];l!==d[a]&&t.push(a+"="+l)}}),"?"+t.join("&")}let y=e=>{requestAnimationFrame(()=>window.history.replaceState(void 0,"",m(e)))},h=(0,s.createContext)(()=>{}),p=(0,s.createContext)(null),x=(0,s.createContext)(()=>{}),g=(0,s.createContext)(null),b=(0,s.createContext)(new i.Rq({})),v=(0,s.createContext)([]),f=["x_panels","y_panels","symbol","color"],_={first:"d.year === min(d.year)",last:"d.year === max(d.year)"};function j(e){let{children:t}=e,a=(0,s.useContext)(n.y),[i,c]=(0,s.useState)([{base:"year"},{base:"population",log:!1},{base:"gdp",log:!0},{base:"gdp_ppp",log:!0},{base:"weight",percent:!0},{base:"weight",percent:!0,subset:{variable:"main_activity",level:"Agriculture",adjust:""}},{base:"weight",percent:!0,subset:{variable:"main_activity",level:"Agriculture",adjust:""},summary:{variable:"sex",level:"Female",adjust:"-"}}].map((e,t)=>(e.index=t,new r.r(e,a.variableLevels)))),m=(0,s.useMemo)(()=>{let e={...d},t=window.location.search;return t&&t.substring(1).split("&").forEach(t=>{let l=t.split("="),s=l[0];if(s in e)if(s in u)e[s]=1===l.length||"true"===l[1];else if("x"===s||"y"===s){let t=new r.r(l[1],a.variableLevels);t.index=i.findIndex(e=>e.name===t.name),-1===t.index&&(t.index=i.length,c([...i,t])),e[s]=t}else e[s]=l[1]}),e},[a.variableLevels,i]),j=e=>({demo_seg:e.demo_seg||d.demo_seg,min_year:e.min_year||d.min_year,max_year:e.max_year||d.max_year,countries:(()=>{if(!e.countries)return{...a.levels.countries};{let t={};return e.countries.split(",").forEach(e=>t[e]=!0),t}})(),sectors:e.sectors?e.sectors.replaceAll("%20"," ").split(",").filter(e=>a.levels.sectors.includes(e)):[...a.levels.sectors],sexes:e.sexes?e.sexes.replaceAll("%20"," ").split(",").filter(e=>a.levels.sexes.includes(e)):[...a.levels.sexes]}),[A,k]=(0,s.useReducer)((e,t)=>{if("reset"===t.key){let t={...d,...m,x:d.x.copy(),y:d.y.copy(),as_plot:e.as_plot,advanced:e.advanced};return y(t),t}if("replace"===t.key)return y({...d,...m,...t.view}),{...t.view};let a={...m,...e,[t.key]:t.value};return -1===i.findIndex(e=>e.name===a.x.name)&&c([...i,a.x]),-1===i.findIndex(e=>e.name===a.y.name)&&c([...i,a.y]),y(a),a},(()=>{let e={...o,x:o.x.copy(),y:o.y.copy()};return Object.keys(m).forEach(t=>{t in e&&(e[t]=m[t])}),e})()),[w,S]=(0,s.useReducer)((e,t)=>"reset"===t.key?{demo_seg:"total",min_year:a.levels.baseYearRange[0],max_year:a.levels.baseYearRange[1],countries:{...a.levels.countries},sectors:[...a.levels.sectors],sexes:[...a.levels.sexes]}:"replace"===t.key?(y({...A,...t.filter}),j(t.filter)):("countries"===t.key?(m.countries=Object.keys(t.value).length<10?Object.keys(t.value).join(","):"",y({...A,countries:m.countries})):("sectors"===t.key||"sexes"===t.key?m[t.key]=t.value.sort().join(","):m[t.key]=t.value,y({...A,[t.key]:m[t.key]})),{...e,[t.key]:t.value}),j(m)),C=(0,s.useMemo)(()=>{let e=["","total"];return f.forEach(t=>{let l=A[t];l in a.levels.demo_segments&&(e[0]=t,e[1]=l)}),e},[A,a.levels.demo_segments]),I=(0,s.useMemo)(()=>a.data.filter('d.variable === "'.concat(C[1],'"')),[C,a.data]),M=(0,s.useMemo)(()=>{let e={};w.sectors.forEach(t=>e[t]=!0);let t={};w.sexes.forEach(e=>t[e]=!0);let a=I.params({c:w.countries,s:t,a:e}).filter("(d, p) => d.country in p.c && d.sex in p.s && d.main_activity in p.a").filter("specified"===A.time_agg?"d.year === "+(A.select_year||0):"d.year >= ".concat(w.min_year," && d.year <= ").concat(w.max_year));return A.time_agg in _?a.groupby("country").filter(_[A.time_agg]):a},[I,w,A.time_agg,A.select_year]);return(0,l.jsx)(h.Provider,{value:k,children:(0,l.jsx)(p.Provider,{value:A,children:(0,l.jsx)(x.Provider,{value:S,children:(0,l.jsx)(g.Provider,{value:w,children:(0,l.jsx)(b.Provider,{value:M,children:(0,l.jsx)(v,{value:i,children:t})})})})})})}},72602:(e,t,a)=>{a.d(t,{Data:()=>h,y:()=>m});var l=a(95155),s=a(46874),r=a(12115),n=a(42990),i=a(96300),o=a(19102),c=a(41292),u=a(80317),d=a(89041);let m=(0,r.createContext)(null),y="/WorkInData/gender_gap/";function h(e){let{children:t}=e,[a,h]=(0,r.useState)(null),[p,x]=(0,r.useState)(null),[g,b]=(0,r.useState)(null);if((0,r.useEffect)(()=>{(0,s.b2)(y+"data.json.gz").then(e=>h(e)),(0,s.b2)(y+"world_bank.json.gz").then(e=>x(e)),fetch(y+"countries.geojson").then(async e=>b(await e.json()))},[]),a&&p&&g){let e={};g.features.forEach(t=>e[t.properties.ISO_A3]=t.properties);let r=a.derive({country_year:"d.country + d.year"}).join(p.derive({country_year:"d.country + d.year"}).select((0,s.AU)("country","year")),"country_year").select((0,s.AU)("country_year")),o={none:[],"":[]};r.columnNames().forEach(e=>{"string"==typeof r.get(e,0)&&(o[e]=[...new Set(r.array(e))].sort())});let c=(()=>{let t={},a=[...new Set(r.array("country"))];a.forEach(t=>{t in e||(e[t]={name:t,region:"Europe & Central Asia"})}),a.sort((t,a)=>{let l=e[t],s=e[a];return l.region+l.name>s.region+s.name?1:-1}).forEach(e=>t[e]=!0);let l={};[...new Set(r.array("variable"))].filter(e=>"total"!==e).sort().forEach(e=>l[e]=!0);let s=(0,i.Am)(r,"year");return{countries:t,demo_segments:l,years:s,sectors:(0,i.Am)(r,"main_activity"),sexes:(0,i.Am)(r,"sex"),baseYearRange:[""+Math.min(...s),""+Math.max(...s)],selectable:[...n.u$,...Object.keys(l)]}})();return(0,l.jsx)(m.Provider,{value:{data:r,map:g,countryInfo:e,variableLevels:o,levels:c},children:t})}return(0,l.jsx)(o.A,{open:!0,children:(0,l.jsxs)(c.A,{sx:{margin:"auto",marginTop:10,maxWidth:350},children:[(0,l.jsx)(u.A,{variant:"h5",children:"Loading Data..."}),(0,l.jsx)(d.A,{})]})})}},81740:(e,t,a)=>{a.d(t,{r:()=>c});var l=a(42990);let s={year:!0,gdp:!0,gdp_ppp:!0,population:!0},r={variable:"",level:"",levelIndex:0,adjust:"-"},n=/^\[/,i=/\)$/,o=/^(.)/;class c{update(e){let{key:t,value:a}=e;this[t]=a,"base"===t&&(this.isGlobal=this.base in s,this.isGlobal&&(this.subset={...r},this.summary={...r})),this.updateName()}updateLevel(e,t){if("remove"===t.key)this[e]={...r};else{let a=this[e];a[t.key]=t.value,"levels"in t&&("variable"===t.key?(a.level=t.levels[0],a.levelIndex=0):a.levelIndex=t.levels.indexOf(a.level))}this.updateName()}parseLevel(e,t){let a=e.split("."),l="!"===a[0][0]?"-":"|"===a[0][0]?"/":"",s=l?a[0].substring(1):a[0],r=+a[1].replace("t",""),n=t[s];return{variable:s,levelIndex:r,level:r>=n.length?"":n[r],adjust:l,overall:a[1].endsWith("t")}}baseFormula(){return this.isGlobal||!this.subset.variable?"d."+this.base:"d.".concat(this.base," * ").concat(this.subsetFormula())}formula(e){return"year"===this.base?"d."+e:this.isGlobal?this.log?"log(d.".concat(e,")"):"d."+e:this.percent?"d.".concat(e," / d.").concat(e).concat(this.summary.variable&&!this.summary.overall?"_summary":"","_sum * 100"):"sum(d.".concat(e,")")}updateName(){let e=l.ds[this.base].label_long||l.ds[this.base].label;if(this.isGlobal)"year"!=this.base&&this.log&&(e+=" [log]");else if(this.subset.variable){e=c.activityLabel(this.subset);let t=(this.percent?this.summary.variable&&this.summary.overall?" overall %":"%":"")+("weight"===this.base?"":(this.percent?" ":"")+this.base);this.summary.variable?e+=" ["+(this.summary.adjust?"Gender ".concat("-"===this.summary.adjust?"Gap":"Ratio",": ")+this.summary.level+" Ref.":this.summary.level+" Share")+(t?"; "+t:"")+"]":t&&(e+=" ["+t+"]")}else this.percent&&(e+=" [%]");this.name=e,this.updateDescription()}updateDescription(){if(this.isGlobal)this.description=("year"!==this.base&&this.log?"Log of ":"")+(l.ds[this.base].label_long||l.ds[this.base].label);else{let e=this.summary.overall?"":"weight"===this.base?"represented ":"",t=[e+(this.summary.variable?"Male"===this.summary.level?"men":"women":"participants")];this.summary.variable&&""!==this.summary.adjust&&t.push(e+("men"===t[0]?"women":"men"));let a=this.subset.variable?"Unemployed"===this.subset.level?"-"===this.subset.adjust?"employed or not looking for work":"unemployed and looking for work":"Out of Workforce"===this.subset.level?"-"===this.subset.adjust?"employed or looking for work":"not employed or looking for work":" who are ".concat("-"===this.subset.adjust?"not ":"","in ")+this.subset.level:"";this.description=t.map(e=>this.summary.overall?(this.percent?"percent of "+("weight"===this.base?"represented people":"participants"):"")+(a?" "+a.toLowerCase():"")+(this.percent?" and are ":"")+e:(this.percent?"percent of ":"")+e+(a?" "+a.toLowerCase():"")).join("-"===this.summary.adjust?" minus ":"/"===this.summary.adjust?" divided by ":"").replace(o,e=>e.toUpperCase())+"."}}levelToString(e){let t=this[e];return t&&t.variable?"".concat(t.adjust?"-"===t.adjust?"!":"|":"").concat(t.variable,".").concat(t.levelIndex).concat(t.overall?"t":""):""}toString(){return"".concat(!this.isGlobal&&this.percent?"%":"").concat(this.base).concat("year"===this.base?"":this.isGlobal?this.log?":log":"":":"+this.levelToString("subset")+":"+this.levelToString("summary"))}subsetFormula(){return"(d.".concat(this.subset.variable).concat("-"===this.subset.adjust?"!==":"===",'"').concat(this.subset.level,'")')}summaryFormula(e){return"-"===this.summary.adjust?"d.".concat(e," * ((d.").concat(this.summary.variable,'==="').concat(this.summary.level,'") + -1 * (d.').concat(this.summary.variable,'!=="').concat(this.summary.level,'"))'):"d.".concat(e," * (d.").concat(this.summary.variable,'==="').concat(this.summary.level,'")')}offLevelFormula(e){return"sum(d.".concat(e," * (d.").concat(this.summary.variable,'!=="').concat(this.summary.level,'"))')}copy(){return new c(this)}static activityLabel(e){return"-"===e.adjust?e.level&&"Out of Workforce"===e.level?"Labor Force Participation":"Not "+e.level:("Out of Workforce"!==e.level&&"Unemployed"!==e.level?"Employment Sector ("+e.level+")":e.level)+("/"===e.adjust?" Proportion":"")}constructor(e,t){if(this.name="",this.description="",this.isGlobal=!0,this.index=0,this.base="year",this.percent=!0,this.log=!0,this.subset={...r},this.summary={...r},"string"==typeof e){let a=e.replace(n,"").replace(i,"").split(":");this.base=a[0],this.percent="%"===this.base[0],this.percent&&(this.base=this.base.replace("%","")),this.base in l.ds||(this.base="year"),this.isGlobal=this.base in s,this.isGlobal?(this.percent=!0,this.log=a.length>1):t&&(a[1]&&(this.subset=this.parseLevel(a[1],t)),a[2]&&(this.summary=this.parseLevel(a[2],t)))}else Object.keys(e).forEach(a=>{a in this&&("subset"===a||"summary"===a?(this[a]={...e[a]},t&&(this[a].levelIndex=t[this[a].variable].indexOf(this[a].level),-1===this[a].levelIndex&&(this[a]={...r}))):this[a]=e[a])}),this.isGlobal=this.base in s;this.updateName()}}},92841:(e,t,a)=>{a.d(t,{f:()=>h});var l=a(95155),s=a(41292),r=a(8224),n=a(41574),i=a(13664),o=a(80317),c=a(40670),u=a(27855),d=a(12115),m=a(72602),y=a(43213);function h(e){let{backgroundColor:t}=e,a=(0,d.useContext)(y.gM),h=(0,d.useContext)(y.SO),p=(0,d.useContext)(m.y),x=(0,d.useCallback)(e=>{let{countryInfo:t}=p,l=a.countries,s=!0;return Object.keys(p.levels.countries).forEach(a=>{s&&a in t&&t[a].region===e&&(s=a in l)}),s},[p,a.countries]);return(0,l.jsxs)(s.A,{direction:"row",children:[(0,l.jsx)(r.A,{options:Object.keys(p.levels.countries),groupBy:e=>e in p.countryInfo?p.countryInfo[e].region:"unknown",sx:{"& li":{p:0}},renderGroup:e=>(0,l.jsxs)(n.A,{children:[(0,l.jsxs)(s.A,{direction:"row",sx:{position:"sticky",top:"-8px",backgroundColor:t,alignItems:"center",zIndex:1},children:[(0,l.jsx)(i.A,{onChange:(t,l)=>{let{countryInfo:s}=p,r={...a.countries};Object.keys(p.levels.countries).forEach(t=>{s[t].region===e.group&&(l?r[t]=!0:delete r[t])}),h({key:"countries",value:r})},checked:x(e.group)},e.group),(0,l.jsx)(o.A,{fontSize:"small",children:e.group})]}),e.children]},e.key),renderOption:(e,t,a)=>{let{selected:s}=a,{key:r,...n}=e;return(0,l.jsxs)("li",{...n,style:{paddingTop:0,paddingBottom:0},children:[(0,l.jsx)(i.A,{checked:s,size:"small"}),(0,l.jsx)(o.A,{fontSize:"small",children:p.countryInfo[t].name+" ("+t+")"})]},r)},renderInput:e=>(0,l.jsx)(c.A,{...e,label:"Countries"}),value:Object.keys(a.countries),renderValue:()=>(0,l.jsxs)(o.A,{sx:{p:1,pt:0,pb:0,whiteSpace:"nowrap"},children:[Object.keys(a.countries).length," / ",Object.keys(p.levels.countries).length]}),multiple:!0,disableCloseOnSelect:!0,fullWidth:!0,size:"small",onChange:(e,t)=>{let a={};t.forEach(e=>a[e]=!0),h({key:"countries",value:a})}}),(0,l.jsx)(u.A,{size:"small",variant:"contained",onClick:()=>h({key:"countries",value:p.levels.countries}),children:"All"})]})}},96300:(e,t,a)=>{a.d(t,{Am:()=>s,Nt:()=>r,ZV:()=>function e(t,a){if(a){if("year"===a.base)return t;if(a.isGlobal&&a.log)return"".concat(e(Math.round(Math.E**t))," (").concat(e(t),")")}return t%1==0?l(t):Math.abs(t)>1e3?l(+t.toFixed(2)):t.toFixed(2)}});let l=Intl.NumberFormat().format;function s(e,t){return[...new Set(e.array(t))].sort()}function r(e,t,a){let l=a.getBoundingClientRect(),s=l.width/2;return{top:e[1]-(e[1]<window.innerHeight/2?-20:l.height+20),left:e[0]-(e[0]>s?window.innerWidth-e[0]>s?s:2*s:-20)}}}}]);