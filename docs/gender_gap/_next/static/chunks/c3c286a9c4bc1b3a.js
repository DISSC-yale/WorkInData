(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,34251,69120,e=>{"use strict";var t=e.i(36807);e.s(["Button",()=>t.default],34251);var r=e.i(43090);e.s(["IconButton",()=>r.default],69120)},83012,35948,67786,82472,3566,56846,33329,59991,e=>{"use strict";var t=e.i(54624),r=e.i(43476);let n=(0,t.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");e.s(["default",0,n],83012);let a=(0,t.default)((0,r.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download");e.s(["default",0,a],35948);var o=e.i(90498);e.s(["Autocomplete",()=>o.default],67786);var i=e.i(39855);e.s(["Checkbox",()=>i.default],82472),e.i(47167);var l=e.i(71645),s=e.i(7670),u=e.i(19130),d=e.i(57242),c=e.i(42196),p=e.i(18005),m=e.i(44202),f=e.i(67719),h=e.i(40672),x=e.i(19727);function g(e){return(0,x.default)("MuiDialog",e)}let y=(0,h.default)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),v=l.createContext({});var b=e.i(9e4),_=e.i(40799),j=e.i(10557),C=e.i(75149),M=e.i(94425),w=e.i(48106);let I=(0,_.styled)(b.default,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),S=(0,_.styled)(p.default,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),k=(0,_.styled)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.container,t[`scroll${(0,c.default)(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),D=(0,_.styled)(f.default,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.paper,t[`scrollPaper${(0,c.default)(r.scroll)}`],t[`paperWidth${(0,c.default)(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})((0,C.default)(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${y.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(e=>"xs"!==e).map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${y.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${y.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),F=l.forwardRef(function(e,t){let n=(0,M.useDefaultProps)({props:e,name:"MuiDialog"}),a=(0,j.useTheme)(),o={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":p,"aria-modal":h=!0,BackdropComponent:x,BackdropProps:y,children:b,className:_,disableEscapeKeyDown:C=!1,fullScreen:F=!1,fullWidth:P=!1,maxWidth:A="sm",onClick:T,onClose:E,open:O,PaperComponent:L=f.default,PaperProps:W={},scroll:R="paper",slots:N={},slotProps:$={},TransitionComponent:z=m.default,transitionDuration:B=o,TransitionProps:G,...V}=n,Y={...n,disableEscapeKeyDown:C,fullScreen:F,fullWidth:P,maxWidth:A,scroll:R},q=(e=>{let{classes:t,scroll:r,maxWidth:n,fullWidth:a,fullScreen:o}=e,i={root:["root"],container:["container",`scroll${(0,c.default)(r)}`],paper:["paper",`paperScroll${(0,c.default)(r)}`,`paperWidth${(0,c.default)(String(n))}`,a&&"paperFullWidth",o&&"paperFullScreen"]};return(0,u.default)(i,g,t)})(Y),X=l.useRef(),U=(0,d.default)(p),H=l.useMemo(()=>({titleId:U}),[U]),K={slots:{transition:z,...N},slotProps:{transition:G,paper:W,backdrop:y,...$}},[J,Q]=(0,w.default)("root",{elementType:S,shouldForwardComponentProp:!0,externalForwardedProps:K,ownerState:Y,className:(0,s.default)(q.root,_),ref:t}),[Z,ee]=(0,w.default)("backdrop",{elementType:I,shouldForwardComponentProp:!0,externalForwardedProps:K,ownerState:Y}),[et,er]=(0,w.default)("paper",{elementType:D,shouldForwardComponentProp:!0,externalForwardedProps:K,ownerState:Y,className:(0,s.default)(q.paper,W.className)}),[en,ea]=(0,w.default)("container",{elementType:k,externalForwardedProps:K,ownerState:Y,className:q.container}),[eo,ei]=(0,w.default)("transition",{elementType:m.default,externalForwardedProps:K,ownerState:Y,additionalProps:{appear:!0,in:O,timeout:B,role:"presentation"}});return(0,r.jsx)(J,{closeAfterTransition:!0,slots:{backdrop:Z},slotProps:{backdrop:{transitionDuration:B,as:x,...ee}},disableEscapeKeyDown:C,onClose:E,open:O,onClick:e=>{T&&T(e),X.current&&(X.current=null,E&&E(e,"backdropClick"))},...Q,...V,children:(0,r.jsx)(eo,{...ei,children:(0,r.jsx)(en,{onMouseDown:e=>{X.current=e.target===e.currentTarget},...ea,children:(0,r.jsx)(et,{as:L,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":U,"aria-modal":h,...er,children:(0,r.jsx)(v.Provider,{value:H,children:b})})})})})});function P(e){return(0,x.default)("MuiDialogActions",e)}e.s(["Dialog",0,F],3566),(0,h.default)("MuiDialogActions",["root","spacing"]);let A=(0,_.styled)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),T=l.forwardRef(function(e,t){let n=(0,M.useDefaultProps)({props:e,name:"MuiDialogActions"}),{className:a,disableSpacing:o=!1,...i}=n,l={...n,disableSpacing:o},d=(e=>{let{classes:t,disableSpacing:r}=e;return(0,u.default)({root:["root",!r&&"spacing"]},P,t)})(l);return(0,r.jsx)(A,{className:(0,s.default)(d.root,a),ownerState:l,ref:t,...i})});function E(e){return(0,x.default)("MuiDialogContent",e)}function O(e){return(0,x.default)("MuiDialogTitle",e)}e.s(["DialogActions",0,T],56846),(0,h.default)("MuiDialogContent",["root","dividers"]);let L=(0,h.default)("MuiDialogTitle",["root"]),W=(0,_.styled)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})((0,C.default)(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${L.root} + &`]:{paddingTop:0}}}]}))),R=l.forwardRef(function(e,t){let n=(0,M.useDefaultProps)({props:e,name:"MuiDialogContent"}),{className:a,dividers:o=!1,...i}=n,l={...n,dividers:o},d=(e=>{let{classes:t,dividers:r}=e;return(0,u.default)({root:["root",r&&"dividers"]},E,t)})(l);return(0,r.jsx)(W,{className:(0,s.default)(d.root,a),ownerState:l,ref:t,...i})});e.s(["DialogContent",0,R],33329);var N=e.i(26863);let $=(0,_.styled)(N.default,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),z=l.forwardRef(function(e,t){let n=(0,M.useDefaultProps)({props:e,name:"MuiDialogTitle"}),{className:a,id:o,...i}=n,d=(e=>{let{classes:t}=e;return(0,u.default)({root:["root"]},O,t)})(n),{titleId:c=o}=l.useContext(v);return(0,r.jsx)($,{component:"h2",className:(0,s.default)(d.root,a),ownerState:n,ref:t,variant:"h6",id:o??c,...i})});e.s(["DialogTitle",0,z],59991)},49017,e=>{"use strict";var t=e.i(28637);e.s(["FormControl",()=>t.default])},25376,e=>{"use strict";var t=e.i(53332);e.s(["FormControlLabel",()=>t.default])},74778,11458,83124,e=>{"use strict";var t=e.i(39147);e.s(["InputLabel",()=>t.default],74778);var r=e.i(28642);e.s(["MenuItem",()=>r.default],11458);var n=e.i(26678);e.s(["Select",()=>n.default],83124)},76157,33460,69437,e=>{"use strict";var t=e.i(43476),r=e.i(83012),n=e.i(35948),a=e.i(67786),o=e.i(34251),i=e.i(82472),l=e.i(3566),s=e.i(56846),u=e.i(33329),d=e.i(59991),c=e.i(49017),p=e.i(25376),m=e.i(69120),f=e.i(74778),h=e.i(81200),x=e.i(11458),g=e.i(83124),y=e.i(63745),v=e.i(60291);e.s(["Switch",()=>v.default],33460);var v=v,b=e.i(36151);e.s(["TextField",()=>b.default],69437);var b=b,_=e.i(66796),j=e.i(71645),C=e.i(32109),M=e.i(63250);function w(e,t,r){return`wid_ggg_${r}${"all"===t.time_agg?"":"_"+("specified"===t.time_agg?t.select_year:t.time_agg+"-time")}_${e.get("variable",0)}_${e.numRows()}`}function I(){let e=(0,j.useContext)(C.DataContext),I=(0,j.useContext)(M.ViewContext),S=(0,j.useContext)(M.FilteredContext),[k,D]=(0,j.useState)(!1),[F,P]=(0,j.useState)(!1),[A,T]=(0,j.useState)(","),E=(0,j.useMemo)(()=>e.data.columnNames(),[e.data]),[O,L]=(0,j.useState)(E),[W,R]=(0,j.useState)(""),N=(0,j.useMemo)(()=>{let t=w(S,I,e.meta.updated);return R(t),L(E.filter(e=>"mean"!==I.time_agg||"year"!==e)),{partial:t,full:`wid_ggg_${e.meta.updated}${"all"===I.time_agg?"":"_"+("specified"===I.time_agg?I.select_year:I.time_agg+"-time")}`}},[S,I,E,e.meta.updated]),$=()=>D(!k),z=F?e.data:S;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Button,{color:"inherit",onClick:$,startIcon:(0,t.jsx)(n.default,{}),children:"Export"}),k&&(0,t.jsxs)(l.Dialog,{open:k,onClose:$,hideBackdrop:!0,children:[(0,t.jsx)(d.DialogTitle,{children:"Data Export"}),(0,t.jsx)(m.IconButton,{"aria-label":"close export menu",onClick:$,sx:{position:"absolute",right:8,top:12},children:(0,t.jsx)(r.default,{})}),(0,t.jsxs)(u.DialogContent,{sx:{width:500,maxWidth:"100%",pt:0},children:[(0,t.jsxs)(_.Typography,{children:["Direct link to full dataset:"," ",(0,t.jsx)(h.Link,{href:"https://dissc-yale.github.io/WorkInData/gender_gap/data.csv.gz",rel:"noreferrer",target:"_blank",children:"data.csv.gz"})]}),(0,t.jsx)(_.Typography,{sx:{pt:1},children:"Custom Export"}),(0,t.jsxs)(y.Stack,{spacing:1,children:[(0,t.jsxs)(y.Stack,{direction:"row",spacing:1,children:[(0,t.jsx)(b.default,{fullWidth:!0,size:"small",label:"Filename",value:W,onChange:e=>R(e.target.value),children:W}),(0,t.jsxs)(c.FormControl,{sx:{width:110},variant:"outlined",fullWidth:!0,size:"small",children:[(0,t.jsx)(f.InputLabel,{id:"separator_select",children:"Type"}),(0,t.jsxs)(g.Select,{labelId:"separator_select",label:"Type",value:A,onChange:e=>T(e.target.value),children:[(0,t.jsx)(x.MenuItem,{value:",",children:"CSV"}),(0,t.jsx)(x.MenuItem,{value:"\\t",children:"TSV"})]})]})]}),(0,t.jsx)(a.Autocomplete,{options:E,sx:{"& li":{p:0}},renderOption:(e,r,{selected:n})=>{let{key:a,...o}=e;return(0,t.jsxs)(x.MenuItem,{disabled:"mean"===I.time_agg&&"year"===r,...o,children:[(0,t.jsx)(i.Checkbox,{checked:n}),r]},a)},renderInput:e=>(0,t.jsx)(b.default,{...e,label:"Columns"}),value:O,renderValue:()=>(0,t.jsxs)(_.Typography,{sx:{p:1,pt:0,pb:0},children:["Selected: ",O.length]}),multiple:!0,disableCloseOnSelect:!0,fullWidth:!0,size:"small",onChange:(e,t)=>L(t)}),(0,t.jsx)(p.FormControlLabel,{sx:{float:"right"},label:"Full Dataset",labelPlacement:"start",control:(0,t.jsx)(v.default,{checked:F,onChange:()=>{W===N[F?"full":"partial"]&&(N.partial=w(S,I,e.meta.updated),R(N[F?"partial":"full"])),P(!F)}})})]})]}),(0,t.jsxs)(s.DialogActions,{sx:{justifyContent:"right"},children:[(0,t.jsxs)(_.Typography,{children:[","===A?"CSV":"TSV"," file with ",z.numRows()," rows"]}),(0,t.jsx)(o.Button,{variant:"contained",onClick:()=>{let e=document.createElement("a");document.body.appendChild(e),e.rel="noreferrer",e.target="_blank",e.download=W+(","===A?".csv":".tsv"),e.href=URL.createObjectURL(new Blob([z.toCSV({delimiter:A,columns:O})],{type:"text/csv; charset=utf-8"})),setTimeout(function(){e.dispatchEvent(new MouseEvent("click")),URL.revokeObjectURL.bind(null,e.href),document.body.removeChild(e)},0)},children:"Download"})]})]})]})}e.s(["Export",()=>I],76157)},58932,42669,15904,42930,e=>{"use strict";var t=e.i(43476),r=e.i(49017),n=e.i(74778),a=e.i(11458),o=e.i(83124),i=e.i(66796),l=e.i(71645),s=e.i(41143),u=e.i(76246),d=e.i(63250),c=e.i(32109),p=e.i(69799);e.s(["Tooltip",()=>p.default],42669);var p=p;function m({current:e,viewAction:l,outlined:s}){return(0,t.jsx)(p.default,{title:"Determines how colors are selected for each country.",placement:"top",children:(0,t.jsxs)(r.FormControl,{variant:s?"outlined":"filled",fullWidth:!0,size:"small",children:[(0,t.jsx)(n.InputLabel,{id:"color_basis_select",children:"Color Basis"}),(0,t.jsxs)(o.Select,{labelId:"color_basis_select",label:"Color Basis",value:e,autoFocus:!1,MenuProps:{autoFocus:!1,disableAutoFocus:!0},onChange:e=>{l({key:"color_source",value:e.target.value})},children:[(0,t.jsx)(a.MenuItem,{value:"gdp",children:(0,t.jsx)(i.Typography,{children:"GDP per capita"})}),(0,t.jsx)(a.MenuItem,{value:"region",children:(0,t.jsx)(i.Typography,{children:"Region"})}),(0,t.jsx)(a.MenuItem,{value:"income",children:(0,t.jsx)(i.Typography,{children:"Income Classification"})})]})]})})}function f({current:e,viewAction:l}){return(0,t.jsxs)(r.FormControl,{variant:"outlined",fullWidth:!0,size:"small",children:[(0,t.jsx)(n.InputLabel,{id:"regression_select",children:"Regression Type"}),(0,t.jsxs)(o.Select,{labelId:"regression_select",label:"Regression Type",value:e,onChange:e=>{l({key:"regression",value:e.target.value})},children:[(0,t.jsx)(a.MenuItem,{value:"none",children:(0,t.jsx)(i.Typography,{children:"None"})}),(0,t.jsx)(a.MenuItem,{value:"linear",children:(0,t.jsx)(i.Typography,{children:"Linear"})}),(0,t.jsx)(a.MenuItem,{value:"logarithmic",children:(0,t.jsx)(i.Typography,{children:"Logarithmic"})}),(0,t.jsx)(a.MenuItem,{value:"polynomial",children:(0,t.jsx)(i.Typography,{children:"Quadratic"})})]})]})}e.s(["ColorBasis",()=>m],15904),e.s(["RegressionSelect",()=>f],42930);let h={year:{label:"Year",base:"year"},gdpfalse:{label:"GDP per capita",base:"gdp",log:!1},gdptrue:{label:"Log GDP per capita",base:"gdp",log:!0},gdp_pppfalse:{label:"GDP per capita in PPP",base:"gdp_ppp",log:!1},gdp_ppptrue:{label:"Log GDP per capita in PPP",base:"gdp_ppp",log:!0}},x=Object.keys(h).map(e=>{let{label:r}=h[e];return(0,t.jsx)(a.MenuItem,{value:e,children:r},e)});function g({simple:e}){let{levels:p}=(0,l.useContext)(c.DataContext),g=(0,l.useContext)(d.ViewContext),y=(0,l.useContext)(d.ViewActionContext),v=(0,l.useMemo)(()=>Object.keys(s.activityLabels).map(e=>(0,t.jsx)(a.MenuItem,{value:e,children:s.activityLabels[e]},e)),[]),b=(0,l.useMemo)(()=>Object.keys(s.sexSummaries).map(e=>(0,t.jsx)(a.MenuItem,{value:e,children:s.sexSummaries[e].label},e)),[]),_=(0,l.useMemo)(()=>["",...Object.keys(p.demo_segments)].map(e=>(0,t.jsx)(a.MenuItem,{value:e,children:e in s.variableInfo?s.variableInfo[e].label:"None"},e)),[p.demo_segments]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Typography,{fontWeight:"bold",children:"1. Outcome (Y-Axis)"}),(0,t.jsxs)(r.FormControl,{variant:"outlined",fullWidth:!0,size:"small",children:[(0,t.jsx)(n.InputLabel,{id:"basic_y_subset_select",children:"Main Activity"}),(0,t.jsx)(o.Select,{labelId:"basic_y_subset_select",label:"Main Activity",value:g.y.subset.level,onChange:e=>{let t=e.target.value;g.y=g.y.copy(),g.y.updateLevel("subset",{key:"level",value:t,levels:p.sectors}),g.y.updateLevel("subset",{key:"adjust",value:""}),y({key:"y",value:g.y})},MenuProps:{autoFocus:!1,disableAutoFocus:!0},children:v})]}),(0,t.jsxs)(r.FormControl,{variant:"outlined",fullWidth:!0,size:"small",children:[(0,t.jsx)(n.InputLabel,{id:"basic_y_summary_select",children:"Gender Summary"}),(0,t.jsx)(o.Select,{labelId:"basic_y_summary_select",label:"Gender Summary",value:g.y.summary.level+g.y.summary.adjust,onChange:e=>{let t=s.sexSummaries[e.target.value];g.y=g.y.copy(),g.y.updateLevel("summary",{key:"level",value:t.level,levels:p.sexes}),g.y.updateLevel("summary",{key:"adjust",value:t.adjust}),y({key:"y",value:g.y})},MenuProps:{autoFocus:!1,disableAutoFocus:!0},children:b})]}),g.as_plot&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Typography,{fontWeight:"bold",children:"2. By (X-Axis)"}),(0,t.jsxs)(r.FormControl,{variant:"outlined",fullWidth:!0,size:"small",children:[(0,t.jsx)(n.InputLabel,{id:"basic_x_select",children:"External Variable"}),(0,t.jsx)(o.Select,{labelId:"basic_x_select",label:"External Variable",value:g.x.base+("year"===g.x.base?"":g.x.log),onChange:e=>{y({key:"x",value:new u.Variable(h[e.target.value])})},MenuProps:{autoFocus:!1,disableAutoFocus:!0},children:x})]}),(0,t.jsx)(i.Typography,{fontWeight:"bold",children:"3. Styling"}),(0,t.jsx)(m,{current:g.color_source,viewAction:y,outlined:!0}),(0,t.jsx)(f,{current:g.regression,viewAction:y})]}),!e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.Typography,{fontWeight:"bold",children:[g.as_plot?4:2,". Split By"]}),(0,t.jsxs)(r.FormControl,{variant:"outlined",fullWidth:!0,size:"small",children:[(0,t.jsx)(n.InputLabel,{id:"basic_y_panel_select",children:"Demographic Subset"}),(0,t.jsx)(o.Select,{labelId:"basic_y_panel_select",label:"Demographic Subset",value:g.y_panels,onChange:e=>y({key:"y_panels",value:e.target.value}),children:_})]}),(0,t.jsxs)(i.Typography,{fontWeight:"bold",children:[g.as_plot?5:3,". Time Handling"]}),(0,t.jsxs)(r.FormControl,{size:"small",fullWidth:!0,children:[(0,t.jsx)(n.InputLabel,{id:"basic_time_agg_select",children:"Year Per Country"}),(0,t.jsxs)(o.Select,{labelId:"basic_time_agg_select",label:"Year Per Country",value:g.as_plot?g.time_agg:"all"===g.time_agg?"mean":g.time_agg,onChange:e=>{y({key:"time_agg",value:e.target.value})},children:[(0,t.jsx)(a.MenuItem,{value:"all",disabled:!g.as_plot,children:"All Years"}),(0,t.jsx)(a.MenuItem,{value:"first",children:"Earliest Year"}),(0,t.jsx)(a.MenuItem,{value:"specified",children:"Specified Year"}),(0,t.jsx)(a.MenuItem,{value:"last",children:"Latest Year"}),(0,t.jsx)(a.MenuItem,{value:"mean",children:"Average Across Years"})]})]})]})]})}e.s(["BasicMenu",()=>g],58932)},51792,e=>{"use strict";var t=e.i(43476),r=e.i(67786),n=e.i(76552),a=e.i(34251),o=e.i(82472),i=e.i(96423),l=e.i(63745),s=e.i(69437),u=e.i(66796),d=e.i(71645),c=e.i(32109),p=e.i(63250);let m=(0,i.createFilterOptions)({stringify:e=>e.searchString}),f={};function h({backgroundColor:e}){let i=(0,d.useContext)(p.FilterContext),h=(0,d.useContext)(p.FilterActionContext),x=(0,d.useContext)(c.DataContext),g=(0,d.useCallback)(e=>{if(!(e in f)){let t=x.countryInfo[e];f[e]=t?{key:e,searchString:JSON.stringify(t),name:t.name,region:t.region}:{key:e,searchString:e,name:e,region:"unknown"}}return f[e]},[x.countryInfo]),y=(0,d.useMemo)(()=>Object.keys(x.levels.countries).map(g),[x.levels.countries,g]),v=(0,d.useMemo)(()=>Object.keys(i.countries).map(g),[i.countries,g]),b=(0,d.useCallback)(e=>{let t=i.countries,r=!0;return y.forEach(n=>{r&&n.region===e&&(r=n.key in t)}),r},[i.countries,y]);return(0,t.jsxs)(l.Stack,{direction:"row",children:[(0,t.jsx)(r.Autocomplete,{options:y,groupBy:e=>e.region,sx:{"& li":{p:0}},renderGroup:r=>(0,t.jsxs)(n.Box,{children:[(0,t.jsxs)(l.Stack,{direction:"row",sx:{position:"sticky",top:"-8px",backgroundColor:e,alignItems:"center",zIndex:1},children:[(0,t.jsx)(o.Checkbox,{onChange:(e,t)=>{let n={...i.countries};y.forEach(e=>{e.region===r.group&&(t?n[e.key]=!0:delete n[e.key])}),h({key:"countries",value:n})},checked:b(r.group)},r.group),(0,t.jsx)(u.Typography,{fontSize:"small",children:r.group})]}),r.children]},r.key),renderOption:(e,r,{selected:n})=>{let{key:a,...i}=e;return(0,t.jsxs)("li",{...i,style:{paddingTop:0,paddingBottom:0},children:[(0,t.jsx)(o.Checkbox,{checked:n,size:"small"}),(0,t.jsx)(u.Typography,{fontSize:"small",children:r.name+(r.name===r.key?"":" ("+r.key+")")})]},a)},getOptionLabel:e=>e.key,renderInput:e=>(0,t.jsx)(s.TextField,{...e,label:"Countries"}),filterOptions:m,value:v,renderValue:()=>(0,t.jsxs)(u.Typography,{sx:{p:1,pt:0,pb:0,whiteSpace:"nowrap"},children:[v.length," / ",y.length]}),multiple:!0,disableCloseOnSelect:!0,fullWidth:!0,size:"small",onChange:(e,t)=>{let r={};t.forEach(e=>r[e.key]=!0),h({key:"countries",value:r})}}),(0,t.jsx)(a.Button,{size:"small",variant:"contained",onClick:()=>h({key:"countries",value:x.levels.countries}),children:"All"})]})}e.s(["FilterCountry",()=>h])},64232,(e,t,r)=>{e.e,t.exports=function(){var e=[function(e,t,r){var n;void 0===(n=(function(e){return{clustering:r(1),regression:r(5),statistics:r(6),histogram:r(15),transform:{regression:r(18),histogram:r(21),clustering:r(22)}}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(2),n=t.dataPreprocess,a=t.normalizeDimensions,o=r(3),i=r(4),l=o.size,s=o.sumOfColumn,u=o.sum,d=o.zeros,i=r(4),c=i.isNumber,p=Math.pow,m={SINGLE:"single",MULTIPLE:"multiple"};function f(e,t){for(var r,n,a=[],o=0;o<t.dimensions.length;o++){var i=t.dimensions[o];r=0;for(var l=0;l<e.length;l++)r+=e[l][i];n=r/e.length,a.push(n)}return a}function h(e,t){var r=t.outputCentroidDimensions;if(t.outputType===m.SINGLE&&null!=r)for(var n=e.data,a=e.centroids,o=0;o<n.length;o++)for(var i=n[o],l=a[i[t.outputClusterIndexDimension]],s=Math.min(l.length,r.length),u=0;u<s;u++)i[r[u]]=l[u]}function x(e,t,r){for(var n=0,a=r.dimensions,o=r.rawExtents,i=0;i<a.length;i++){var l=o[i].span;l&&(n+=p((e[a[i]]-t[i])/l,2))}return n}function g(e,t){for(var r=[],n=t.length,a=0;a<n;a++)r.push({min:1/0,max:-1/0});for(var a=0;a<e.length;a++)for(var o=e[a],i=0;i<n;i++){var l=r[i],s=o[t[i]];l.min>s&&(l.min=s),l.max<s&&(l.max=s)}for(var a=0;a<n;a++)r[a].span=r[a].max-r[a].min;return r}return{OutputType:m,hierarchicalKMeans:function(e,t,r){var o,p,y,v,b,_,j,C,M,w=(c(t)?{clusterCount:t,stepByStep:r}:t)||{clusterCount:2},I=w.clusterCount;if(!(I<2)){var S=function(e,t){var r=l(e);if(r.length<1)throw Error("The input data of clustering should be two-dimension array.");for(var n=r[1],o=[],s=0;s<n;s++)o.push(s);var u=a(t.dimensions,o),d=t.outputType||m.MULTIPLE,c=t.outputClusterIndexDimension;if(d===m.SINGLE&&!i.isNumber(c))throw Error("outputClusterIndexDimension is required as a number.");var p=g(e,u);return{dimensions:u,rawExtents:p,outputType:d,outputClusterIndexDimension:c,outputCentroidDimensions:t.outputCentroidDimensions}}(e,w),k=S.outputType===m.SINGLE,D=n(e,{dimensions:S.dimensions}),F=d(D.length,2);if(k){o=[];var P=S.outputClusterIndexDimension;p=function(e,t){o[e][P]=t},y=function(e){return o[e][P]};for(var A=0;A<D.length;A++)o.push(D[A].slice()),F[A][1]=0,p(A,0)}else p=function(e,t){F[e][0]=t},y=function(e){return F[e][0]};for(var T=f(D,S),E=[T],A=0;A<D.length;A++){var O,L,W=x(D[A],T,S);O=A,L=W,F[O][1]=L}var R=1,N={data:o,centroids:E,isEnd:!1};if(k||(N.clusterAssment=F),w.stepByStep)N.next=function(){return $(),h(N,S),N};else for(;$(),!N.isEnd;);return h(N,S),N}function $(){if(R<I){v=1/0;for(var e,t,r,n,a,o=0;o<E.length;o++){b=[],_=[];for(var i=0;i<D.length;i++)y(i)===o?b.push(D[i]):_.push(F[i][1]);(C=s((j=function(e,t,r){for(var n,a,o,i,l=d(e.length,2),s=function(e,t){for(var r=d(2,t.length),n=0;n<t.length;n++)for(var a=t[n],o=0;o<2;o++)r[o][n]=a.min+a.span*Math.random();return r}(2,g(e,r.dimensions)),u=!0;u;){u=!1;for(var c=0;c<e.length;c++){n=1/0,a=-1;for(var p=0;p<2;p++)(o=x(e[c],s[p],r))<n&&(n=o,a=p);l[c][0]!==a&&(u=!0),l[c][0]=a,l[c][1]=n}for(var c=0;c<2;c++){i=[];for(var p=0;p<l.length;p++)l[p][0]===c&&i.push(e[p]);s[c]=f(i,r)}}return{centroids:s,clusterAssigned:l}}(b,0,S)).clusterAssigned,1))+(M=u(_))<v&&(v=M+C,r=o,n=j.centroids,a=j.clusterAssigned)}for(var i=0;i<a.length;i++)0===a[i][0]?a[i][0]=r:1===a[i][0]&&(a[i][0]=E.length);E[r]=n[0],E.push(n[1]);for(var i=0,o=0;i<D.length&&o<a.length;i++)y(i)===r&&(p(i,a[o][0]),e=i,t=a[o++][1],F[e][1]=t);var l=[];if(!k){for(var i=0;i<E.length;i++){l[i]=[];for(var o=0;o<D.length;o++)y(o)===i&&l[i].push(D[o])}N.pointsInCluster=l}R++}else N.isEnd=!0}}}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(3),n=t.isArray,a=t.size,o=r(4).isNumber;return{normalizeDimensions:function(e,t){return"number"==typeof e?[e]:null==e?t:e},dataPreprocess:function(e,t){var r=(t=t||{}).dimensions,i={};if(null!=r)for(var l=0;l<r.length;l++)i[r[l]]=!0;var s=t.toOneDimensionArray?r?r[0]:0:null;if(!n(e))throw Error("Invalid data type, you should input an array");var u=[],d=a(e);if(1===d.length)for(var l=0;l<d[0];l++){var c=e[l];o(c)&&u.push(c)}else if(2===d.length)for(var l=0;l<d[0];l++){for(var p,m=!0,c=e[l],f=0;f<d[1];f++)p=f,(!r||i.hasOwnProperty(p))&&!o(c[f])&&(m=!1);m&&u.push(null!=s?c[s]:c)}return u},getPrecision:function(e){var t=e.toString(),r=t.indexOf(".");return r<0?0:t.length-1-r}}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=Object.prototype.toString,r=Array.prototype.map;function n(e){return"[object Array]"===t.call(e)}function a(e,t){return e>t?1:e<t?-1:e===t?0:NaN}return{size:function(e){for(var t=[];n(e);)t.push(e.length),e=e[0];return t},isArray:n,zeros:function(e,t){for(var r=[],n=0;n<e;n++){r[n]=[];for(var a=0;a<t;a++)r[n][a]=0}return r},sum:function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t},sumOfColumn:function(e,t){for(var r=0,n=0;n<e.length;n++)r+=e[n][t];return r},ascending:a,bisect:function(e,t,r,n){for(null==r&&(r=0),null==n&&(n=e.length);r<n;){var o=Math.floor((r+n)/2),i=a(e[o],t);if(i>0)n=o;else{if(!(i<0))return o+1;r=o+1}}return r},map:function(e,t,n){if(e&&t)if(e.map&&e.map===r)return e.map(t,n);else{for(var a=[],o=0,i=e.length;o<i;o++)a.push(t.call(n,e[o],o,e));return a}}}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){return{isNumber:function(e){return"number"==typeof(e=null===e?NaN:+e)&&!isNaN(e)},isInteger:function(e){return isFinite(e)&&e===Math.round(e)},quantityExponent:function(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(2),n=t.dataPreprocess,a=t.normalizeDimensions,o={linear:function(e,t){for(var r=t.dimensions[0],n=t.dimensions[1],a=0,o=0,i=0,l=0,s=e.length,u=0;u<s;u++){var d=e[u];a+=d[r],o+=d[n],i+=d[r]*d[n],l+=d[r]*d[r]}for(var c=(s*i-a*o)/(s*l-a*a),p=o/s-c*a/s,m=[],f=0;f<e.length;f++){var d=e[f],h=d.slice();h[r]=d[r],h[n]=c*d[r]+p,m.push(h)}var x="y = "+Math.round(100*c)/100+"x + "+Math.round(100*p)/100;return{points:m,parameter:{gradient:c,intercept:p},expression:x}},linearThroughOrigin:function(e,t){for(var r=t.dimensions[0],n=t.dimensions[1],a=0,o=0,i=0;i<e.length;i++){var l=e[i];a+=l[r]*l[r],o+=l[r]*l[n]}for(var s=o/a,u=[],d=0;d<e.length;d++){var l=e[d],c=l.slice();c[r]=l[r],c[n]=l[r]*s,u.push(c)}var p="y = "+Math.round(100*s)/100+"x";return{points:u,parameter:{gradient:s},expression:p}},exponential:function(e,t){for(var r=t.dimensions[0],n=t.dimensions[1],a=0,o=0,i=0,l=0,s=0,u=0;u<e.length;u++){var d=e[u];d[r],a+=d[n],s+=d[r]*d[n],o+=d[r]*d[r]*d[n],i+=d[n]*Math.log(d[n]),l+=d[r]*d[n]*Math.log(d[n])}for(var c=a*o-s*s,p=Math.pow(Math.E,(o*i-s*l)/c),m=(a*l-s*i)/c,f=[],h=0;h<e.length;h++){var d=e[h],x=d.slice();x[r]=d[r],x[n]=p*Math.pow(Math.E,m*d[r]),f.push(x)}var g="y = "+Math.round(100*p)/100+"e^("+Math.round(100*m)/100+"x)";return{points:f,parameter:{coefficient:p,index:m},expression:g}},logarithmic:function(e,t){for(var r=t.dimensions[0],n=t.dimensions[1],a=0,o=0,i=0,l=0,s=0;s<e.length;s++){var u=e[s];a+=Math.log(u[r]),o+=u[n]*Math.log(u[r]),i+=u[n],l+=Math.pow(Math.log(u[r]),2)}for(var d=(s*o-i*a)/(s*l-a*a),c=(i-d*a)/s,p=[],m=0;m<e.length;m++){var u=e[m],f=u.slice();f[r]=u[r],f[n]=d*Math.log(u[r])+c,p.push(f)}var h="y = "+Math.round(100*c)/100+" + "+Math.round(100*d)/100+"ln(x)";return{points:p,parameter:{gradient:d,intercept:c},expression:h}},polynomial:function(e,t){var r=t.dimensions[0],n=t.dimensions[1],a=t.order;null==a&&(a=2);for(var o=[],i=[],l=a+1,s=0;s<l;s++){for(var u=0,d=0;d<e.length;d++){var c=e[d];u+=c[n]*Math.pow(c[r],s)}i.push(u);for(var p=[],m=0;m<l;m++){for(var f=0,h=0;h<e.length;h++)f+=Math.pow(e[h][r],s+m);p.push(f)}o.push(p)}o.push(i);for(var x=function(e,t){for(var r=0;r<e.length-1;r++){for(var n=r,a=r+1;a<e.length-1;a++)Math.abs(e[r][a])>Math.abs(e[r][n])&&(n=a);for(var o=r;o<e.length;o++){var i=e[o][r];e[o][r]=e[o][n],e[o][n]=i}for(var l=r+1;l<e.length-1;l++)for(var s=e.length-1;s>=r;s--)e[s][l]-=e[s][r]/e[r][r]*e[r][l]}for(var u=Array(t),d=e.length-1,a=e.length-2;a>=0;a--){for(var i=0,r=a+1;r<e.length-1;r++)i+=e[r][a]*u[r];u[a]=(e[d][a]-i)/e[a][a]}return u}(o,l),g=[],s=0;s<e.length;s++){for(var y=0,c=e[s],d=0;d<x.length;d++)y+=x[d]*Math.pow(c[r],d);var v=c.slice();v[r]=c[r],v[n]=y,g.push(v)}for(var b="y = ",s=x.length-1;s>=0;s--)s>1?b+=Math.round(x[s]*Math.pow(10,s+1))/Math.pow(10,s+1)+"x^"+s+" + ":1===s?b+=Math.round(100*x[s])/100+"x + ":b+=Math.round(100*x[s])/100;return{points:g,parameter:x,expression:b}}};return function(e,t,r){var i="number"==typeof r?{order:r}:r||{},l=a(i.dimensions,[0,1]),s=n(t,{dimensions:l}),u=o[e](s,{order:i.order,dimensions:l}),d=l[0];return u.points.sort(function(e,t){return e[d]-t[d]}),u}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t={};return t.max=r(7),t.deviation=r(8),t.mean=r(10),t.median=r(12),t.min=r(14),t.quantile=r(13),t.sampleVariance=r(9),t.sum=r(11),t}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(4).isNumber;return function(e){for(var r=-1/0,n=0;n<e.length;n++)t(e[n])&&e[n]>r&&(r=e[n]);return r}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(9);return function(e){var r=t(e);return r?Math.sqrt(r):r}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(4).isNumber,n=r(10);return function(e){var r=e.length;if(!r||r<2)return 0;if(e.length>=2){for(var a,o=n(e),i=0,l=0;l<e.length;l++)t(e[l])&&(i+=(a=e[l]-o)*a);return i/(e.length-1)}}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(11);return function(e){return e.length?t(e)/e.length:0}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(4).isNumber;return function(e){var r=e.length;if(!r)return 0;for(var n=0,a=0;a<r;a++)t(e[a])&&(n+=e[a]);return n}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(13);return function(e){return t(e,.5)}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){return function(e,t){var r=e.length;if(!r)return 0;if(t<=0||r<2)return e[0];if(t>=1)return e[r-1];var n=(r-1)*t,a=Math.floor(n),o=e[a];return o+(e[a+1]-o)*(n-a)}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(4).isNumber;return function(e){for(var r=1/0,n=0;n<e.length;n++)t(e[n])&&e[n]<r&&(r=e[n]);return r}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(7),n=r(14),a=r(13),o=r(8),i=r(2),l=i.dataPreprocess,s=i.normalizeDimensions,u=r(3),d=u.ascending,c=u.map,p=r(16),m=u.bisect,f=r(17),h={squareRoot:function(e){var t=Math.ceil(Math.sqrt(e.length));return t>50?50:t},scott:function(e,t,r){return Math.ceil((r-t)/(3.5*o(e)*Math.pow(e.length,-1/3)))},freedmanDiaconis:function(e,t,r){return e.sort(d),Math.ceil((r-t)/(2*(a(e,.75)-a(e,.25))*Math.pow(e.length,-1/3)))},sturges:function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}};return function(e,r){for(var a="string"==typeof r?{method:r}:r||{},o=null==a.method?h.squareRoot:h[a.method],i=l(e,{dimensions:s(a.dimensions),toOneDimensionArray:!0}),u=t(i),d=n(i),x=o(i,d,u),g=f(d,u,x),y=g.step,v=g.toFixedPrecision,b=p(+(Math.ceil(d/y)*y).toFixed(v),+(Math.floor(u/y)*y).toFixed(v),y,v),_=b.length,j=Array(_+1),C=0;C<=_;C++)j[C]={},j[C].sample=[],j[C].x0=C>0?b[C-1]:b[C]-d===y?d:b[C]-y,j[C].x1=C<_?b[C]:u-b[C-1]===y?u:b[C-1]+y;for(var C=0;C<i.length;C++)d<=i[C]&&i[C]<=u&&j[m(b,i[C],0,_)].sample.push(i[C]);var e=c(j,function(e){return[+((e.x0+e.x1)/2).toFixed(v),e.sample.length,e.x0,e.x1,e.x0+" - "+e.x1]}),M=c(j,function(e){return[e.x0,e.x1,e.sample.length]});return{bins:j,data:e,customData:M}}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(2).getPrecision;return function(e,r,n,a){var o=arguments.length;o<2?(r=e,e=0,n=1):o<3?n=1:o<4?(n*=1,a=t(n)):a*=1;for(var i=Math.ceil(((r-e)/n).toFixed(a)),l=Array(i+1),s=0;s<i+1;s++)l[s]=+(e+s*n).toFixed(a);return l}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(4);return function(e,r,n){var a=Math.abs(r-e)/n,o=t.quantityExponent(a),i=Math.pow(10,o),l=a/i;l>=Math.sqrt(50)?i*=10:l>=Math.sqrt(10)?i*=5:l>=Math.sqrt(2)&&(i*=2);var s=o<0?-o:0;return{step:+(r>=e?i:-i).toFixed(s),toFixedPrecision:s}}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(5),n=r(19);return{type:"ecStat:regression",transform:function(e){var r,a=e.upstream,o=e.config||{},i=t(o.method||"linear",a.cloneRawData(),{order:o.order,dimensions:n.normalizeExistingDimensions(e,o.dimensions)}),l=i.points,s=o.formulaOn;if(null==s&&(s="end"),"none"!==s){for(var u=0;u<l.length;u++)l[u][2]="start"===s&&0===u||"all"===s||"end"===s&&u===l.length-1?i.expression:"";(r=a.cloneAllDimensionInfo())[2]={}}return[{dimensions:r,data:l}]}}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(3),n=r(4),a=r(20);return{normalizeExistingDimensions:function(e,r){if(null!=r){var n=e.upstream;if(t.isArray(r)){for(var a=[],o=0;o<r.length;o++){var i=n.getDimensionInfo(r[o]);l(i,r[o]),a[o]=i.index}return a}var i=n.getDimensionInfo(r);return l(i,r),i.index}function l(e,t){if(!e)throw Error("Can not find dimension by "+t)}},normalizeNewDimensions:function(e){if(t.isArray(e)){for(var r=[],o=[],i=0;i<e.length;i++){var l=s(e[i]);r.push(l.name),o.push(l.index)}return{name:r,index:o}}if(null!=e)return s(e);function s(e){if(n.isNumber(e))return{index:e};if(a.isObject(e)&&n.isNumber(e.index))return e;throw Error("Illegle new dimensions config. Expect `{ name: string, index: number }`.")}}}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){return{extend:function(e,t){return Object.assign(e,t),e},isObject:function(e){let t=typeof e;return"function"===t||!!e&&"object"===t}}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(15),n=r(19);return{type:"ecStat:histogram",transform:function(e){var r=e.upstream,a=e.config||{},o=t(r.cloneRawData(),{method:a.method,dimensions:n.normalizeExistingDimensions(e,a.dimensions)});return[{dimensions:["MeanOfV0V1","VCount","V0","V1","DisplayableName"],data:o.data},{data:o.customData}]}}}).call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=(function(e){var t=r(1),n=r(4),a=r(19),o=n.isNumber;return{type:"ecStat:clustering",transform:function(e){var r=e.upstream,n=e.config||{},i=n.clusterCount;if(!o(i)||i<=0)throw Error('config param "clusterCount" need to be specified as an interger greater than 1.');if(1===i)return[{},{data:[]}];var l=a.normalizeNewDimensions(n.outputClusterIndexDimension),s=a.normalizeNewDimensions(n.outputCentroidDimensions);if(null==l)throw Error("outputClusterIndexDimension is required as a number.");for(var u=t.hierarchicalKMeans(r.cloneRawData(),{clusterCount:i,stepByStep:!1,dimensions:a.normalizeExistingDimensions(e,n.dimensions),outputType:t.OutputType.SINGLE,outputClusterIndexDimension:l.index,outputCentroidDimensions:(s||{}).index}),d=r.cloneAllDimensionInfo(),c=[],p=0;p<d.length;p++){var m=d[p];c.push(m.name)}if(c[l.index]=l.name,s)for(var p=0;p<s.index.length;p++)null!=s.name[p]&&(c[s.index[p]]=s.name[p]);return[{dimensions:c,data:u.data},{data:u.centroids}]}}}).call(t,r,t,e))||(e.exports=n)}],t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}return r.m=e,r.c=t,r.p="",r(0)}()},53138,(e,t,r)=>{t.exports=e.r(64232)},67585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let n=e.r(32061);function a({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new n.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,r)=>{"use strict";function n(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return n}})},52157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return l}});let n=e.r(43476),a=e.r(74080),o=e.r(63599),i=e.r(9885);function l({moduleIds:e}){if("undefined"!=typeof window)return null;let t=o.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let n=t.reactLoadableManifest;for(let t of e){if(!n[t])continue;let e=n[t].files;r.push(...e)}}return 0===r.length?null:(0,n.jsx)(n.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,i.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,n.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,a.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return u}});let n=e.r(43476),a=e.r(71645),o=e.r(67585),i=e.r(52157);function l(e){return{default:e&&"default"in e?e.default:e}}let s={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},u=function(e){let t={...s,...e},r=(0,a.lazy)(()=>t.loader().then(l)),u=t.loading;function d(e){let l=u?(0,n.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,s=!t.ssr||!!t.loading,d=s?a.Suspense:a.Fragment,c=t.ssr?(0,n.jsxs)(n.Fragment,{children:["undefined"==typeof window?(0,n.jsx)(i.PreloadChunks,{moduleIds:t.modules}):null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(d,{...s?{fallback:l}:{},children:c})}return d.displayName="LoadableComponent",d}},70703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}});let n=e.r(55682)._(e.r(69093));function a(e,t){let r={};"function"==typeof e&&(r.loader=e);let a={...r,...t};return(0,n.default)({...a,modules:a.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},98144,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(32109),a=e.i(41143),o=e.i(53138),i=e.i(96631);let l=/\b(\w)/g,s=["#A3651E","#2F8CBF","#C4AB4B","#72CED5","#C8E9B6","#7E1700","#1549A2"],u=["triangle","diamond","rect","roundRect","pin","arrow","circle"],d={gdp:"name",region:"region",income:"income"};var c=e.i(71933),p=e.i(6487),m=e.i(355),f=e.i(9829),h=e.i(16508),x=e.i(93611),g=e.i(91996),y=e.i(19153),v=e.i(95682),b=e.i(70105),_=e.i(80600),j=e.i(76552),C=e.i(37563),M=e.i(63250);function w({min:e},t=1){return+(e<0||e-t>0?e-t:e>.1?e:0).toFixed(2)}function I({max:e},t=1){return+(e+t).toFixed(2)}function S(e,t,r){let n=e[0]>1900?0:Math.max(.01,.02*Math.abs(e[0]-e[1]));r?(t.min=+(e[0]-n).toFixed(2),t.max=+(e[2]+n).toFixed(2)):(t.min=e=>w(e,n),t.max=e=>I(e,n))}function k(e,t){if("year"===t.base)return e;if(t.isGlobal&&t.log)return(0,i.formatNumber)(Math.round(Math.E**e));let r=Math.abs(e),n=r<1?3:2;return r>1e3?r>2e9?e.toExponential(1):r>1e9?(e/1e9).toFixed(n)+"B":r<1e6?(e/1e3).toFixed(n)+"K":(e/1e6).toFixed(n)+"M":r%1==0?""+e:e.toFixed(n)}let D={min:w,max:I},F={},P={textGapX:30,textGapY:50,top:50,topNoLabel:40,left:95,bottom:20,gapX:73,gapY:85,legendWidth:0},A={current:[]};function T(e,t){let r=P[""===A.current[0].label?"topNoLabel":"top"],n=(e.height-(r+P.bottom+P.gapY*t[0].nYLevels))/t[0].nYLevels,a=(e.width-(P.left+P.legendWidth+P.gapX*t[0].nXLevels))/t[0].nXLevels,o=[];return t.forEach(e=>{e.left=e.xIndex?a*e.xIndex+P.gapX*(e.xIndex+1)+20:P.left,e.top=e.yIndex?n*e.yIndex+P.gapY*(e.yIndex+1)-35:r,e.height=n,e.width=a,o.push({label:e.label,left:e.left-P.textGapX,top:e.top-P.textGapY,nCountries:e.nCountries})}),{title:o,grid:t}}function E({input:e,view:n,countryInfo:a,modeOverride:o}){(0,r.useEffect)(()=>{(0,c.use)([f.DatasetComponent,y.TitleComponent,x.GridComponent,b.TooltipComponent,v.ToolboxComponent,g.LegendComponent,m.LineChart,_.CanvasRenderer,h.GraphicComponent])},[]);let l=(0,r.useContext)(M.FilterContext),s=(0,r.useContext)(M.FilterActionContext),{mode:u}=(0,C.useColorScheme)(),d=o||u,{series:w,fits:I,panels:E,range:O,varIndices:L}=e;A.current=E;let W=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=W.current?(0,p.init)(W.current,d,{renderer:"canvas"}):null,t=()=>{if(e){let t=e.getDom().getBoundingClientRect(),r=e.getOption().grid;r&&r.length&&(e.setOption(T(t,r)),e.resize())}};return e&&e.on("click",e=>{if(Array.isArray(e.data)){let t=e.data[e.data.length-1];t in a&&s({key:"countries",value:{[t]:!0}})}}),window.addEventListener("resize",t),()=>{e&&e.dispose(),window.removeEventListener("resize",t)}},[d,a,s]);let R=(0,r.useCallback)(({marker:e,seriesName:t,value:r})=>{let o="country"===n.color&&a[r[L.country]];return'<div class="tooltip-table">'+(n.color?e+(o?o.name+" ("+o.ISO_A3+")":t):"")+"<table>"+(o?"<tr><td>World Bank Region</td><td><strong>"+o.region+"</strong></td></tr>":"")+("year"in L&&"year"!==n.x.base&&"year"!==n.y.base?"<tr><td>Year</td><td><strong>"+r[L.year]+"</strong></td></tr>":"")+(n.symbol?"<tr><td>"+n.symbol+"</td><td><strong>"+r[L[n.symbol in L?n.symbol:"level"]]+"</strong></td></tr>":"")+"<tr><td>"+n.x.name+(n.x.isGlobal?"":`<br><code class="variable-description">${n.x.description}</code>`)+"</td><td><strong>"+(0,i.formatNumber)(r[L.x],n.x)+"</strong></td></tr><tr><td>"+n.y.name+(n.y.isGlobal?"":`<br><code class="variable-description">${n.y.description}</code>`)+"</td><td><strong>"+(0,i.formatNumber)(r[L.y],n.y)+"</strong></td></tr></table></div>"},[n,a,L]);return(0,r.useEffect)(()=>{if(W.current){let e=(0,p.getInstanceByDom)(W.current);if(e)if(w.length){S(O.x,F,n.lock_range),S(O.y,D,n.lock_range);let t="dark"===d?{bg:"#121212",text:"#ffffff"}:{bg:"#ffffff",text:"#000000"};P.legendWidth=0,n.color&&(w.forEach(e=>{let t=e.name.length;t>P.legendWidth&&(P.legendWidth=t)}),P.legendWidth+=4,P.legendWidth*=4.6);let r=W.current.getBoundingClientRect(),o=r.height<500||r.width<800?.7:1;A.current=E;let{title:s,grid:u}=T(r,E);e.setOption({darkMode:"dark"===d,legend:{top:"55",align:"right",right:"right",orient:"vertical",type:"scroll",data:n.color?[...new Set(w.map(e=>e.name).sort())]:[]},backgroundColor:t.bg,tooltip:{textStyle:{color:t.text},backgroundColor:t.bg,borderWidth:0,axisPointer:{type:"line"},formatter:R,position:i.tooltipPlacer,appendToBody:!0},xAxis:E.map((e,t)=>({type:"value",gridIndex:t,axisLabel:{formatter:e=>k(e,n.x)},...F})),yAxis:E.map((e,t)=>({type:"value",gridIndex:t,axisLabel:{formatter:e=>k(e,n.y)},...D})),graphic:[{type:"text",rotation:Math.PI/2,left:20,top:"center",width:"100%",style:{text:n.y.name,fill:t.text,font:`bold ${o}em "Roboto","Helvetica","Arial",sans-serif`,textAlign:"center"}},{type:"text",left:"center",bottom:20,style:{text:n.x.name,fill:t.text,font:`bold ${o}em "Roboto","Helvetica","Arial",sans-serif`,textAlign:"center"}}],title:s.map(({label:e,top:t,left:r,nCountries:n})=>{let o=w[0].data&&w[0].data.length?w[0].data[0]:[];return{text:e,subtext:(1===n&&o[L.country]in a?`Data from ${a[o[L.country]].name}`:`Observations from ${n} ${1===n?"country":"countries"}`)+(l&&l.sectors.length<5?", sector = "+l.sectors.join(", "):"")+(l&&1===l.sexes.length?", sex = "+l.sexes[0]:""),top:t,left:r,contain:!0,subtextStyle:{align:"right",verticalAlign:"center",width:"100%"},textStyle:{fontSize:"1em",fontWeight:"normal"}}}),grid:u,series:I.length?[...w,...I]:w,toolbox:{feature:{saveAsImage:{name:"gender_growth_gap_"+n.y+(n.x?"_"+n.x:"")}}}},!0,!0)}else e.clear()}},[e,d,R,E,I,O,w,n,l,a,L.country]),setTimeout(()=>window.dispatchEvent(new Event("resize")),100),(0,t.jsx)(j.Box,{ref:W,sx:{width:"100%",height:"100%",minWidth:500*O.panel[0]+"px",minHeight:300*O.panel[1]+"px",overflow:"hidden"}})}var O=e.i(66796);let L=(0,e.i(70703).default)(()=>e.A(78878),{loadableGenerated:{modules:[5255]}});function W({full:e,view:r,final:n,modeOverride:a}){let o=1/n.range.panel[0]*99+"%",i=1/n.range.panel[1]*99+"%";return n.series.map(l=>(0,t.jsx)(j.Box,{sx:{height:i,width:o},children:(0,t.jsx)(L,{input:{series:[l],range:n.range,varIndices:n.varIndices},map:e.map,countryInfo:e.countryInfo,view:r,modeOverride:a})},l.id))}function R(e,t){return e?e in t?"level":e:""}function N({mode:e}){let c=(0,r.useContext)(n.DataContext),p=(0,r.useContext)(M.ViewContext),m=(0,r.useContext)(M.FilteredContext),f=(0,r.useMemo)(()=>(function(e,t,r,n){var c;let p,{panelX:m,panelY:f,color:h,symbol:x}=r,g=m?(0,i.unique)(e,m):[""],y=f?(0,i.unique)(e,f):[""],v=g.length,b=y.length,_=[],j=[],C=[],M={},w="gdp"===t.color_source?"color":t.color_source+"_color",I=[];"all"==t.time_agg&&I.push("year"),t.as_plot&&(h&&I.push(h),h&&x&&(I.push(x),(0,i.unique)(e,x).forEach((e,t)=>{M[e]={symbol:u[t%7],opacity:.8}})));let S=t.as_plot?{type:"line",symbolSize:10,color:h?"":"#a5cdff",itemStyle:{opacity:1},lineStyle:{width:1,opacity:1},emphasis:{focus:"series",lineStyle:{width:5,opacity:1}}}:{type:"map",roam:!0,map:"countries",nameProperty:"ISO_A3",itemStyle:{areaColor:"#00000000",borderWidth:1},select:{disabled:!0},projection:{project:e=>[e[0]/180*Math.PI,-Math.log(Math.tan((Math.PI/2+e[1]/180*Math.PI)/2))],unproject:e=>[180*e[0]/Math.PI,360/Math.PI*Math.atan(Math.exp(e[1]))-90]}},k=-1,D={x:[1/0,-1/0,-1/0],y:[1/0,-1/0,-1/0],panel:[v,y.length]},F={},P={y:t.y.baseFormula()},A={n_years:"distinct(d.year)",y:`${a.selectableVariables.includes(t.y.base)||t.y.isGlobal?"max":"sum"}(d.y)`,y_sum:"max(d.y_sum)",year:"max(d.year)"};t.as_plot&&t.x.base&&(A.x=`${a.selectableVariables.includes(t.x.base)||t.x.isGlobal?"max":"sum"}(d.x)`,A.x_sum="max(d.x_sum)",P.x=t.x.baseFormula());let T=t.color&&"country"!==t.color?(c=t.color,p={},e.ungroup().rollup({l:`array_agg_distinct(d.${-1===e.columnIndex(c)?"level":c})`}).array("l")[0].forEach((e,t)=>p[e]=t),p):{},E={y:t.y.percent?"mean(d.y)":"mean(d.y / d.n_years)",year:"max(d.year)"};t.as_plot&&t.x.base&&(E.x=t.x.percent?"mean(d.x)":"mean(d.x / d.n_years)");let O={y:t.y.formula("y")},L={};t.as_plot&&t.x.base&&(L.x=t.x.formula("x"));let W=t.as_plot?[...I]:["country"],R=W.includes("country")&&t.country_center&&t.as_plot&&"all"===t.time_agg,N={},$={x:!1,y:!1};t.y.summary.variable&&(N.y=t.y.summaryFormula("y"),"/"===t.y.summary.adjust&&($.y=!0,N.y_off=t.y.offLevelFormula("y"),A.y_off="max(d.y_off)"),t.y.summary.overall||(A.y_summary_sum="max(d.y_summary_sum)"),$.y&&t.y.percent&&(O.y_off=`d.y_off / d.y${t.y.summary.overall?"":"_summary"}_sum * 100`)),t.as_plot&&t.x.summary.variable&&(N.x=t.x.summaryFormula("x"),"/"===t.x.summary.adjust&&($.x=!0,N.x_off=t.x.offLevelFormula("x"),A.x_off="max(d.x_off)"),t.x.summary.overall||(A.x_summary_sum="max(d.x_summary_sum)"),$.x&&t.x.percent&&(L.x_off=`d.x_off / d.x${t.x.summary.overall?"":"_summary"}_sum * 100`));let z="mean"===t.time_agg||"all"===t.time_agg&&!t.as_plot,B=[];t.as_plot&&"all"===t.time_agg&&B.push("year"),("country"===t.color||"country"===t.symbol)&&B.push("country");let G=e.groupby(B).derive({x_sum:`sum(d.${t.x.base})`,y_sum:`sum(d.${t.y.base})`});!t.within_split&&(N.x&&(G=G.groupby([...B,t.x.summary.variable].filter(e=>!!e)).derive({x_summary_sum:`sum(d.${t.x.base})`})),N.y&&(G=G.groupby([...B,t.y.summary.variable].filter(e=>!!e)).derive({y_summary_sum:`sum(d.${t.y.base})`})));let V=G.groupby(W);return g.forEach((e,r)=>{y.forEach((u,c)=>{k++;let p=((e?a.variableInfo[t.x_panels].label+": "+e+(u?", ":""):"")+(u?a.variableInfo[t.y_panels].label+": "+u:"")).replace("_"," ").replace(l,e=>e.toUpperCase()),g=V;if(m&&(g=g.filter(`d.${m} == '${e}'`)),f&&(g=g.filter(`d.${f} == '${u}'`)),!g.numRows())return;t.within_split&&(N.x&&(g=g.groupby([...B,t.x.summary.variable].filter(e=>!!e)).derive({x_summary_sum:`sum(d.${t.x.base})`})),N.y&&(g=g.groupby([...B,t.y.summary.variable].filter(e=>!!e)).derive({y_summary_sum:`sum(d.${t.y.base})`})));let y=(0,i.unique)(g,"country").length,G={...A};if(g=g.derive(P),N.y||N.x?(g=g.derive(N).groupby([...B,...W,t.x.summary.variable,t.y.summary.variable].filter(e=>!!e)).rollup(G),L.x&&(g=g.groupby([...B,t.x.summary.variable].filter(e=>!!e)).derive(L)),O.y&&(g=g.groupby([...B,t.y.summary.variable].filter(e=>!!e)).derive(O)),g=g.groupby(W).rollup(G),$.y&&(g=g.derive({y:"d.y_off ? d.y / d.y_off : 0"})),$.x&&(g=g.derive({x:"d.x_off ? d.x / d.x_off : 0"}))):(g=g.rollup(G),L.x&&(g=g.groupby([...B,t.x.summary.variable].filter(e=>!!e)).derive(L)),O.y&&(g=g.groupby([...B,t.y.summary.variable].filter(e=>!!e)).derive(O))),R&&(g=g.groupby("country").derive({y:"d.y - mean(d.y)",x:"d.x - mean(d.x)"})),"map"===S.type){z&&(g=g.groupby(["country"]).rollup(E));let t={...S,geoIndex:k};t.name=p,t.id=e+u;let r=[];g.scan(e=>{r.push({name:g.get("country",e),value:g.get("y",e),year:z?"":g.get("year",e)})}),t.data=r,_.push(t)}else{let a=I.includes("year");z&&(delete E.year,g=g.groupby(I.filter(e=>"year"!==e)).rollup(E),a&&I.splice(I.indexOf("year"),1)),g=g.groupby(I.filter((e,t)=>!!t||"year"!==e)).select(["x","y",...I,a||z?"":"year"].filter(e=>""!==e)),a&&(g=g.orderby("year")),(g=g.reify()).columnNames().forEach((e,t)=>F[e]=t);let i=[];if(g.partitions().forEach(r=>{let a={...S,xAxisIndex:k,yAxisIndex:k};if(a.id=e+u,h){let e=g.get(h,r[0]);if(a.id+=e,"country"===h)if(e in n){let r=n[e];a.name=r[d[t.color_source]],a.color=r[w]||"#898989"}else a.name=e||p,a.color="#898989";else a.name=e,a.color=s[T[e]];if(x){a.name+=", "+g.get(x,r[0]);let e=g.get(x,r[0]),t=M[e];a.id+=e,a.symbol=t.symbol,a.lineStyle&&a.itemStyle&&(a.lineStyle.opacity=a.itemStyle.opacity=t.opacity)}else a.symbol="circle"}else a.name="series";if(a.name){let e=[];a.data=e,r.forEach(t=>{let r=Object.values(g.object(t));i.push([r[0],r[1]]),e.push(r)}),_.push(a)}}),C.push({label:p,top:0,height:0,left:0,width:0,yIndex:c,nYLevels:b,xIndex:r,nXLevels:v,nCountries:y}),"none"!==t.regression){let e=(0,o.regression)(t.regression,i,2);j.push({name:"fit",type:"line",color:"#898989",smooth:!0,showSymbol:!1,data:e.points,xAxisIndex:k,yAxisIndex:k,lineStyle:{width:1}})}}let Y=g.ungroup().rollup({value:"[min(d.y), quantile(d.y, .97), max(d.y)]"}).array("value")[0];if(D.y[0]=Math.min(D.y[0],Y[0]),D.y[1]=Math.max(D.y[1],Y[1]),D.y[2]=Math.max(D.y[2],Y[2]),t.as_plot){let e=g.ungroup().rollup({value:"[min(d.x), quantile(d.x, .97), max(d.x)]"}).array("value")[0];D.x[0]=Math.min(D.x[0],e[0]),D.x[1]=Math.max(D.x[1],e[1]),D.x[2]=Math.max(D.x[2],e[2])}})}),t.as_plot?{series:_,fits:j,panels:C,range:D,varIndices:F}:{series:_,range:D,varIndices:F}})(m,p,{panelX:R(p.x_panels,c.levels.demo_segments),panelY:R(p.y_panels,c.levels.demo_segments),color:R(p.color,c.levels.demo_segments),symbol:R(p.symbol,c.levels.demo_segments)},c.countryInfo),[p,m,c.levels.demo_segments,c.countryInfo]);return p.as_plot?(0,t.jsx)(E,{input:f,view:p,countryInfo:c.countryInfo,modeOverride:e}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O.Typography,{variant:"h6",sx:{position:"absolute",width:"100%",textAlign:"center"},children:p.y.name}),(0,t.jsx)(j.Box,{sx:{height:"100%",display:"flex",flexWrap:"wrap",pt:5,minWidth:500*f.range.panel[0]+"px",minHeight:300*f.range.panel[1]+"px"},children:(0,t.jsx)(W,{view:p,full:c,final:f,modeOverride:e})})]})}e.s(["DataDisplay",()=>N],98144)}]);